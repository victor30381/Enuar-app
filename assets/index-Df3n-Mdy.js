(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function N0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function Qb(){if(L_)return pl;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=n,pl.jsxs=n,pl}var P_;function Kb(){return P_||(P_=1,xd.exports=Qb()),xd.exports}var x=Kb(),Dd={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function Yb(){if(z_)return bt;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function B(S){return S===null||typeof S!="object"?null:(S=D&&S[D]||S["@@iterator"],typeof S=="function"?S:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,tt={};function nt(S,L,W){this.props=S,this.context=L,this.refs=tt,this.updater=W||X}nt.prototype.isReactComponent={},nt.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},nt.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function ct(){}ct.prototype=nt.prototype;function st(S,L,W){this.props=S,this.context=L,this.refs=tt,this.updater=W||X}var Ct=st.prototype=new ct;Ct.constructor=st,J(Ct,nt.prototype),Ct.isPureReactComponent=!0;var At=Array.isArray;function _t(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(S,L,W){var et=W.ref;return{$$typeof:r,type:S,key:L,ref:et!==void 0?et:null,props:W}}function V(S,L){return R(S.type,L,S.props)}function O(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function k(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(W){return L[W]})}var I=/\/+/g;function ee(S,L){return typeof S=="object"&&S!==null&&S.key!=null?k(""+S.key):L.toString(36)}function he(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(_t,_t):(S.status="pending",S.then(function(L){S.status==="pending"&&(S.status="fulfilled",S.value=L)},function(L){S.status==="pending"&&(S.status="rejected",S.reason=L)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function G(S,L,W,et,vt){var Tt=typeof S;(Tt==="undefined"||Tt==="boolean")&&(S=null);var Lt=!1;if(S===null)Lt=!0;else switch(Tt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(S.$$typeof){case r:case t:Lt=!0;break;case T:return Lt=S._init,G(Lt(S._payload),L,W,et,vt)}}if(Lt)return vt=vt(S),Lt=et===""?"."+ee(S,0):et,At(vt)?(W="",Lt!=null&&(W=Lt.replace(I,"$&/")+"/"),G(vt,L,W,"",function(rs){return rs})):vt!=null&&(O(vt)&&(vt=V(vt,W+(vt.key==null||S&&S.key===vt.key?"":(""+vt.key).replace(I,"$&/")+"/")+Lt)),L.push(vt)),1;Lt=0;var ae=et===""?".":et+":";if(At(S))for(var oe=0;oe<S.length;oe++)et=S[oe],Tt=ae+ee(et,oe),Lt+=G(et,L,W,Tt,vt);else if(oe=B(S),typeof oe=="function")for(S=oe.call(S),oe=0;!(et=S.next()).done;)et=et.value,Tt=ae+ee(et,oe++),Lt+=G(et,L,W,Tt,vt);else if(Tt==="object"){if(typeof S.then=="function")return G(he(S),L,W,et,vt);throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function rt(S,L,W){if(S==null)return S;var et=[],vt=0;return G(S,et,"","",function(Tt){return L.call(W,Tt,vt++)}),et}function ht(S){if(S._status===-1){var L=S._result;L=L(),L.then(function(W){(S._status===0||S._status===-1)&&(S._status=1,S._result=W)},function(W){(S._status===0||S._status===-1)&&(S._status=2,S._result=W)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var Ut=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},jt={map:rt,forEach:function(S,L,W){rt(S,function(){L.apply(this,arguments)},W)},count:function(S){var L=0;return rt(S,function(){L++}),L},toArray:function(S){return rt(S,function(L){return L})||[]},only:function(S){if(!O(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return bt.Activity=A,bt.Children=jt,bt.Component=nt,bt.Fragment=n,bt.Profiler=l,bt.PureComponent=st,bt.StrictMode=s,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,bt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return N.H.useMemoCache(S)}},bt.cache=function(S){return function(){return S.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(S,L,W){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var et=J({},S.props),vt=S.key;if(L!=null)for(Tt in L.key!==void 0&&(vt=""+L.key),L)!w.call(L,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&L.ref===void 0||(et[Tt]=L[Tt]);var Tt=arguments.length-2;if(Tt===1)et.children=W;else if(1<Tt){for(var Lt=Array(Tt),ae=0;ae<Tt;ae++)Lt[ae]=arguments[ae+2];et.children=Lt}return R(S.type,vt,et)},bt.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},bt.createElement=function(S,L,W){var et,vt={},Tt=null;if(L!=null)for(et in L.key!==void 0&&(Tt=""+L.key),L)w.call(L,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(vt[et]=L[et]);var Lt=arguments.length-2;if(Lt===1)vt.children=W;else if(1<Lt){for(var ae=Array(Lt),oe=0;oe<Lt;oe++)ae[oe]=arguments[oe+2];vt.children=ae}if(S&&S.defaultProps)for(et in Lt=S.defaultProps,Lt)vt[et]===void 0&&(vt[et]=Lt[et]);return R(S,Tt,vt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(S){return{$$typeof:g,render:S}},bt.isValidElement=O,bt.lazy=function(S){return{$$typeof:T,_payload:{_status:-1,_result:S},_init:ht}},bt.memo=function(S,L){return{$$typeof:_,type:S,compare:L===void 0?null:L}},bt.startTransition=function(S){var L=N.T,W={};N.T=W;try{var et=S(),vt=N.S;vt!==null&&vt(W,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(_t,Ut)}catch(Tt){Ut(Tt)}finally{L!==null&&W.types!==null&&(L.types=W.types),N.T=L}},bt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},bt.use=function(S){return N.H.use(S)},bt.useActionState=function(S,L,W){return N.H.useActionState(S,L,W)},bt.useCallback=function(S,L){return N.H.useCallback(S,L)},bt.useContext=function(S){return N.H.useContext(S)},bt.useDebugValue=function(){},bt.useDeferredValue=function(S,L){return N.H.useDeferredValue(S,L)},bt.useEffect=function(S,L){return N.H.useEffect(S,L)},bt.useEffectEvent=function(S){return N.H.useEffectEvent(S)},bt.useId=function(){return N.H.useId()},bt.useImperativeHandle=function(S,L,W){return N.H.useImperativeHandle(S,L,W)},bt.useInsertionEffect=function(S,L){return N.H.useInsertionEffect(S,L)},bt.useLayoutEffect=function(S,L){return N.H.useLayoutEffect(S,L)},bt.useMemo=function(S,L){return N.H.useMemo(S,L)},bt.useOptimistic=function(S,L){return N.H.useOptimistic(S,L)},bt.useReducer=function(S,L,W){return N.H.useReducer(S,L,W)},bt.useRef=function(S){return N.H.useRef(S)},bt.useState=function(S){return N.H.useState(S)},bt.useSyncExternalStore=function(S,L,W){return N.H.useSyncExternalStore(S,L,W)},bt.useTransition=function(){return N.H.useTransition()},bt.version="19.2.3",bt}var j_;function Tm(){return j_||(j_=1,Dd.exports=Yb()),Dd.exports}var mt=Tm();const x0=N0(mt);var Od={exports:{}},yl={},Md={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function $b(){return B_||(B_=1,(function(r){function t(G,rt){var ht=G.length;G.push(rt);t:for(;0<ht;){var Ut=ht-1>>>1,jt=G[Ut];if(0<l(jt,rt))G[Ut]=rt,G[ht]=jt,ht=Ut;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var rt=G[0],ht=G.pop();if(ht!==rt){G[0]=ht;t:for(var Ut=0,jt=G.length,S=jt>>>1;Ut<S;){var L=2*(Ut+1)-1,W=G[L],et=L+1,vt=G[et];if(0>l(W,ht))et<jt&&0>l(vt,W)?(G[Ut]=vt,G[et]=ht,Ut=et):(G[Ut]=W,G[L]=ht,Ut=L);else if(et<jt&&0>l(vt,ht))G[Ut]=vt,G[et]=ht,Ut=et;else break t}}return rt}function l(G,rt){var ht=G.sortIndex-rt.sortIndex;return ht!==0?ht:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],T=1,A=null,D=3,B=!1,X=!1,J=!1,tt=!1,nt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Ct(G){for(var rt=n(_);rt!==null;){if(rt.callback===null)s(_);else if(rt.startTime<=G)s(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=n(_)}}function At(G){if(J=!1,Ct(G),!X)if(n(y)!==null)X=!0,_t||(_t=!0,k());else{var rt=n(_);rt!==null&&he(At,rt.startTime-G)}}var _t=!1,N=-1,w=5,R=-1;function V(){return tt?!0:!(r.unstable_now()-R<w)}function O(){if(tt=!1,_t){var G=r.unstable_now();R=G;var rt=!0;try{t:{X=!1,J&&(J=!1,ct(N),N=-1),B=!0;var ht=D;try{e:{for(Ct(G),A=n(y);A!==null&&!(A.expirationTime>G&&V());){var Ut=A.callback;if(typeof Ut=="function"){A.callback=null,D=A.priorityLevel;var jt=Ut(A.expirationTime<=G);if(G=r.unstable_now(),typeof jt=="function"){A.callback=jt,Ct(G),rt=!0;break e}A===n(y)&&s(y),Ct(G)}else s(y);A=n(y)}if(A!==null)rt=!0;else{var S=n(_);S!==null&&he(At,S.startTime-G),rt=!1}}break t}finally{A=null,D=ht,B=!1}rt=void 0}}finally{rt?k():_t=!1}}}var k;if(typeof st=="function")k=function(){st(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ee=I.port2;I.port1.onmessage=O,k=function(){ee.postMessage(null)}}else k=function(){nt(O,0)};function he(G,rt){N=nt(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(G){switch(D){case 1:case 2:case 3:var rt=3;break;default:rt=D}var ht=D;D=rt;try{return G()}finally{D=ht}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=D;D=G;try{return rt()}finally{D=ht}},r.unstable_scheduleCallback=function(G,rt,ht){var Ut=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ut+ht:Ut):ht=Ut,G){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ht+jt,G={id:T++,callback:rt,priorityLevel:G,startTime:ht,expirationTime:jt,sortIndex:-1},ht>Ut?(G.sortIndex=ht,t(_,G),n(y)===null&&G===n(_)&&(J?(ct(N),N=-1):J=!0,he(At,ht-Ut))):(G.sortIndex=jt,t(y,G),X||B||(X=!0,_t||(_t=!0,k()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var rt=D;return function(){var ht=D;D=rt;try{return G.apply(this,arguments)}finally{D=ht}}}})(Vd)),Vd}var q_;function Xb(){return q_||(q_=1,Md.exports=$b()),Md.exports}var kd={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function Wb(){if(H_)return $e;H_=1;var r=Tm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,T)},$e.flushSync=function(y){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=T,s.d.f()}},$e.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},$e.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},$e.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:B}):T==="script"&&s.d.X(y,{crossOrigin:A,integrity:D,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$e.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},$e.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin);s.d.L(y,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$e.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},$e.requestFormReset=function(y){s.d.r(y)},$e.unstable_batchedUpdates=function(y,_){return y(_)},$e.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var F_;function D0(){if(F_)return kd.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=Wb(),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function Jb(){if(G_)return yl;G_=1;var r=Xb(),t=Tm(),n=D0();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),ct=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),At=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case nt:return"Profiler";case tt:return"StrictMode";case At:return"Suspense";case _t:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case st:return e.displayName||"Context";case ct:return(e._context.displayName||"Context")+".Consumer";case Ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:ee(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return ee(e(i))}catch{}}return null}var he=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ut=[],jt=-1;function S(e){return{current:e}}function L(e){0>jt||(e.current=Ut[jt],Ut[jt]=null,jt--)}function W(e,i){jt++,Ut[jt]=e.current,e.current=i}var et=S(null),vt=S(null),Tt=S(null),Lt=S(null);function ae(e,i){switch(W(Tt,i),W(vt,e),W(et,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=a_(i),e=o_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(et),W(et,e)}function oe(){L(et),L(vt),L(Tt)}function rs(e){e.memoizedState!==null&&W(Lt,e);var i=et.current,a=o_(i,e.type);i!==a&&(W(vt,e),W(et,a))}function Ws(e){vt.current===e&&(L(et),L(vt)),Lt.current===e&&(L(Lt),fl._currentValue=ht)}var Js,Zs;function Zn(e){if(Js===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Js=i&&i[1]||"",Zs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+e+Zs}var ho=!1;function ss(e,i){if(!e||ho)return"";ho=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(e,[],$)}else{try{$.call()}catch(F){q=F}e.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var Q=`
`+C[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ho=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Zn(a):""}function fo(e,i){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==i&&i!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return ss(e.type,!1);case 11:return ss(e.type.render,!1);case 1:return ss(e.type,!0);case 31:return Zn("Activity");default:return""}}function mo(e){try{var i="",a=null;do i+=fo(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,sr=r.unstable_cancelCallback,Dh=r.unstable_shouldYield,tu=r.unstable_requestPaint,tn=r.unstable_now,as=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,po=r.unstable_UserBlockingPriority,ar=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,eu=r.unstable_IdlePriority,nu=r.log,iu=r.unstable_setDisableYieldValue,Ln=null,ze=null;function bn(e){if(typeof nu=="function"&&iu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ln,e)}catch{}}var me=Math.clz32?Math.clz32:su,ru=Math.log,ta=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(ru(e)/ta|0)|0}var ti=256,os=262144,Ee=4194304;function ei(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(p&=E,p!==0?h=ei(p):a||(a=E&~e,a!==0&&(h=ei(a))))):(E=o&~f,E!==0?h=ei(E):p!==0?h=ei(p):a||(a=o&~e,a!==0&&(h=ei(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Pn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Mh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ii(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ls(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,i,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-me(a),$=1<<Q;E[Q]=0,C[Q]=-1;var q=j[Q];if(q!==null)for(j[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}a&=~$}o!==0&&us(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~i))}function us(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-me(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function yo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-me(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function _o(e,i){var a=i&-i;return a=(a&42)!==0?1:cs(a),(a&(e.suspendedLanes|i))!==0?0:a}function cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:x_(e.type))}function zn(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var jn=Math.random().toString(36).slice(2),Te="__reactFiber$"+jn,ke="__reactProps$"+jn,ri="__reactContainer$"+jn,ea="__reactEvents$"+jn,kh="__reactListeners$"+jn,lu="__reactHandles$"+jn,uu="__reactResources$"+jn,si="__reactMarker$"+jn;function na(e){delete e[Te],delete e[ke],delete e[ea],delete e[kh],delete e[lu]}function ai(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ri]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=m_(e);e!==null;){if(a=e[Te])return a;e=m_(e)}return i}e=a,a=e.parentNode}return null}function Sn(e){if(e=e[Te]||e[ri]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function oi(e){var i=e[uu];return i||(i=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function be(e){e[si]=!0}var vo=new Set,Eo={};function li(e,i){ui(e,i),ui(e+"Capture",i)}function ui(e,i){for(Eo[e]=i,e=0;e<i.length;e++)vo.add(i[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},So={};function cu(e){return ve.call(So,e)?!0:ve.call(bo,e)?!1:To.test(e)?So[e]=!0:(bo[e]=!0,!1)}function ia(e,i,a){if(cu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function dn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Se(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function or(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ao(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=or(e)?"checked":"value";e._valueTracker=Ao(e,i,""+e[i])}}function hs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=or(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fs=/[\n"\\]/g;function rn(e){return e.replace(fs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ra(e,i,a,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),i!=null?p==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),i!=null?wo(e,p,Ue(i)):a!=null?wo(e,p,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function hu(e,i,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qt(e)}function wo(e,i,a){i==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function lr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function fu(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function ur(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(he(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||du.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Io(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Ro(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Ro(e,f,i[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return cr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Co=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hr=null,hi=null;function ds(e){var i=Sn(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(s(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&hs(o)}break t;case"textarea":fu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&lr(e,!!a.multiple,i,!1)}}}var oa=!1;function fr(e,i,a){if(oa)return e(i,a);oa=!0;try{var o=e(i);return o}finally{if(oa=!1,(hr!==null||hi!==null)&&(oc(),hr&&(i=hr,e=hi,hi=hr=null,ds(i),e)))for(i=0;i<e.length;i++)ds(e[i])}}function qn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(wn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){ms=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{ms=!1}var fi=null,No=null,gs=null;function xo(){if(gs)return gs;var e,i=No,a=i.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&i[a-o]===h[f-o];o++);return gs=h.slice(e,1<o?1-o:void 0)}function ps(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Hn(){return!1}function je(e){function i(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Hn,this.isPropagationStopped=Hn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),i}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=je(Mi),dr=A({},Mi,{view:0,detail:0}),Do=je(dr),mr,la,mi,ua=A({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(mr=e.screenX-mi.screenX,la=e.screenY-mi.screenY):la=mr=0,mi=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Oo=je(ua),ys=A({},ua,{dataTransfer:0}),gu=je(ys),pu=A({},dr,{relatedTarget:0}),_s=je(pu),Mo=A({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=je(Mo),ca=A({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=je(ca),vu=A({},Mi,{data:0}),gi=je(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=bu[e])?!!i[e]:!1}function gr(){return Su}var en=A({},dr,{key:function(e){if(e.key){var i=Eu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=je(en),wu=A({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=je(wu),u=A({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),m=je(u),v=A({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=je(v),P=A({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=je(P),it=A({},Mi,{newState:0,oldState:0}),wt=je(it),ge=[9,13,27,32],Ht=wn&&"CompositionEvent"in window,le=null;wn&&"documentMode"in document&&(le=document.documentMode);var Rn=wn&&"TextEvent"in window&&!le,pi=wn&&(!Ht||le&&8<le&&11>=le),Fn=" ",Gn=!1;function vs(e,i){switch(e){case"keyup":return ge.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function p1(e,i){switch(e){case"compositionend":return ha(i);case"keypress":return i.which!==32?null:(Gn=!0,Fn);case"textInput":return e=i.data,e===Fn&&Gn?null:e;default:return null}}function y1(e,i){if(fa)return e==="compositionend"||!Ht&&vs(e,i)?(e=xo(),gs=No=fi=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pi&&i.locale!=="ko"?null:i.data;default:return null}}var _1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!_1[e.type]:i==="textarea"}function _g(e,i,a,o){hr?hi?hi.push(o):hi=[o]:hr=o,i=mc(i,"onChange"),0<i.length&&(a=new di("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Vo=null,ko=null;function v1(e){t_(e,0)}function Ru(e){var i=fn(e);if(hs(i))return e}function vg(e,i){if(e==="change")return i}var Eg=!1;if(wn){var Uh;if(wn){var Lh="oninput"in document;if(!Lh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Lh=typeof Tg.oninput=="function"}Uh=Lh}else Uh=!1;Eg=Uh&&(!document.documentMode||9<document.documentMode)}function bg(){Vo&&(Vo.detachEvent("onpropertychange",Sg),ko=Vo=null)}function Sg(e){if(e.propertyName==="value"&&Ru(ko)){var i=[];_g(i,ko,e,An(e)),fr(v1,i)}}function E1(e,i,a){e==="focusin"?(bg(),Vo=i,ko=a,Vo.attachEvent("onpropertychange",Sg)):e==="focusout"&&bg()}function T1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(ko)}function b1(e,i){if(e==="click")return Ru(i)}function S1(e,i){if(e==="input"||e==="change")return Ru(i)}function A1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var mn=typeof Object.is=="function"?Object.is:A1;function Uo(e,i){if(mn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ve.call(i,h)||!mn(e[h],i[h]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,i){var a=Ag(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ag(a)}}function Rg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Rg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ci(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ci(e.document)}return i}function Ph(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var w1=wn&&"documentMode"in document&&11>=document.documentMode,da=null,zh=null,Lo=null,jh=!1;function Cg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jh||da==null||da!==ci(o)||(o=da,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&Uo(Lo,o)||(Lo=o,o=mc(zh,"onSelect"),0<o.length&&(i=new di("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=da)))}function Es(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ma={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Bh={},Ng={};wn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Ts(e){if(Bh[e])return Bh[e];if(!ma[e])return e;var i=ma[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ng)return Bh[e]=i[a];return e}var xg=Ts("animationend"),Dg=Ts("animationiteration"),Og=Ts("animationstart"),R1=Ts("transitionrun"),I1=Ts("transitionstart"),C1=Ts("transitioncancel"),Mg=Ts("transitionend"),Vg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Qn(e,i){Vg.set(e,i),li(i,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ga=0,Hh=0;function Cu(){for(var e=ga,i=Hh=ga=0;i<e;){var a=In[i];In[i++]=null;var o=In[i];In[i++]=null;var h=In[i];In[i++]=null;var f=In[i];if(In[i++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&kg(a,h,f)}}function Nu(e,i,a,o){In[ga++]=e,In[ga++]=i,In[ga++]=a,In[ga++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Fh(e,i,a,o){return Nu(e,i,a,o),xu(e)}function bs(e,i){return Nu(e,null,null,i),xu(e)}function kg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-me(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function xu(e){if(50<sl)throw sl=0,td=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var pa={};function N1(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,o){return new N1(e,i,a,o)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ug(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Du(e,i,a,o,h,f){var p=0;if(o=e,typeof e=="function")Gh(e)&&(p=1);else if(typeof e=="string")p=Vb(e,a,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,a,i,h),e.elementType=R,e.lanes=f,e;case J:return Ss(a.children,h,f,i);case tt:p=8,h|=24;break;case nt:return e=gn(12,a,i,h|2),e.elementType=nt,e.lanes=f,e;case At:return e=gn(13,a,i,h),e.elementType=At,e.lanes=f,e;case _t:return e=gn(19,a,i,h),e.elementType=_t,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:p=10;break t;case ct:p=9;break t;case Ct:p=11;break t;case N:p=14;break t;case w:p=16,o=null;break t}p=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=gn(p,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Ss(e,i,a,o){return e=gn(7,e,o,i),e.lanes=a,e}function Qh(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Lg(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function Kh(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Pg=new WeakMap;function Cn(e,i){if(typeof e=="object"&&e!==null){var a=Pg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:mo(i)},Pg.set(e,i),i)}return{value:e,source:i,stack:mo(i)}}var ya=[],_a=0,Ou=null,Po=0,Nn=[],xn=0,pr=null,yi=1,_i="";function Ui(e,i){ya[_a++]=Po,ya[_a++]=Ou,Ou=e,Po=i}function zg(e,i,a){Nn[xn++]=yi,Nn[xn++]=_i,Nn[xn++]=pr,pr=e;var o=yi;e=_i;var h=32-me(o)-1;o&=~(1<<h),a+=1;var f=32-me(i)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,yi=1<<32-me(i)+h|a<<h|o,_i=f+e}else yi=1<<f|a<<h|o,_i=e}function Yh(e){e.return!==null&&(Ui(e,1),zg(e,1,0))}function $h(e){for(;e===Ou;)Ou=ya[--_a],ya[_a]=null,Po=ya[--_a],ya[_a]=null;for(;e===pr;)pr=Nn[--xn],Nn[xn]=null,_i=Nn[--xn],Nn[xn]=null,yi=Nn[--xn],Nn[xn]=null}function jg(e,i){Nn[xn++]=yi,Nn[xn++]=_i,Nn[xn++]=pr,yi=i.id,_i=i.overflow,pr=e}var Be=null,ie=null,Pt=!1,yr=null,Dn=!1,Xh=Error(s(519));function _r(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Cn(i,e)),Xh}function Bg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Te]=e,i[ke]=o,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<ol.length;a++)xt(ol[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),hu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),ur(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||r_(i.textContent,a)?(o.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),o.onScroll!=null&&xt("scroll",i),o.onScrollEnd!=null&&xt("scrollend",i),o.onClick!=null&&(i.onclick=Bn),i=!0):i=!1,i||_r(e,!0)}function qg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Be=Be.return}}function va(e){if(e!==Be)return!1;if(!Pt)return qg(e),Pt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||gd(e.type,e.memoizedProps)),a=!a),a&&ie&&_r(e),qg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=d_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=d_(e)}else i===27?(i=ie,Or(e.type)?(e=Ed,Ed=null,ie=e):ie=i):ie=Be?Mn(e.stateNode.nextSibling):null;return!0}function As(){ie=Be=null,Pt=!1}function Wh(){var e=yr;return e!==null&&(un===null?un=e:un.push.apply(un,e),yr=null),e}function zo(e){yr===null?yr=[e]:yr.push(e)}var Jh=S(null),ws=null,Li=null;function vr(e,i,a){W(Jh,i._currentValue),i._currentValue=a}function Pi(e){e._currentValue=Jh.current,L(Jh)}function Zh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function tf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Zh(f.return,a,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Zh(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ea(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=h.type;mn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&tf(i,e,a,o),i.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){ws=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Hg(ws,e)}function Vu(e,i){return ws===null&&Rs(e),Hg(e,i)}function Hg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(s(308));Li=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Li=Li.next=i;return a}var x1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},D1=r.unstable_scheduleCallback,O1=r.unstable_NormalPriority,Ae={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new x1,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&D1(O1,function(){e.controller.abort()})}var Bo=null,nf=0,Ta=0,ba=null;function M1(e,i){if(Bo===null){var a=Bo=[];nf=0,Ta=ad(),ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return nf++,i.then(Fg,Fg),i}function Fg(){if(--nf===0&&Bo!==null){ba!==null&&(ba.status="fulfilled");var e=Bo;Bo=null,Ta=0,ba=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function V1(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Gg=G.S;G.S=function(e,i){Cy=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&M1(e,i),Gg!==null&&Gg(e,i)};var Is=S(null);function rf(){var e=Is.current;return e!==null?e:te.pooledCache}function ku(e,i){i===null?W(Is,Is.current):W(Is,i.pool)}function Qg(){var e=rf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Sa=Error(s(460)),sf=Error(s(474)),Uu=Error(s(542)),Lu={then:function(){}};function Kg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Bn,Bn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xg(e),e;default:if(typeof i.status=="string")i.then(Bn,Bn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xg(e),e}throw Ns=i,Sa}}function Cs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ns=a,Sa):a}}var Ns=null;function $g(){if(Ns===null)throw Error(s(459));var e=Ns;return Ns=null,e}function Xg(e){if(e===Sa||e===Uu)throw Error(s(483))}var Aa=null,qo=0;function Pu(e){var i=qo;return qo+=1,Aa===null&&(Aa=[]),Yg(Aa,e,i)}function Ho(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function zu(e,i){throw i.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Wg(e){function i(U,M){if(e){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function a(U,M){if(!e)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=ki(U,M),U.index=0,U.sibling=null,U}function f(U,M,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,z,K){return M===null||M.tag!==6?(M=Qh(z,U.mode,K),M.return=U,M):(M=h(M,z),M.return=U,M)}function C(U,M,z,K){var ft=z.type;return ft===J?Q(U,M,z.props.children,K,z.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Cs(ft)===M.type)?(M=h(M,z.props),Ho(M,z),M.return=U,M):(M=Du(z.type,z.key,z.props,null,U.mode,K),Ho(M,z),M.return=U,M)}function j(U,M,z,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Kh(z,U.mode,K),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function Q(U,M,z,K,ft){return M===null||M.tag!==7?(M=Ss(z,U.mode,K,ft),M.return=U,M):(M=h(M,z),M.return=U,M)}function $(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qh(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case B:return z=Du(M.type,M.key,M.props,null,U.mode,z),Ho(z,M),z.return=U,z;case X:return M=Kh(M,U.mode,z),M.return=U,M;case w:return M=Cs(M),$(U,M,z)}if(he(M)||k(M))return M=Ss(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return $(U,Pu(M),z);if(M.$$typeof===st)return $(U,Vu(U,M),z);zu(U,M)}return null}function q(U,M,z,K){var ft=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:E(U,M,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return z.key===ft?C(U,M,z,K):null;case X:return z.key===ft?j(U,M,z,K):null;case w:return z=Cs(z),q(U,M,z,K)}if(he(z)||k(z))return ft!==null?null:Q(U,M,z,K,null);if(typeof z.then=="function")return q(U,M,Pu(z),K);if(z.$$typeof===st)return q(U,M,Vu(U,z),K);zu(U,z)}return null}function F(U,M,z,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,E(M,U,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return U=U.get(K.key===null?z:K.key)||null,C(M,U,K,ft);case X:return U=U.get(K.key===null?z:K.key)||null,j(M,U,K,ft);case w:return K=Cs(K),F(U,M,z,K,ft)}if(he(K)||k(K))return U=U.get(z)||null,Q(M,U,K,ft,null);if(typeof K.then=="function")return F(U,M,z,Pu(K),ft);if(K.$$typeof===st)return F(U,M,z,Vu(M,K),ft);zu(M,K)}return null}function lt(U,M,z,K){for(var ft=null,Bt=null,ut=M,It=M=0,Ot=null;ut!==null&&It<z.length;It++){ut.index>It?(Ot=ut,ut=null):Ot=ut.sibling;var qt=q(U,ut,z[It],K);if(qt===null){ut===null&&(ut=Ot);break}e&&ut&&qt.alternate===null&&i(U,ut),M=f(qt,M,It),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt,ut=Ot}if(It===z.length)return a(U,ut),Pt&&Ui(U,It),ft;if(ut===null){for(;It<z.length;It++)ut=$(U,z[It],K),ut!==null&&(M=f(ut,M,It),Bt===null?ft=ut:Bt.sibling=ut,Bt=ut);return Pt&&Ui(U,It),ft}for(ut=o(ut);It<z.length;It++)Ot=F(ut,U,It,z[It],K),Ot!==null&&(e&&Ot.alternate!==null&&ut.delete(Ot.key===null?It:Ot.key),M=f(Ot,M,It),Bt===null?ft=Ot:Bt.sibling=Ot,Bt=Ot);return e&&ut.forEach(function(Lr){return i(U,Lr)}),Pt&&Ui(U,It),ft}function gt(U,M,z,K){if(z==null)throw Error(s(151));for(var ft=null,Bt=null,ut=M,It=M=0,Ot=null,qt=z.next();ut!==null&&!qt.done;It++,qt=z.next()){ut.index>It?(Ot=ut,ut=null):Ot=ut.sibling;var Lr=q(U,ut,qt.value,K);if(Lr===null){ut===null&&(ut=Ot);break}e&&ut&&Lr.alternate===null&&i(U,ut),M=f(Lr,M,It),Bt===null?ft=Lr:Bt.sibling=Lr,Bt=Lr,ut=Ot}if(qt.done)return a(U,ut),Pt&&Ui(U,It),ft;if(ut===null){for(;!qt.done;It++,qt=z.next())qt=$(U,qt.value,K),qt!==null&&(M=f(qt,M,It),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return Pt&&Ui(U,It),ft}for(ut=o(ut);!qt.done;It++,qt=z.next())qt=F(ut,U,It,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&ut.delete(qt.key===null?It:qt.key),M=f(qt,M,It),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return e&&ut.forEach(function(Gb){return i(U,Gb)}),Pt&&Ui(U,It),ft}function Jt(U,M,z,K){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case B:t:{for(var ft=z.key;M!==null;){if(M.key===ft){if(ft=z.type,ft===J){if(M.tag===7){a(U,M.sibling),K=h(M,z.props.children),K.return=U,U=K;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Cs(ft)===M.type){a(U,M.sibling),K=h(M,z.props),Ho(K,z),K.return=U,U=K;break t}a(U,M);break}else i(U,M);M=M.sibling}z.type===J?(K=Ss(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=Du(z.type,z.key,z.props,null,U.mode,K),Ho(K,z),K.return=U,U=K)}return p(U);case X:t:{for(ft=z.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(U,M.sibling),K=h(M,z.children||[]),K.return=U,U=K;break t}else{a(U,M);break}else i(U,M);M=M.sibling}K=Kh(z,U.mode,K),K.return=U,U=K}return p(U);case w:return z=Cs(z),Jt(U,M,z,K)}if(he(z))return lt(U,M,z,K);if(k(z)){if(ft=k(z),typeof ft!="function")throw Error(s(150));return z=ft.call(z),gt(U,M,z,K)}if(typeof z.then=="function")return Jt(U,M,Pu(z),K);if(z.$$typeof===st)return Jt(U,M,Vu(U,z),K);zu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(U,M.sibling),K=h(M,z),K.return=U,U=K):(a(U,M),K=Qh(z,U.mode,K),K.return=U,U=K),p(U)):a(U,M)}return function(U,M,z,K){try{qo=0;var ft=Jt(U,M,z,K);return Aa=null,ft}catch(ut){if(ut===Sa||ut===Uu)throw ut;var Bt=gn(29,ut,null,U.mode);return Bt.lanes=K,Bt.return=U,Bt}finally{}}}var xs=Wg(!0),Jg=Wg(!1),Er=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=xu(e),kg(e,null,a),i}return Nu(e,o,i,a),xu(e)}function Fo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,yo(e,a)}}function lf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var uf=!1;function Go(){if(uf){var e=ba;if(e!==null)throw e}}function Qo(e,i,a,o){uf=!1;var h=e.updateQueue;Er=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,p===null?f=j:p.next=j,p=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;p=0,Q=j=C=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Dt&q)===q:(o&q)===q){q!==0&&q===Ta&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,gt=E;q=i;var Jt=a;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){$=lt.call(Jt,$,q);break t}$=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,q=typeof lt=="function"?lt.call(Jt,$,q):lt,q==null)break t;$=A({},$,q);break t;case 2:Er=!0}}q=E.callback,q!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=F,C=$):Q=Q.next=F,p|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(C=$),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ir|=p,e.lanes=p,e.memoizedState=$}}function Zg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function tp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zg(a[e],i)}var wa=S(null),ju=S(0);function ep(e,i){e=Ki,W(ju,e),W(wa,i),Ki=e|i.baseLanes}function cf(){W(ju,Ki),W(wa,wa.current)}function hf(){Ki=ju.current,L(wa),L(ju)}var pn=S(null),On=null;function Sr(e){var i=e.alternate;W(pe,pe.current&1),W(pn,e),On===null&&(i===null||wa.current!==null||i.memoizedState!==null)&&(On=e)}function ff(e){W(pe,pe.current),W(pn,e),On===null&&(On=e)}function np(e){e.tag===22?(W(pe,pe.current),W(pn,e),On===null&&(On=e)):Ar()}function Ar(){W(pe,pe.current),W(pn,pn.current)}function yn(e){L(pn),On===e&&(On=null),L(pe)}var pe=S(0);function Bu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_d(a)||vd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zi=0,Rt=null,Xt=null,we=null,qu=!1,Ra=!1,Ds=!1,Hu=0,Ko=0,Ia=null,k1=0;function fe(){throw Error(s(321))}function df(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!mn(e[a],i[a]))return!1;return!0}function mf(e,i,a,o,h,f){return zi=f,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?zp:Nf,Ds=!1,f=a(o,h),Ds=!1,Ra&&(f=rp(i,a,o,h)),ip(e),f}function ip(e){G.H=Xo;var i=Xt!==null&&Xt.next!==null;if(zi=0,we=Xt=Rt=null,qu=!1,Ko=0,Ia=null,i)throw Error(s(300));e===null||Re||(e=e.dependencies,e!==null&&Mu(e)&&(Re=!0))}function rp(e,i,a,o){Rt=e;var h=0;do{if(Ra&&(Ia=null),Ko=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,we=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=jp,f=i(a,o)}while(Ra);return f}function U1(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?Yo(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function gf(){var e=Hu!==0;return Hu=0,e}function pf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function yf(e){if(qu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}qu=!1}zi=0,we=Xt=Rt=null,Ra=!1,Ko=Hu=0,Ia=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Rt.memoizedState=we=e:we=we.next=e,we}function ye(){if(Xt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=we===null?Rt.memoizedState:we.next;if(i!==null)we=i,Xt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},we===null?Rt.memoizedState=we=e:we=we.next=e}return we}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var i=Ko;return Ko+=1,Ia===null&&(Ia=[]),e=Yg(Ia,e,i),i=Rt,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?zp:Nf),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===st)return qe(e)}throw Error(s(438,String(e)))}function _f(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Fu(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function ji(e,i){return typeof i=="function"?i(e):i}function Qu(e){var i=ye();return vf(i,Xt,e)}function vf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=p=null,C=null,j=i,Q=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Dt&$)===$:(zi&$)===$){var q=j.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Ta&&(Q=!0);else if((zi&q)===q){j=j.next,q===Ta&&(Q=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=$,p=f):C=C.next=$,Rt.lanes|=q,Ir|=q;$=j.action,Ds&&a(f,$),f=j.hasEagerState?j.eagerState:a(f,$)}else q={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=q,p=f):C=C.next=q,Rt.lanes|=$,Ir|=$;j=j.next}while(j!==null&&j!==i);if(C===null?p=f:C.next=E,!mn(f,e.memoizedState)&&(Re=!0,Q&&(a=ba,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var i=ye(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);mn(f,i.memoizedState)||(Re=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function sp(e,i,a){var o=Rt,h=ye(),f=Pt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var p=!mn((Xt||h).memoizedState,a);if(p&&(h.memoizedState=a,Re=!0),h=h.queue,Sf(lp.bind(null,o,h,e),[e]),h.getSnapshot!==i||p||we!==null&&we.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},op.bind(null,o,h,a,i),null),te===null)throw Error(s(349));f||(zi&127)!==0||ap(o,i,a)}return a}function ap(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=Fu(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function op(e,i,a,o){i.value=a,i.getSnapshot=o,up(i)&&cp(e)}function lp(e,i,a){return a(function(){up(i)&&cp(e)})}function up(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!mn(e,a)}catch{return!0}}function cp(e){var i=bs(e,2);i!==null&&cn(i,e,2)}function Tf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),Ds){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},i}function hp(e,i,a,o){return e.baseState=a,vf(e,Xt,typeof o=="function"?o:ji)}function L1(e,i,a,o,h){if($u(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,fp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function fp(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=G.T,p={};G.T=p;try{var E=a(h,o),C=G.S;C!==null&&C(p,E),dp(e,i,E)}catch(j){bf(e,i,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=a(h,o),dp(e,i,f)}catch(j){bf(e,i,j)}}function dp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){mp(e,i,o)},function(o){return bf(e,i,o)}):mp(e,i,a)}function mp(e,i,a){i.status="fulfilled",i.value=a,gp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,fp(e,a)))}function bf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,gp(i),i=i.next;while(i!==o)}e.action=null}function gp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function pp(e,i){return i}function yp(e,i){if(Pt){var a=te.formState;if(a!==null){t:{var o=Rt;if(Pt){if(ie){e:{for(var h=ie,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Mn(h.nextSibling),o=h.data==="F!";break t}}_r(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:i},a.queue=o,a=Up.bind(null,Rt,o),o.dispatch=a,o=Tf(!1),f=Cf.bind(null,Rt,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=L1.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function _p(e){var i=ye();return vp(i,Xt,e)}function vp(e,i,a){if(i=vf(e,i,pp)[0],e=Qu(ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Yo(i)}catch(p){throw p===Sa?Uu:p}else o=i;i=ye();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,Ca(9,{destroy:void 0},P1.bind(null,h,a),null)),[o,f,e]}function P1(e,i){e.action=i}function Ep(e){var i=ye(),a=Xt;if(a!==null)return vp(i,a,e);ye(),i=i.memoizedState,a=ye();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ca(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=Fu(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Tp(){return ye().memoizedState}function Ku(e,i,a,o){var h=nn();Rt.flags|=e,h.memoizedState=Ca(1|i,{destroy:void 0},a,o===void 0?null:o)}function Yu(e,i,a,o){var h=ye();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&df(o,Xt.memoizedState.deps)?h.memoizedState=Ca(i,f,a,o):(Rt.flags|=e,h.memoizedState=Ca(1|i,f,a,o))}function bp(e,i){Ku(8390656,8,e,i)}function Sf(e,i){Yu(2048,8,e,i)}function z1(e){Rt.flags|=4;var i=Rt.updateQueue;if(i===null)i=Fu(),Rt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Sp(e){var i=ye().memoizedState;return z1({ref:i,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ap(e,i){return Yu(4,2,e,i)}function wp(e,i){return Yu(4,4,e,i)}function Rp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ip(e,i,a){a=a!=null?a.concat([e]):null,Yu(4,4,Rp.bind(null,i,e),a)}function Af(){}function Cp(e,i){var a=ye();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&df(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Np(e,i){var a=ye();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&df(i,o[1]))return o[0];if(o=e(),Ds){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,i],o}function wf(e,i,a){return a===void 0||(zi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=xy(),Rt.lanes|=e,Ir|=e,a)}function xp(e,i,a,o){return mn(a,i)?a:wa.current!==null?(e=wf(e,a,o),mn(e,i)||(Re=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Dt&261930)===0?(Re=!0,e.memoizedState=a):(e=xy(),Rt.lanes|=e,Ir|=e,i)}function Dp(e,i,a,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Cf(e,!1,i,a);try{var C=h(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=V1(C,o);$o(e,i,Q,En(e))}else $o(e,i,o,En(e))}catch($){$o(e,i,{then:function(){},status:"rejected",reason:$},En())}finally{rt.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function j1(){}function Rf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Op(e).queue;Dp(e,h,i,ht,a===null?j1:function(){return Mp(e),a(o)})}function Op(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Mp(e){var i=Op(e);i.next===null&&(i=e.alternate.memoizedState),$o(e,i.next.queue,{},En())}function If(){return qe(fl)}function Vp(){return ye().memoizedState}function kp(){return ye().memoizedState}function B1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();e=Tr(a);var o=br(i,e,a);o!==null&&(cn(o,i,a),Fo(o,i,a)),i={cache:ef()},e.payload=i;return}i=i.return}}function q1(e,i,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(e)?Lp(i,a):(a=Fh(e,i,a,o),a!==null&&(cn(a,e,o),Pp(a,i,o)))}function Up(e,i,a){var o=En();$o(e,i,a,o)}function $o(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(e))Lp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var p=i.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,mn(E,p))return Nu(e,i,h,0),te===null&&Cu(),!1}catch{}finally{}if(a=Fh(e,i,h,o),a!==null)return cn(a,e,o),Pp(a,i,o),!0}return!1}function Cf(e,i,a,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(i)throw Error(s(479))}else i=Fh(e,a,o,2),i!==null&&cn(i,e,2)}function $u(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function Lp(e,i){Ra=qu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Pp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,yo(e,a)}}var Xo={readContext:qe,use:Gu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};Xo.useEffectEvent=fe;var zp={readContext:qe,use:Gu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:bp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,Rp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ku(4194308,4,e,i)},useInsertionEffect:function(e,i){Ku(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var o=e();if(Ds){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=nn();if(a!==void 0){var h=a(i);if(Ds){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=q1.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Tf(e);var i=e.queue,a=Up.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(e,i){var a=nn();return wf(a,e,i)},useTransition:function(){var e=Tf(!1);return e=Dp.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Rt,h=nn();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(Dt&127)!==0||ap(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,bp(lp.bind(null,o,f,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},op.bind(null,o,f,a,i),null),a},useId:function(){var e=nn(),i=te.identifierPrefix;if(Pt){var a=_i,o=yi;a=(o&~(1<<32-me(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Hu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=k1++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:If,useFormState:yp,useActionState:yp,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Cf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:_f,useCacheRefresh:function(){return nn().memoizedState=B1.bind(null,Rt)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Ft&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nf={readContext:qe,use:Gu,useCallback:Cp,useContext:qe,useEffect:Sf,useImperativeHandle:Ip,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:Np,useReducer:Qu,useRef:Tp,useState:function(){return Qu(ji)},useDebugValue:Af,useDeferredValue:function(e,i){var a=ye();return xp(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Qu(ji)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Yo(e),i]},useSyncExternalStore:sp,useId:Vp,useHostTransitionStatus:If,useFormState:_p,useActionState:_p,useOptimistic:function(e,i){var a=ye();return hp(a,Xt,e,i)},useMemoCache:_f,useCacheRefresh:kp};Nf.useEffectEvent=Sp;var jp={readContext:qe,use:Gu,useCallback:Cp,useContext:qe,useEffect:Sf,useImperativeHandle:Ip,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:Np,useReducer:Ef,useRef:Tp,useState:function(){return Ef(ji)},useDebugValue:Af,useDeferredValue:function(e,i){var a=ye();return Xt===null?wf(a,e,i):xp(a,Xt.memoizedState,e,i)},useTransition:function(){var e=Ef(ji)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:Yo(e),i]},useSyncExternalStore:sp,useId:Vp,useHostTransitionStatus:If,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,i){var a=ye();return Xt!==null?hp(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:kp};jp.useEffectEvent=Sp;function xf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Df={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=En(),h=Tr(o);h.payload=i,a!=null&&(h.callback=a),i=br(e,h,o),i!==null&&(cn(i,e,o),Fo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=En(),h=Tr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=br(e,h,o),i!==null&&(cn(i,e,o),Fo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=En(),o=Tr(a);o.tag=2,i!=null&&(o.callback=i),i=br(e,o,a),i!==null&&(cn(i,e,a),Fo(i,e,a))}};function Bp(e,i,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):i.prototype&&i.prototype.isPureReactComponent?!Uo(a,o)||!Uo(h,f):!0}function qp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Df.enqueueReplaceState(i,i.state,null)}function Os(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Hp(e){Iu(e)}function Fp(e){console.error(e)}function Gp(e){Iu(e)}function Xu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Qp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,i,a){return a=Tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(e,i)},a}function Kp(e){return e=Tr(e),e.tag=3,e}function Yp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Qp(i,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Qp(i,a,o),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function H1(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ea(i,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?lc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Lu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),id(e,o,h)),!1;case 22:return a.flags|=65536,o===Lu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),id(e,o,h)),!1}throw Error(s(435,a.tag))}return id(e,o,h),lc(),!1}if(Pt)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Xh&&(e=Error(s(422),{cause:o}),zo(Cn(e,a)))):(o!==Xh&&(i=Error(s(423),{cause:o}),zo(Cn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,a),h=Of(e.stateNode,o,h),lf(e,h),de!==4&&(de=2)),!1;var f=Error(s(520),{cause:o});if(f=Cn(f,a),rl===null?rl=[f]:rl.push(f),de!==4&&(de=2),i===null)return!0;o=Cn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Of(a.stateNode,o,e),lf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cr===null||!Cr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Kp(h),Yp(h,e,a,o),lf(a,h),!1}a=a.return}while(a!==null);return!1}var Mf=Error(s(461)),Re=!1;function He(e,i,a,o){i.child=e===null?Jg(i,null,a,o):xs(i,e.child,a,o)}function $p(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Rs(i),o=mf(e,i,a,p,f,h),E=gf(),e!==null&&!Re?(pf(e,i,h),Bi(e,i,h)):(Pt&&E&&Yh(i),i.flags|=1,He(e,i,o,h),i.child)}function Xp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Wp(e,i,f,o,h)):(e=Du(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Bf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(p,o)&&e.ref===i.ref)return Bi(e,i,h)}return i.flags|=1,e=ki(f,o),e.ref=i.ref,e.return=i,i.child=e}function Wp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===i.ref)if(Re=!1,i.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(Re=!0);else return i.lanes=e.lanes,Bi(e,i,h)}return Vf(e,i,a,o,h)}function Jp(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Zp(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(i,f!==null?f.cachePool:null),f!==null?ep(i,f):cf(),np(i);else return o=i.lanes=536870912,Zp(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ku(i,f.cachePool),ep(i,f),Ar(),i.memoizedState=null):(e!==null&&ku(i,null),cf(),Ar());return He(e,i,h,a),i.child}function Wo(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Zp(e,i,a,o,h){var f=rf();return f=f===null?null:{parent:Ae._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&ku(i,null),cf(),np(i),e!==null&&Ea(e,i,o,!0),i.childLanes=h,null}function Wu(e,i){return i=Zu({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function ty(e,i,a){return xs(i,e.child,null,a),e=Wu(i,i.pendingProps),e.flags|=2,yn(i),i.memoizedState=null,e}function F1(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Wu(i,o),i.lanes=536870912,Wo(null,e);if(ff(i),(e=ie)?(e=f_(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:pr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=Lg(e),a.return=i,i.child=a,Be=i,ie=null)):e=null,e===null)throw _r(i);return i.lanes=536870912,null}return Wu(i,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(i),h)if(i.flags&256)i.flags&=-257,i=ty(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Re||Ea(e,i,a,!1),h=(a&e.childLanes)!==0,Re||h){if(o=te,o!==null&&(p=_o(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,bs(e,p),cn(o,e,p),Mf;lc(),i=ty(e,i,a)}else e=f.treeContext,ie=Mn(p.nextSibling),Be=i,Pt=!0,yr=null,Dn=!1,e!==null&&jg(i,e),i=Wu(i,o),i.flags|=4096;return i}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ju(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Vf(e,i,a,o,h){return Rs(i),a=mf(e,i,a,o,void 0,h),o=gf(),e!==null&&!Re?(pf(e,i,h),Bi(e,i,h)):(Pt&&o&&Yh(i),i.flags|=1,He(e,i,a,h),i.child)}function ey(e,i,a,o,h,f){return Rs(i),i.updateQueue=null,a=rp(i,o,a,h),ip(e),o=gf(),e!==null&&!Re?(pf(e,i,f),Bi(e,i,f)):(Pt&&o&&Yh(i),i.flags|=1,He(e,i,a,f),i.child)}function ny(e,i,a,o,h){if(Rs(i),i.stateNode===null){var f=pa,p=a.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},af(i),p=a.contextType,f.context=typeof p=="object"&&p!==null?qe(p):pa,f.state=i.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(xf(i,a,p,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),Qo(i,o,f,h),Go(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,C=Os(a,E);f.props=C;var j=f.context,Q=a.contextType;p=pa,typeof Q=="object"&&Q!==null&&(p=qe(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&qp(i,f,o,p),Er=!1;var q=i.memoizedState;f.state=q,Qo(i,o,f,h),Go(),j=i.memoizedState,E||q!==j||Er?(typeof $=="function"&&(xf(i,a,$,o),j=i.memoizedState),(C=Er||Bp(i,a,C,o,q,j,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,of(e,i),p=i.memoizedProps,Q=Os(a,p),f.props=Q,$=i.pendingProps,q=f.context,j=a.contextType,C=pa,typeof j=="object"&&j!==null&&(C=qe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||q!==C)&&qp(i,f,o,C),Er=!1,q=i.memoizedState,f.state=q,Qo(i,o,f,h),Go();var F=i.memoizedState;p!==$||q!==F||Er||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(xf(i,a,E,o),F=i.memoizedState),(Q=Er||Bp(i,a,Q,o,q,F,C)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),f.props=o,f.state=F,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Ju(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=xs(i,e.child,null,h),i.child=xs(i,null,a,h)):He(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Bi(e,i,h),e}function iy(e,i,a,o){return As(),i.flags|=256,He(e,i,a,o),i.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Qg()}}function Lf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=vn),e}function ry(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,e===null){if(Pt){if(h?Sr(i):Ar(),(e=ie)?(e=f_(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:pr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=Lg(e),a.return=i,i.child=a,Be=i,ie=null)):e=null,e===null)throw _r(i);return vd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ar(),h=i.mode,E=Zu({mode:"hidden",children:E},h),o=Ss(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=Uf(a),o.childLanes=Lf(e,p,a),i.memoizedState=kf,Wo(null,o)):(Sr(i),Pf(i,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)i.flags&256?(Sr(i),i.flags&=-257,i=zf(e,i,a)):i.memoizedState!==null?(Ar(),i.child=e.child,i.flags|=128,i=null):(Ar(),E=o.fallback,h=i.mode,o=Zu({mode:"visible",children:o.children},h),E=Ss(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,xs(i,e.child,null,a),o=i.child,o.memoizedState=Uf(a),o.childLanes=Lf(e,p,a),i.memoizedState=kf,i=Wo(null,o));else if(Sr(i),vd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(s(419)),o.stack="",o.digest=p,zo({value:o,source:null,stack:null}),i=zf(e,i,a)}else if(Re||Ea(e,i,a,!1),p=(a&e.childLanes)!==0,Re||p){if(p=te,p!==null&&(o=_o(p,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,bs(e,o),cn(p,e,o),Mf;_d(E)||lc(),i=zf(e,i,a)}else _d(E)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,ie=Mn(E.nextSibling),Be=i,Pt=!0,yr=null,Dn=!1,e!==null&&jg(i,e),i=Pf(i,o.children),i.flags|=4096);return i}return h?(Ar(),E=o.fallback,h=i.mode,C=e.child,j=C.sibling,o=ki(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=ki(j,E):(E=Ss(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,Wo(null,o),o=i.child,E=e.child.memoizedState,E===null?E=Uf(a):(h=E.cachePool,h!==null?(C=Ae._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Qg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(e,p,a),i.memoizedState=kf,Wo(e.child,o)):(Sr(i),a=e.child,e=a.sibling,a=ki(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(p=i.deletions,p===null?(i.deletions=[e],i.flags|=16):p.push(e)),i.child=a,i.memoizedState=null,a)}function Pf(e,i){return i=Zu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Zu(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function zf(e,i,a){return xs(i,e.child,null,a),e=Pf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function sy(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Zh(e.return,i,a)}function jf(e,i,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function ay(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=pe.current,E=(p&2)!==0;if(E?(p=p&1|2,i.flags|=128):p&=1,W(pe,p),He(e,i,o,a),o=Pt?Po:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,a,i);else if(e.tag===19)sy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),jf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}jf(i,!0,a,null,f,o);break;case"together":jf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Bi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ir|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ea(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=ki(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ki(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Bf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function G1(e,i,a){switch(i.tag){case 3:ae(i,i.stateNode.containerInfo),vr(i,Ae,e.memoizedState.cache),As();break;case 27:case 5:rs(i);break;case 4:ae(i,i.stateNode.containerInfo);break;case 10:vr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ff(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Sr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ry(e,i,a):(Sr(i),e=Bi(e,i,a),e!==null?e.sibling:null);Sr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ea(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return ay(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(pe,pe.current),o)break;return null;case 22:return i.lanes=0,Jp(e,i,a,i.pendingProps);case 24:vr(i,Ae,e.memoizedState.cache)}return Bi(e,i,a)}function oy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Re=!0;else{if(!Bf(e,a)&&(i.flags&128)===0)return Re=!1,G1(e,i,a);Re=(e.flags&131072)!==0}else Re=!1,Pt&&(i.flags&1048576)!==0&&zg(i,Po,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Cs(i.elementType),i.type=e,typeof e=="function")Gh(e)?(o=Os(e,o),i.tag=1,i=ny(null,i,e,o,a)):(i.tag=0,i=Vf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Ct){i.tag=11,i=$p(null,i,e,o,a);break t}else if(h===N){i.tag=14,i=Xp(null,i,e,o,a);break t}}throw i=ee(e)||e,Error(s(306,i,""))}}return i;case 0:return Vf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Os(o,i.pendingProps),ny(e,i,o,h,a);case 3:t:{if(ae(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,of(e,i),Qo(i,o,null,a);var p=i.memoizedState;if(o=p.cache,vr(i,Ae,o),o!==f.cache&&tf(i,[Ae],a,!0),Go(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=iy(e,i,o,a);break t}else if(o!==h){h=Cn(Error(s(424)),i),zo(h),i=iy(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Mn(e.firstChild),Be=i,Pt=!0,yr=null,Dn=!0,a=Jg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(As(),o===h){i=Bi(e,i,a);break t}He(e,i,o,a)}i=i.child}return i;case 26:return Ju(e,i),e===null?(a=__(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pt||(a=i.type,e=i.pendingProps,o=gc(Tt.current).createElement(a),o[Te]=i,o[ke]=e,Fe(o,a,e),be(o),i.stateNode=o):i.memoizedState=__(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return rs(i),e===null&&Pt&&(o=i.stateNode=g_(i.type,i.pendingProps,Tt.current),Be=i,Dn=!0,h=ie,Or(i.type)?(Ed=h,ie=Mn(o.firstChild)):ie=h),He(e,i,i.pendingProps.children,a),Ju(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Pt&&((h=o=ie)&&(o=Tb(o,i.type,i.pendingProps,Dn),o!==null?(i.stateNode=o,Be=i,ie=Mn(o.firstChild),Dn=!1,h=!0):h=!1),h||_r(i)),rs(i),h=i.type,f=i.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,gd(h,f)?o=null:p!==null&&gd(h,p)&&(i.flags|=32),i.memoizedState!==null&&(h=mf(e,i,U1,null,null,a),fl._currentValue=h),Ju(e,i),He(e,i,o,a),i.child;case 6:return e===null&&Pt&&((e=a=ie)&&(a=bb(a,i.pendingProps,Dn),a!==null?(i.stateNode=a,Be=i,ie=null,e=!0):e=!1),e||_r(i)),null;case 13:return ry(e,i,a);case 4:return ae(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=xs(i,null,o,a):He(e,i,o,a),i.child;case 11:return $p(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,vr(i,i.type,o.value),He(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Rs(i),h=qe(h),o=o(h),i.flags|=1,He(e,i,o,a),i.child;case 14:return Xp(e,i,i.type,i.pendingProps,a);case 15:return Wp(e,i,i.type,i.pendingProps,a);case 19:return ay(e,i,a);case 31:return F1(e,i,a);case 22:return Jp(e,i,a,i.pendingProps);case 24:return Rs(i),o=qe(Ae),e===null?(h=rf(),h===null&&(h=te,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},af(i),vr(i,Ae,h)):((e.lanes&a)!==0&&(of(e,i),Qo(i,null,null,a),Go()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),vr(i,Ae,o)):(o=f.cache,vr(i,Ae,o),o!==h.cache&&tf(i,[Ae],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function qi(e){e.flags|=4}function qf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw Ns=Lu,sf}else e.flags&=-16777217}function ly(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(i))if(Vy())e.flags|=8192;else throw Ns=Lu,sf}function tc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?au():536870912,e.lanes|=i,Oa|=i)}function Jo(e,i){if(!Pt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function Q1(e,i,a){var o=i.pendingProps;switch($h(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Pi(Ae),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(va(i)?qi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wh())),re(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?(qi(i),f!==null?(re(i),ly(i,f)):(re(i),qf(i,h,null,o,a))):f?f!==e.memoizedState?(qi(i),re(i),ly(i,f)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(i),re(i),qf(i,h,e,o,a)),null;case 27:if(Ws(i),a=Tt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&qi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=et.current,va(i)?Bg(i):(e=g_(h,o,a),i.stateNode=e,qi(i))}return re(i),null;case 5:if(Ws(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&qi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(f=et.current,va(i))Bg(i);else{var p=gc(Tt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Te]=i,f[ke]=o;t:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break t;for(;p.sibling===null;){if(p.return===null||p.return===i)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(i)}}return re(i),qf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&qi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=Tt.current,va(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||r_(e.nodeValue,a)),e||_r(i,!0)}else e=gc(e).createTextNode(o),e[Te]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=va(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Te]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(yn(i),i):(yn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return re(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yn(i),i):(yn(i),null)}return yn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),tc(i,i.updateQueue),re(i),null);case 4:return oe(),e===null&&cd(i.stateNode.containerInfo),re(i),null;case 10:return Pi(i.type),re(i),null;case 19:if(L(pe),o=i.memoizedState,o===null)return re(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Bu(e),f!==null){for(i.flags|=128,Jo(o,!1),e=f.updateQueue,i.updateQueue=e,tc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Ug(a,e),a=a.sibling;return W(pe,pe.current&1|2),Pt&&Ui(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&tn()>sc&&(i.flags|=128,h=!0,Jo(o,!1),i.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,tc(i,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return re(i),null}else 2*tn()-o.renderingStartTime>sc&&a!==536870912&&(i.flags|=128,h=!0,Jo(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=pe.current,W(pe,h?a&1|2:a&1),Pt&&Ui(i,o.treeForkCount),e):(re(i),null);case 22:case 23:return yn(i),hf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&tc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&L(Is),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(Ae),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function K1(e,i){switch($h(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Pi(Ae),oe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ws(i),null;case 31:if(i.memoizedState!==null){if(yn(i),i.alternate===null)throw Error(s(340));As()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(yn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));As()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return L(pe),null;case 4:return oe(),null;case 10:return Pi(i.type),null;case 22:case 23:return yn(i),hf(),e!==null&&L(Is),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Pi(Ae),null;case 25:return null;default:return null}}function uy(e,i){switch($h(i),i.tag){case 3:Pi(Ae),oe();break;case 26:case 27:case 5:Ws(i);break;case 4:oe();break;case 31:i.memoizedState!==null&&yn(i);break;case 13:yn(i);break;case 19:L(pe);break;case 10:Pi(i.type);break;case 22:case 23:yn(i),hf(),e!==null&&L(Is);break;case 24:Pi(Ae)}}function Zo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function wr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=i;var C=a,j=E;try{j()}catch(Q){Yt(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){Yt(i,i.return,Q)}}function cy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{tp(i,a)}catch(o){Yt(e,e.return,o)}}}function hy(e,i,a){a.props=Os(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,i,o)}}function tl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,i,h)}}function vi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function fy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Hf(e,i,a){try{var o=e.stateNode;gb(o,e.type,a,i),o[ke]=i}catch(h){Yt(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bn));else if(o!==4&&(o===27&&Or(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Gf(e,i,a),e=e.sibling;e!==null;)Gf(e,i,a),e=e.sibling}function ec(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Or(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ec(e,i,a),e=e.sibling;e!==null;)ec(e,i,a),e=e.sibling}function my(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,o,a),i[Te]=e,i[ke]=a}catch(f){Yt(e,e.return,f)}}var Hi=!1,Ie=!1,Qf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Y1(e,i){if(e=e.containerInfo,dd=bc,e=Ig(e),Ph(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,C=-1,j=0,Q=0,$=e,q=null;e:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(E=p+h),$!==f||o!==0&&$.nodeType!==3||(C=p+o),$.nodeType===3&&(p+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===e)break e;if(q===a&&++j===h&&(E=p),q===f&&++Q===o&&(C=p),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:e,selectionRange:a},bc=!1,Le=i;Le!==null;)if(i=Le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Le=e;else for(;Le!==null;){switch(i=Le,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=Os(a.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)yd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Le=e;break}Le=i.return}}function py(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(e,a),o&4&&Zo(5,a);break;case 1:if(Gi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(p){Yt(a,a.return,p)}else{var h=Os(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(a,a.return,p)}}o&64&&cy(a),o&512&&tl(a,a.return);break;case 3:if(Gi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{tp(e,i)}catch(p){Yt(a,a.return,p)}}break;case 27:i===null&&o&4&&my(a);case 26:case 5:Gi(e,a),i===null&&o&4&&fy(a),o&512&&tl(a,a.return);break;case 12:Gi(e,a);break;case 31:Gi(e,a),o&4&&vy(e,a);break;case 13:Gi(e,a),o&4&&Ey(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ib.bind(null,a),Sb(e,a))));break;case 22:if(o=a.memoizedState!==null||Hi,!o){i=i!==null&&i.memoizedState!==null||Ie,h=Hi;var f=Ie;Hi=o,(Ie=i)&&!f?Qi(e,a,(a.subtreeFlags&8772)!==0):Gi(e,a),Hi=h,Ie=f}break;case 30:break;default:Gi(e,a)}}function yy(e){var i=e.alternate;i!==null&&(e.alternate=null,yy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&na(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,an=!1;function Fi(e,i,a){for(a=a.child;a!==null;)_y(e,i,a),a=a.sibling}function _y(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:Ie||vi(a,i),Fi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||vi(a,i);var o=ue,h=an;Or(a.type)&&(ue=a.stateNode,an=!1),Fi(e,i,a),ul(a.stateNode),ue=o,an=h;break;case 5:Ie||vi(a,i);case 6:if(o=ue,h=an,ue=null,Fi(e,i,a),ue=o,an=h,ue!==null)if(an)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(f){Yt(a,i,f)}else try{ue.removeChild(a.stateNode)}catch(f){Yt(a,i,f)}break;case 18:ue!==null&&(an?(e=ue,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ja(e)):c_(ue,a.stateNode));break;case 4:o=ue,h=an,ue=a.stateNode.containerInfo,an=!0,Fi(e,i,a),ue=o,an=h;break;case 0:case 11:case 14:case 15:wr(2,a,i),Ie||wr(4,a,i),Fi(e,i,a);break;case 1:Ie||(vi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&hy(a,i,o)),Fi(e,i,a);break;case 21:Fi(e,i,a);break;case 22:Ie=(o=Ie)||a.memoizedState!==null,Fi(e,i,a),Ie=o;break;default:Fi(e,i,a)}}function vy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(a){Yt(i,i.return,a)}}}function Ey(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(a){Yt(i,i.return,a)}}function $1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new gy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new gy),i;default:throw Error(s(435,e.tag))}}function nc(e,i){var a=$1(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=rb.bind(null,e,o);o.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=i,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Or(E.type)){ue=E.stateNode,an=!1;break t}break;case 5:ue=E.stateNode,an=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ue===null)throw Error(s(160));_y(f,p,h),ue=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ty(i,e),i=i.sibling}var Kn=null;function Ty(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),o&4&&(wr(3,e,e.return),Zo(3,e),wr(5,e,e.return));break;case 1:on(i,e),ln(e),o&512&&(Ie||a===null||vi(a,a.return)),o&64&&Hi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Kn;if(on(i,e),ln(e),o&512&&(Ie||a===null||vi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[Te]=e,be(f),o=f;break t;case"link":var p=T_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(p=T_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Te]=e,be(f),o=f}e.stateNode=o}else b_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?b_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),o&512&&(Ie||a===null||vi(a,a.return)),a!==null&&o&4&&Hf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),o&512&&(Ie||a===null||vi(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(lt){Yt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(on(i,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){Yt(e,e.return,lt)}}break;case 3:if(_c=null,h=Kn,Kn=pc(i.containerInfo),on(i,e),Kn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ja(i.containerInfo)}catch(lt){Yt(e,e.return,lt)}Qf&&(Qf=!1,by(e));break;case 4:o=Kn,Kn=pc(e.stateNode.containerInfo),on(i,e),ln(e),Kn=o;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Hi,Q=Ie;if(Hi=j||h,Ie=Q||C,on(i,e),Ie=Q,Hi=j,ln(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Hi||Ie||Ms(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(lt){Yt(C,C.return,lt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){Yt(C,C.return,lt)}}}else if(i.tag===18){if(a===null){C=i;try{var F=C.stateNode;h?h_(F,!0):h_(C.stateNode,!1)}catch(lt){Yt(C,C.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,nc(e,a))));break;case 19:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(dy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Ff(e);ec(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(sn(p,""),a.flags&=-33);var E=Ff(e);ec(e,E,p);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Ff(e);Gf(e,j,C);break;default:throw Error(s(161))}}catch(Q){Yt(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function by(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;by(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Gi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)py(e,i.alternate,i),i=i.sibling}function Ms(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:wr(4,i,i.return),Ms(i);break;case 1:vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&hy(i,i.return,a),Ms(i);break;case 27:ul(i.stateNode);case 26:case 5:vi(i,i.return),Ms(i);break;case 22:i.memoizedState===null&&Ms(i);break;case 30:Ms(i);break;default:Ms(i)}e=e.sibling}}function Qi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,p=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,a),Zo(4,f);break;case 1:if(Qi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Zg(C[h],E)}catch(j){Yt(o,o.return,j)}}a&&p&64&&cy(f),tl(f,f.return);break;case 27:my(f);case 26:case 5:Qi(h,f,a),a&&o===null&&p&4&&fy(f),tl(f,f.return);break;case 12:Qi(h,f,a);break;case 31:Qi(h,f,a),a&&p&4&&vy(h,f);break;case 13:Qi(h,f,a),a&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,a),tl(f,f.return);break;case 30:break;default:Qi(h,f,a)}i=i.sibling}}function Kf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&jo(a))}function Yf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&jo(e))}function Yn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sy(e,i,a,o),i=i.sibling}function Sy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Yn(e,i,a,o),h&2048&&Zo(9,i);break;case 1:Yn(e,i,a,o);break;case 3:Yn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){Yn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(i,i.return,C)}}else Yn(e,i,a,o);break;case 31:Yn(e,i,a,o);break;case 13:Yn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,p=i.alternate,i.memoizedState!==null?f._visibility&2?Yn(e,i,a,o):el(e,i):f._visibility&2?Yn(e,i,a,o):(f._visibility|=2,Na(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,i);break;case 24:Yn(e,i,a,o),h&2048&&Yf(i.alternate,i);break;default:Yn(e,i,a,o)}}function Na(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,p=i,E=a,C=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Na(f,p,E,C,h),Zo(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Na(f,p,E,C,h):el(f,p):(Q._visibility|=2,Na(f,p,E,C,h)),h&&j&2048&&Kf(p.alternate,p);break;case 24:Na(f,p,E,C,h),h&&j&2048&&Yf(p.alternate,p);break;default:Na(f,p,E,C,h)}i=i.sibling}}function el(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:el(a,o),h&2048&&Kf(o.alternate,o);break;case 24:el(a,o),h&2048&&Yf(o.alternate,o);break;default:el(a,o)}i=i.sibling}}var nl=8192;function xa(e,i,a){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)Ay(e,i,a),e=e.sibling}function Ay(e,i,a){switch(e.tag){case 26:xa(e,i,a),e.flags&nl&&e.memoizedState!==null&&kb(a,Kn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,i,a);break;case 3:case 4:var o=Kn;Kn=pc(e.stateNode.containerInfo),xa(e,i,a),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,xa(e,i,a),nl=o):xa(e,i,a));break;default:xa(e,i,a)}}function wy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function il(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Iy(o,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&wr(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ic(e)):il(e);break;default:il(e)}}function ic(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Le=o,Iy(o,e)}wy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:wr(8,i,i.return),ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ic(i));break;default:ic(i)}e=e.sibling}}function Iy(e,i){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:wr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(yy(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var X1={getCacheForType:function(e){var i=qe(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},W1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,Nt=null,Dt=0,Kt=0,_n=null,Rr=!1,Da=!1,$f=!1,Ki=0,de=0,Ir=0,Vs=0,Xf=0,vn=0,Oa=0,rl=null,un=null,Wf=!1,rc=0,Cy=0,sc=1/0,ac=null,Cr=null,Me=0,Nr=null,Ma=null,Yi=0,Jf=0,Zf=null,Ny=null,sl=0,td=null;function En(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:G.T!==null?ad():ou()}function xy(){if(vn===0)if((Dt&536870912)===0||Pt){var e=os;os<<=1,(os&3932160)===0&&(os=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function cn(e,i,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),xr(e,Dt,vn,!1)),ls(e,a),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(Vs|=a),de===4&&xr(e,Dt,vn,!1)),Ei(e))}function Dy(e,i,a){if((Ft&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Pn(e,i),h=o?tb(e,i):nd(e,i,!0),f=o;do{if(h===0){Da&&!o&&xr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!J1(a)){h=nd(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var E=e;h=rl;var C=E.current.memoizedState.isDehydrated;if(C&&(Va(E,p).flags|=256),p=nd(E,p,!1),p!==2){if($f&&!C){E.errorRecoveryDisabledLanes|=f,Vs|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),xr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:xr(o,i,vn,!Rr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=rc+300-tn(),10<h)){if(xr(o,i,vn,!Rr),ni(o,0,!0)!==0)break t;Yi=i,o.timeoutHandle=l_(Oy.bind(null,o,a,un,ac,Wf,i,vn,Vs,Oa,Rr,f,"Throttled",-0,0),h);break t}Oy(o,a,un,ac,Wf,i,vn,Vs,Oa,Rr,f,null,-0,0)}}break}while(!0);Ei(e)}function Oy(e,i,a,o,h,f,p,E,C,j,Q,$,q,F){if(e.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Ay(i,f,$);var lt=(f&62914560)===f?rc-tn():(f&4194048)===f?Cy-tn():0;if(lt=Ub($,lt),lt!==null){Yi=f,e.cancelPendingCommit=lt(jy.bind(null,e,i,f,a,o,h,p,E,C,Q,$,null,q,F)),xr(e,f,p,!j);return}}jy(e,i,f,a,o,h,p,E,C)}function J1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xr(e,i,a,o){i&=~Xf,i&=~Vs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-me(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&us(e,a,i)}function oc(){return(Ft&6)===0?(al(0),!1):!0}function ed(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,Li=ws=null,yf(e),Aa=null,qo=0,e=Nt;for(;e!==null;)uy(e.alternate,e),e=e.return;Nt=null}}function Va(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,_b(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yi=0,ed(),te=e,Nt=a=ki(e.current,null),Dt=i,Kt=0,_n=null,Rr=!1,Da=Pn(e,i),$f=!1,Oa=vn=Xf=Vs=Ir=de=0,un=rl=null,Wf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-me(o),f=1<<h;i|=e[h],o&=~f}return Ki=i,Cu(),a}function My(e,i){Rt=null,G.H=Xo,i===Sa||i===Uu?(i=$g(),Kt=3):i===sf?(i=$g(),Kt=4):Kt=i===Mf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Nt===null&&(de=1,Xu(e,Cn(i,e.current)))}function Vy(){var e=pn.current;return e===null?!0:(Dt&4194048)===Dt?On===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===On:!1}function ky(){var e=G.H;return G.H=Xo,e===null?Xo:e}function Uy(){var e=G.A;return G.A=X1,e}function lc(){de=4,Rr||(Dt&4194048)!==Dt&&pn.current!==null||(Da=!0),(Ir&134217727)===0&&(Vs&134217727)===0||te===null||xr(te,Dt,vn,!1)}function nd(e,i,a){var o=Ft;Ft|=2;var h=ky(),f=Uy();(te!==e||Dt!==i)&&(ac=null,Va(e,i)),i=!1;var p=de;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,C=_n;switch(Kt){case 8:ed(),p=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var j=Kt;if(Kt=0,_n=null,ka(e,E,C,j),a&&Da){p=0;break t}break;default:j=Kt,Kt=0,_n=null,ka(e,E,C,j)}}Z1(),p=de;break}catch(Q){My(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Li=ws=null,Ft=o,G.H=h,G.A=f,Nt===null&&(te=null,Dt=0,Cu()),p}function Z1(){for(;Nt!==null;)Ly(Nt)}function tb(e,i){var a=Ft;Ft|=2;var o=ky(),h=Uy();te!==e||Dt!==i?(ac=null,sc=tn()+500,Va(e,i)):Da=Pn(e,i);t:do try{if(Kt!==0&&Nt!==null){i=Nt;var f=_n;e:switch(Kt){case 1:Kt=0,_n=null,ka(e,i,f,1);break;case 2:case 9:if(Kg(f)){Kt=0,_n=null,Py(i);break}i=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ei(e)},f.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Kg(f)?(Kt=0,_n=null,Py(i)):(Kt=0,_n=null,ka(e,i,f,7));break;case 5:var p=null;switch(Nt.tag){case 26:p=Nt.memoizedState;case 5:case 27:var E=Nt;if(p?S_(p):E.stateNode.complete){Kt=0,_n=null;var C=E.sibling;if(C!==null)Nt=C;else{var j=E.return;j!==null?(Nt=j,uc(j)):Nt=null}break e}}Kt=0,_n=null,ka(e,i,f,5);break;case 6:Kt=0,_n=null,ka(e,i,f,6);break;case 8:ed(),de=6;break t;default:throw Error(s(462))}}eb();break}catch(Q){My(e,Q)}while(!0);return Li=ws=null,G.H=o,G.A=h,Ft=a,Nt!==null?0:(te=null,Dt=0,Cu(),de)}function eb(){for(;Nt!==null&&!Dh();)Ly(Nt)}function Ly(e){var i=oy(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,i===null?uc(e):Nt=i}function Py(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=ey(a,i,i.pendingProps,i.type,void 0,Dt);break;case 11:i=ey(a,i,i.pendingProps,i.type.render,i.ref,Dt);break;case 5:yf(i);default:uy(a,i),i=Nt=Ug(i,Ki),i=oy(a,i,Ki)}e.memoizedProps=e.pendingProps,i===null?uc(e):Nt=i}function ka(e,i,a,o){Li=ws=null,yf(i),Aa=null,qo=0;var h=i.return;try{if(H1(e,h,i,a,Dt)){de=1,Xu(e,Cn(a,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;de=1,Xu(e,Cn(a,e.current)),Nt=null;return}i.flags&32768?(Pt||o===1?e=!0:Da||(Dt&536870912)!==0?e=!1:(Rr=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(i,e)):uc(i)}function uc(e){var i=e;do{if((i.flags&32768)!==0){zy(i,Rr);return}e=i.return;var a=Q1(i.alternate,i,Ki);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);de===0&&(de=5)}function zy(e,i){do{var a=K1(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);de=6,Nt=null}function jy(e,i,a,o,h,f,p,E,C){e.cancelPendingCommit=null;do cc();while(Me!==0);if((Ft&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Hh,Vh(e,a,f,p,E,C),e===te&&(Nt=te=null,Dt=0),Ma=i,Nr=e,Yi=a,Jf=f,Zf=h,Ny=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sb(ar,function(){return Gy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,p=Ft,Ft|=4;try{Y1(e,i,a)}finally{Ft=p,rt.p=h,G.T=o}}Me=1,By(),qy(),Hy()}}function By(){if(Me===1){Me=0;var e=Nr,i=Ma,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Ft;Ft|=4;try{Ty(i,e);var f=md,p=Ig(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Rg(E.ownerDocument.documentElement,E)){if(C!==null&&Ph(E)){var j=C.start,Q=C.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),lt=E.textContent.length,gt=Math.min(C.start,lt),Jt=C.end===void 0?gt:Math.min(C.end,lt);!F.extend&&gt>Jt&&(p=Jt,Jt=gt,gt=p);var U=wg(E,gt),M=wg(E,Jt);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=$.createRange();z.setStart(U.node,U.offset),F.removeAllRanges(),gt>Jt?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for($=[],F=E;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}bc=!!dd,md=dd=null}finally{Ft=h,rt.p=o,G.T=a}}e.current=i,Me=2}}function qy(){if(Me===2){Me=0;var e=Nr,i=Ma,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=rt.p;rt.p=2;var h=Ft;Ft|=4;try{py(e,i.alternate,i)}finally{Ft=h,rt.p=o,G.T=a}}Me=3}}function Hy(){if(Me===4||Me===3){Me=0,tu();var e=Nr,i=Ma,a=Yi,o=Ny;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,Ma=Nr=null,Fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cr=null),Di(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ln,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=i,rt.p=h}}(Yi&3)!==0&&cc(),Ei(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===td?sl++:(sl=0,td=e):sl=0,al(0)}}function Fy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,jo(i)))}function cc(){return By(),qy(),Hy(),Gy()}function Gy(){if(Me!==5)return!1;var e=Nr,i=Jf;Jf=0;var a=Di(Yi),o=G.T,h=rt.p;try{rt.p=32>a?32:a,G.T=null,a=Zf,Zf=null;var f=Nr,p=Yi;if(Me=0,Ma=Nr=null,Yi=0,(Ft&6)!==0)throw Error(s(331));var E=Ft;if(Ft|=4,Ry(f.current),Sy(f,f.current,p,a),Ft=E,al(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{rt.p=h,G.T=o,Fy(e,i)}}function Qy(e,i,a){i=Cn(a,i),i=Of(e.stateNode,i,2),e=br(e,i,2),e!==null&&(ls(e,2),Ei(e))}function Yt(e,i,a){if(e.tag===3)Qy(e,e,a);else for(;i!==null;){if(i.tag===3){Qy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cr===null||!Cr.has(o))){e=Cn(a,e),a=Kp(2),o=br(i,a,2),o!==null&&(Yp(a,o,i,e),ls(o,2),Ei(o));break}}i=i.return}}function id(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new W1;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||($f=!0,h.add(a),e=nb.bind(null,e,i,a),i.then(e,e))}function nb(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Dt&a)===a&&(de===4||de===3&&(Dt&62914560)===Dt&&300>tn()-rc?(Ft&2)===0&&Va(e,0):Xf|=a,Oa===Dt&&(Oa=0)),Ei(e)}function Ky(e,i){i===0&&(i=au()),e=bs(e,i),e!==null&&(ls(e,i),Ei(e))}function ib(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ky(e,a)}function rb(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Ky(e,a)}function sb(e,i){return Oe(e,i)}var hc=null,Ua=null,rd=!1,fc=!1,sd=!1,Dr=0;function Ei(e){e!==Ua&&e.next===null&&(Ua===null?hc=Ua=e:Ua=Ua.next=e),fc=!0,rd||(rd=!0,ob())}function al(e,i){if(!sd&&fc){sd=!0;do for(var a=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Wy(o,f))}else f=Dt,f=ni(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(a=!0,Wy(o,f));o=o.next}while(a);sd=!1}}function ab(){Yy()}function Yy(){fc=rd=!1;var e=0;Dr!==0&&yb()&&(e=Dr);for(var i=tn(),a=null,o=hc;o!==null;){var h=o.next,f=$y(o,i);f===0?(o.next=null,a===null?hc=h:a.next=h,h===null&&(Ua=a)):(a=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}Me!==0&&Me!==5||al(e),Dr!==0&&(Dr=0)}function $y(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-me(f),E=1<<p,C=h[p];C===-1?((E&a)===0||(E&o)!==0)&&(h[p]=Mh(E,i)):C<=i&&(e.expiredLanes|=E),f&=~E}if(i=te,a=Dt,a=ni(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&sr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&sr(o),Di(a)){case 2:case 8:a=po;break;case 32:a=ar;break;case 268435456:a=eu;break;default:a=ar}return o=Xy.bind(null,e),a=Oe(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&sr(o),e.callbackPriority=2,e.callbackNode=null,2}function Xy(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(cc()&&e.callbackNode!==a)return null;var o=Dt;return o=ni(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dy(e,o,i),$y(e,tn()),e.callbackNode!=null&&e.callbackNode===a?Xy.bind(null,e):null)}function Wy(e,i){if(cc())return null;Dy(e,i,!0)}function ob(){vb(function(){(Ft&6)!==0?Oe(go,ab):Yy()})}function ad(){if(Dr===0){var e=Ta;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Dr=e}return Dr}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Zy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function lb(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Jy((h[ke]||null).action),p=o.submitter;p&&(i=(i=p[ke]||null)?Jy(i.formAction):p.getAttribute("formAction"),i!==null&&(f=i,p=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Dr!==0){var C=p?Zy(h,p):new FormData(h);Rf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?Zy(h,p):new FormData(h),Rf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],ub=ld.toLowerCase(),cb=ld[0].toUpperCase()+ld.slice(1);Qn(ub,"on"+cb)}Qn(xg,"onAnimationEnd"),Qn(Dg,"onAnimationIteration"),Qn(Og,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(R1,"onTransitionRun"),Qn(I1,"onTransitionStart"),Qn(C1,"onTransitionCancel"),Qn(Mg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function t_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=C}}}}function xt(e,i){var a=i[ea];a===void 0&&(a=i[ea]=new Set);var o=e+"__bubble";a.has(o)||(e_(i,e,2,!1),a.add(o))}function ud(e,i,a){var o=0;i&&(o|=4),e_(a,e,o,i)}var dc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[dc]){e[dc]=!0,vo.forEach(function(a){a!=="selectionchange"&&(hb.has(a)||ud(a,!1,e),ud(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[dc]||(i[dc]=!0,ud("selectionchange",!1,i))}}function e_(e,i,a,o){switch(x_(i)){case 2:var h=zb;break;case 8:h=jb;break;default:h=wd}a=h.bind(null,i,a,e),h=void 0,!ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function hd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue t}E=E.parentNode}}o=o.return}fr(function(){var j=f,Q=An(a),$=[];t:{var q=Vg.get(e);if(q!==void 0){var F=di,lt=e;switch(e){case"keypress":if(ps(a)===0)break t;case"keydown":case"keyup":F=Au;break;case"focusin":lt="focus",F=_s;break;case"focusout":lt="blur",F=_s;break;case"beforeblur":case"afterblur":F=_s;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case xg:case Dg:case Og:F=yu;break;case Mg:F=b;break;case"scroll":case"scrollend":F=Do;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Vi;break;case"toggle":case"beforetoggle":F=wt}var gt=(i&4)!==0,Jt=!gt&&(e==="scroll"||e==="scrollend"),U=gt?q!==null?q+"Capture":null:q;gt=[];for(var M=j,z;M!==null;){var K=M;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=qn(M,U),K!=null&&gt.push(ll(M,K,z))),Jt)break;M=M.return}0<gt.length&&(q=new F(q,lt,null,a,Q),$.push({event:q,listeners:gt}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",q&&a!==Co&&(lt=a.relatedTarget||a.fromElement)&&(ai(lt)||lt[ri]))break t;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(lt=a.relatedTarget||a.toElement,F=j,lt=lt?ai(lt):null,lt!==null&&(Jt=c(lt),gt=lt.tag,lt!==Jt||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(F=null,lt=j),F!==lt)){if(gt=Oo,K="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Vi,K="onPointerLeave",U="onPointerEnter",M="pointer"),Jt=F==null?q:fn(F),z=lt==null?q:fn(lt),q=new gt(K,M+"leave",F,a,Q),q.target=Jt,q.relatedTarget=z,K=null,ai(Q)===j&&(gt=new gt(U,M+"enter",lt,a,Q),gt.target=z,gt.relatedTarget=Jt,K=gt),Jt=K,F&&lt)e:{for(gt=fb,U=F,M=lt,z=0,K=U;K;K=gt(K))z++;K=0;for(var ft=M;ft;ft=gt(ft))K++;for(;0<z-K;)U=gt(U),z--;for(;0<K-z;)M=gt(M),K--;for(;z--;){if(U===M||M!==null&&U===M.alternate){gt=U;break e}U=gt(U),M=gt(M)}gt=null}else gt=null;F!==null&&n_($,q,F,gt,!1),lt!==null&&Jt!==null&&n_($,Jt,lt,gt,!0)}}t:{if(q=j?fn(j):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Bt=vg;else if(yg(q))if(Eg)Bt=S1;else{Bt=T1;var ut=E1}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&sa(j.elementType)&&(Bt=vg):Bt=b1;if(Bt&&(Bt=Bt(e,j))){_g($,Bt,a,Q);break t}ut&&ut(e,q,j),e==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&wo(q,"number",q.value)}switch(ut=j?fn(j):window,e){case"focusin":(yg(ut)||ut.contentEditable==="true")&&(da=ut,zh=j,Lo=null);break;case"focusout":Lo=zh=da=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Cg($,a,Q);break;case"selectionchange":if(w1)break;case"keydown":case"keyup":Cg($,a,Q)}var It;if(Ht)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else fa?vs(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(pi&&a.locale!=="ko"&&(fa||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&fa&&(It=xo()):(fi=Q,No="value"in fi?fi.value:fi.textContent,fa=!0)),ut=mc(j,Ot),0<ut.length&&(Ot=new gi(Ot,e,null,a,Q),$.push({event:Ot,listeners:ut}),It?Ot.data=It:(It=ha(a),It!==null&&(Ot.data=It)))),(It=Rn?p1(e,a):y1(e,a))&&(Ot=mc(j,"onBeforeInput"),0<Ot.length&&(ut=new gi("onBeforeInput","beforeinput",null,a,Q),$.push({event:ut,listeners:Ot}),ut.data=It)),lb($,e,j,a,Q)}t_($,i)})}function ll(e,i,a){return{instance:e,listener:i,currentTarget:a}}function mc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,a),h!=null&&o.unshift(ll(e,h,f)),h=qn(e,i),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function fb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,i,a,o,h){for(var f=i._reactName,p=[];a!==null&&a!==o;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=qn(a,f),j!=null&&p.unshift(ll(a,j,C))):h||(j=qn(a,f),j!=null&&p.push(ll(a,j,C)))),a=a.return}p.length!==0&&e.push({event:i,listeners:p})}var db=/\r\n?/g,mb=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(db,`
`).replace(mb,"")}function r_(e,i){return i=i_(i),i_(e)===i}function Wt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,a,o);break;case"style":Io(e,o,f);break;case"data":if(i!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=aa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=aa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ia(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,ia(e,a,o))}}function fd(e,i,a,o,h,f){switch(a){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ia(e,a,o)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,f,p,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var E=f=p=h=null,C=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":C=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Wt(e,i,o,Q,a,null)}}hu(e,f,E,C,j,p,h,!1);return;case"select":xt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Wt(e,i,h,E,a,null)}i=f,a=p,e.multiple=!!o,i!=null?lr(e,!!o,i,!1):a!=null&&lr(e,!!o,a,!0);return;case"textarea":xt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,i,p,E,a,null)}ur(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,i,C,o,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)xt(ol[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,j,o,a,null)}return;default:if(sa(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&fd(e,i,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,i,E,o,a,null))}function gb(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,j=null,Q=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(F)||Wt(e,i,F,null,o,$)}}for(var q in o){var F=o[q];if($=a[q],o.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Q=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==$&&Wt(e,i,q,F,o,$)}}ra(e,p,E,C,j,Q,f,h);return;case"select":F=p=E=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||Wt(e,i,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&Wt(e,i,h,f,o,C)}i=E,a=p,o=F,q!=null?lr(e,!!a,q,!1):!!o!=!!a&&(i!=null?lr(e,!!a,i,!0):lr(e,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,i,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Wt(e,i,p,h,o,f)}fu(e,q,F);return;case"option":for(var lt in a)if(q=a[lt],a.hasOwnProperty(lt)&&q!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:Wt(e,i,lt,null,o,q)}for(C in o)if(q=o[C],F=a[C],o.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Wt(e,i,C,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)q=a[gt],a.hasOwnProperty(gt)&&q!=null&&!o.hasOwnProperty(gt)&&Wt(e,i,gt,null,o,q);for(j in o)if(q=o[j],F=a[j],o.hasOwnProperty(j)&&q!==F&&(q!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Wt(e,i,j,q,o,F)}return;default:if(sa(i)){for(var Jt in a)q=a[Jt],a.hasOwnProperty(Jt)&&q!==void 0&&!o.hasOwnProperty(Jt)&&fd(e,i,Jt,void 0,o,q);for(Q in o)q=o[Q],F=a[Q],!o.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||fd(e,i,Q,q,o,F);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&Wt(e,i,U,null,o,q);for($ in o)q=o[$],F=a[$],!o.hasOwnProperty($)||q===F||q==null&&F==null||Wt(e,i,$,q,o,F)}function s_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&s_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],j=C.startTime;if(j>E)break;var Q=C.transferSize,$=C.initiatorType;Q&&s_($)&&(C=C.responseEnd,p+=Q*(C<E?1:(E-j)/(C-j)))}if(--o,i+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function gd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pd=null;function yb(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(Eb)}:l_;function Eb(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function c_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),ja(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ul(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ul(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&ul(e.ownerDocument.body);a=h}while(a);ja(i)}function h_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function yd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Tb(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function bb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mn(e.nextSibling),e===null))return null;return e}function f_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Mn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Ed=null;function d_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Mn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function m_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function g_(e,i,a){switch(i=gc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ul(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);na(e)}var Vn=new Map,p_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=rt.d;rt.d={f:Ab,r:wb,D:Rb,C:Ib,L:Cb,m:Nb,X:Db,S:xb,M:Ob};function Ab(){var e=$i.f(),i=oc();return e||i}function wb(e){var i=Sn(e);i!==null&&i.tag===5&&i.type==="form"?Mp(i):$i.r(e)}var La=typeof document>"u"?null:document;function y_(e,i,a){var o=La;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Fe(i,"link",e),be(i),o.head.appendChild(i)))}}function Rb(e){$i.D(e),y_("dns-prefetch",e,null)}function Ib(e,i){$i.C(e,i),y_("preconnect",e,i)}function Cb(e,i,a){$i.L(e,i,a);var o=La;if(o&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(i){case"style":f=Pa(e);break;case"script":f=za(e)}Vn.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(cl(f))||i==="script"&&o.querySelector(hl(f))||(i=o.createElement("link"),Fe(i,"link",e),be(i),o.head.appendChild(i)))}}function Nb(e,i){$i.m(e,i);var a=La;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Vn.has(f)&&(e=A({rel:"modulepreload",href:e},i),Vn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(f)))return}o=a.createElement("link"),Fe(o,"link",e),be(o),a.head.appendChild(o)}}}function xb(e,i,a){$i.S(e,i,a);var o=La;if(o&&e){var h=oi(o).hoistableStyles,f=Pa(e);i=i||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(cl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(f))&&Td(e,a);var C=p=o.createElement("link");be(C),Fe(C,"link",e),C._p=new Promise(function(j,Q){C.onload=j,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(p,i,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function Db(e,i){$i.X(e,i);var a=La;if(a&&e){var o=oi(a).hoistableScripts,h=za(e),f=o.get(h);f||(f=a.querySelector(hl(h)),f||(e=A({src:e,async:!0},i),(i=Vn.get(h))&&bd(e,i),f=a.createElement("script"),be(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ob(e,i){$i.M(e,i);var a=La;if(a&&e){var o=oi(a).hoistableScripts,h=za(e),f=o.get(h);f||(f=a.querySelector(hl(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&bd(e,i),f=a.createElement("script"),be(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(e,i,a,o){var h=(h=Tt.current)?pc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Pa(a.href),a=oi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pa(a.href);var f=oi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(cl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),f||Mb(h,e,a,p.state))),i&&o===null)throw Error(s(528,""));return p}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=za(a),a=oi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pa(e){return'href="'+rn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Mb(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Fe(i,"link",a),be(i),e.head.appendChild(i))}function za(e){return'[src="'+rn(e)+'"]'}function hl(e){return"script[async]"+e}function E_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,be(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),be(o),Fe(o,"style",h),yc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Pa(a.href);var f=e.querySelector(cl(h));if(f)return i.state.loading|=4,i.instance=f,be(f),f;o=v_(a),(h=Vn.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),be(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Fe(f,"link",o),i.state.loading|=4,yc(f,a.precedence,e),i.instance=f;case"script":return f=za(a.src),(h=e.querySelector(hl(f)))?(i.instance=h,be(h),h):(o=a,(h=Vn.get(f))&&(o=A({},a),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),be(h),Fe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,yc(o,a.precedence,e));return i.instance}function yc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var _c=null;function T_(e,i,a){if(_c===null){var o=new Map,h=_c=new Map;h.set(a,o)}else h=_c,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[si]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(i)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function b_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Vb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kb(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(o.href),f=i.querySelector(cl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=vc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,be(f);return}f=i.ownerDocument||i,o=v_(o),(h=Vn.get(h))&&Td(o,h),f=f.createElement("link"),be(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Sd=0;function Ub(e,i){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Sd===0&&(Sd=62500*pb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,i.forEach(Lb,e),Ec=null,vc.call(e))}function Lb(e,i){if(!(i.state.loading&4)){var a=Ec.get(e);if(a)var o=a.get(null);else{a=new Map,Ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=i.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var fl={$$typeof:st,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Pb(e,i,a,o,h,f,p,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function A_(e,i,a,o,h,f,p,E,C,j,Q,$){return e=new Pb(e,i,a,p,C,j,Q,$,E),i=1,f===!0&&(i|=24),f=gn(3,null,null,i),e.current=f,f.stateNode=e,i=ef(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},af(f),e}function w_(e){return e?(e=pa,e):pa}function R_(e,i,a,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Tr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=br(e,o,i),a!==null&&(cn(a,e,i),Fo(a,e,i))}function I_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Ad(e,i){I_(e,i),(e=e.alternate)&&I_(e,i)}function C_(e){if(e.tag===13||e.tag===31){var i=bs(e,67108864);i!==null&&cn(i,e,67108864),Ad(e,67108864)}}function N_(e){if(e.tag===13||e.tag===31){var i=En();i=cs(i);var a=bs(e,i);a!==null&&cn(a,e,i),Ad(e,i)}}var bc=!0;function zb(e,i,a,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,wd(e,i,a,o)}finally{rt.p=f,G.T=h}}function jb(e,i,a,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,wd(e,i,a,o)}finally{rt.p=f,G.T=h}}function wd(e,i,a,o){if(bc){var h=Rd(o);if(h===null)hd(e,i,o,Sc,a),D_(e,o);else if(qb(h,e,i,a,o))o.stopPropagation();else if(D_(e,o),i&4&&-1<Bb.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-me(p);E.entanglements[1]|=C,p&=~C}Ei(f),(Ft&6)===0&&(sc=tn()+500,al(0))}}break;case 31:case 13:E=bs(f,2),E!==null&&cn(E,f,2),oc(),Ad(f,2)}if(f=Rd(o),f===null&&hd(e,i,o,Sc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,i,o,null,a)}}function Rd(e){return e=An(e),Id(e)}var Sc=null;function Id(e){if(Sc=null,e=ai(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Sc=e,null}function x_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(as()){case go:return 2;case po:return 8;case ar:case Oh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Cd=!1,Mr=null,Vr=null,kr=null,dl=new Map,ml=new Map,Ur=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,i){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(i.pointerId)}}function gl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Sn(i),i!==null&&C_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function qb(e,i,a,o,h){switch(i){case"focusin":return Mr=gl(Mr,e,i,a,o,h),!0;case"dragenter":return Vr=gl(Vr,e,i,a,o,h),!0;case"mouseover":return kr=gl(kr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,gl(dl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,gl(ml.get(f)||null,e,i,a,o,h)),!0}return!1}function O_(e){var i=ai(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,zn(e.priority,function(){N_(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,zn(e.priority,function(){N_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Rd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Co=o,a.target.dispatchEvent(o),Co=null}else return i=Sn(a),i!==null&&C_(i),e.blockedOn=a,!1;i.shift()}return!0}function M_(e,i,a){Ac(e)&&a.delete(i)}function Hb(){Cd=!1,Mr!==null&&Ac(Mr)&&(Mr=null),Vr!==null&&Ac(Vr)&&(Vr=null),kr!==null&&Ac(kr)&&(kr=null),dl.forEach(M_),ml.forEach(M_)}function wc(e,i){e.blockedOn===i&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hb)))}var Rc=null;function V_(e){Rc!==e&&(Rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Id(o||a)===null)continue;break}var f=Sn(a);f!==null&&(e.splice(i,3),i-=3,Rf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ja(e){function i(C){return wc(C,e)}Mr!==null&&wc(Mr,e),Vr!==null&&wc(Vr,e),kr!==null&&wc(kr,e),dl.forEach(i),ml.forEach(i);for(var a=0;a<Ur.length;a++){var o=Ur[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ur.length&&(a=Ur[0],a.blockedOn===null);)O_(a),a.blockedOn===null&&Ur.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[ke]||null;if(typeof f=="function")p||V_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Id(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),V_(a)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}Ic.prototype.render=Nd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=En();R_(a,o,e,i,null,null)},Ic.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;R_(e.current,2,null,e,null,null),oc(),i[ri]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var i=ou();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ur.length&&i!==0&&i<Ur[a].priority;a++);Ur.splice(a,0,e),a===0&&O_(e)}};var U_=t.version;if(U_!=="19.2.3")throw Error(s(527,U_,"19.2.3"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Fb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Ln=Cc.inject(Fb),ze=Cc}catch{}}return yl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Hp,f=Fp,p=Gp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=A_(e,1,!1,null,null,a,o,null,h,f,p,k_),e[ri]=i.current,cd(e),new Nd(i)},yl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Hp,p=Fp,E=Gp,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=A_(e,1,!0,i,a??null,o,h,C,f,p,E,k_),i.context=w_(null),a=i.current,o=En(),o=cs(o),h=Tr(o),h.callback=null,br(a,h,o),a=o,i.current.lanes=a,ls(i,a),Ei(i),e[ri]=i.current,cd(e),new Ic(i)},yl.version="19.2.3",yl}var Q_;function Zb(){if(Q_)return Od.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=Jb(),Od.exports}var tS=Zb();const eS=N0(tS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),K_=r=>{const t=iS(r);return t.charAt(0).toUpperCase()+t.slice(1)},O0=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),rS=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=mt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},y)=>mt.createElement("svg",{ref:y,...sS,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:O0("lucide",l),...!c&&!rS(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>mt.createElement(_,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=(r,t)=>{const n=mt.forwardRef(({className:s,...l},c)=>mt.createElement(aS,{ref:c,iconNode:t,className:O0(`lucide-${nS(K_(r))}`,`lucide-${r}`,s),...l}));return n.displayName=K_(r),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lS=Zt("calendar",oS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cS=Zt("chevron-down",uS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fS=Zt("chevron-left",hS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mS=Zt("chevron-right",dS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pS=Zt("circle-alert",gS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Y_=Zt("clipboard",yS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$_=Zt("copy",_S);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],ES=Zt("dumbbell",vS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bS=Zt("eye-off",TS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AS=Zt("eye",SS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Dl=Zt("loader-circle",wS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],X_=Zt("lock",RS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],CS=Zt("log-in",IS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xS=Zt("log-out",NS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],OS=Zt("mail",DS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],VS=Zt("maximize-2",MS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],US=Zt("menu",kS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],PS=Zt("minimize-2",LS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jS=Zt("moon",zS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],M0=Zt("plus",BS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],V0=Zt("rotate-cw",qS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],FS=Zt("save",HS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],QS=Zt("sun",GS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],W_=Zt("trash-2",KS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],$S=Zt("type",YS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],WS=Zt("upload",XS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ZS=Zt("user-plus",JS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bm=Zt("x",tA),eA=()=>{};var J_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},nA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,T=c>>2,A=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,B=_&63;y||(B=64,d||(D=64)),s.push(n[T],n[A],n[D],n[B])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(k0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):nA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const A=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new iA;const D=c<<2|g>>4;if(s.push(D),_!==64){const B=g<<4&240|_>>2;if(s.push(B),A!==64){const X=_<<6&192|A;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class iA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rA=function(r){const t=k0(r);return U0.encodeByteArray(t,!0)},Gc=function(r){return rA(r).replace(/\./g,"")},L0=function(r){try{return U0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=()=>sA().__FIREBASE_DEFAULTS__,oA=()=>{if(typeof process>"u"||typeof J_>"u")return;const r=J_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&L0(r[1]);return t&&JSON.parse(t)},ch=()=>{try{return eA()||aA()||oA()||lA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},P0=r=>{var t,n;return(n=(t=ch())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},z0=r=>{const t=P0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},j0=()=>{var r;return(r=ch())==null?void 0:r.config},B0=r=>{var t;return(t=ch())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sm(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(n)),Gc(JSON.stringify(d)),""].join(".")}const wl={};function hA(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function fA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Z_=!1;function Am(r,t){if(typeof window>"u"||typeof document>"u"||!Fs(window.location.host)||wl[r]===t||wl[r]||Z_)return;wl[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=hA().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,B){D.setAttribute("width","24"),D.setAttribute("id",B),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Z_=!0,d()},D}function T(D,B){D.setAttribute("id",B),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=fA(s),B=n("text"),X=document.getElementById(B)||document.createElement("span"),J=n("learnmore"),tt=document.getElementById(J)||document.createElement("a"),nt=n("preprendIcon"),ct=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const st=D.element;g(st),T(tt,J);const Ct=_();y(ct,nt),st.append(ct,X,tt,Ct),document.body.appendChild(st)}c?(X.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function mA(){var t;const r=(t=ch())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _A(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vA(){return!mA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EA(){try{return typeof indexedDB=="object"}catch{return!1}}function TA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)==null?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="FirebaseError";class rr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=bA,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?SA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new rr(l,g,s)}}function SA(r,t){return r.replace(AA,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const AA=/\{\$([^}]+)}/g;function wA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ps(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(tv(c)&&tv(d)){if(!Ps(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function tv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function _l(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function vl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function RA(r,t){const n=new IA(r,t);return n.subscribe.bind(n)}class IA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");CA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(r){return r&&r._delegate?r._delegate:r}class Yr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new uA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DA(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ks){return this.instances.has(t)}getOptions(t=ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ks){return this.component?this.component.multipleInstances?t:ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xA(r){return r===ks?void 0:r}function DA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new NA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const MA={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},VA=Mt.INFO,kA={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},UA=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=kA[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=VA,this._logHandler=UA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const LA=(r,t)=>t.some(n=>r instanceof n);let ev,nv;function PA(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zA(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q0=new WeakMap,Yd=new WeakMap,H0=new WeakMap,Ld=new WeakMap,Rm=new WeakMap;function jA(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Fr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&q0.set(n,r)}).catch(()=>{}),Rm.set(t,r),t}function BA(r){if(Yd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,t)}let $d={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Yd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||H0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function qA(r){$d=r($d)}function HA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Pd(this),t,...n);return H0.set(s,t.sort?t.sort():[t]),Fr(s)}:zA().includes(r)?function(...t){return r.apply(Pd(this),t),Fr(q0.get(this))}:function(...t){return Fr(r.apply(Pd(this),t))}}function FA(r){return typeof r=="function"?HA(r):(r instanceof IDBTransaction&&BA(r),LA(r,PA())?new Proxy(r,$d):r)}function Fr(r){if(r instanceof IDBRequest)return jA(r);if(Ld.has(r))return Ld.get(r);const t=FA(r);return t!==r&&(Ld.set(r,t),Rm.set(t,r)),t}const Pd=r=>Rm.get(r);function GA(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Fr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Fr(d.result),y.oldVersion,y.newVersion,Fr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const QA=["get","getKey","getAll","getAllKeys","count"],KA=["put","add","delete","clear"],zd=new Map;function iv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=KA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||QA.includes(n)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&y.done]))[0]};return zd.set(t,c),c}qA(r=>({...r,get:(t,n,s)=>iv(t,n)||r.get(t,n,s),has:(t,n)=>!!iv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($A(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $A(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xd="@firebase/app",rv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new wm("@firebase/app"),XA="@firebase/app-compat",WA="@firebase/analytics-compat",JA="@firebase/analytics",ZA="@firebase/app-check-compat",tw="@firebase/app-check",ew="@firebase/auth",nw="@firebase/auth-compat",iw="@firebase/database",rw="@firebase/data-connect",sw="@firebase/database-compat",aw="@firebase/functions",ow="@firebase/functions-compat",lw="@firebase/installations",uw="@firebase/installations-compat",cw="@firebase/messaging",hw="@firebase/messaging-compat",fw="@firebase/performance",dw="@firebase/performance-compat",mw="@firebase/remote-config",gw="@firebase/remote-config-compat",pw="@firebase/storage",yw="@firebase/storage-compat",_w="@firebase/firestore",vw="@firebase/ai",Ew="@firebase/firestore-compat",Tw="firebase",bw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="[DEFAULT]",Sw={[Xd]:"fire-core",[XA]:"fire-core-compat",[JA]:"fire-analytics",[WA]:"fire-analytics-compat",[tw]:"fire-app-check",[ZA]:"fire-app-check-compat",[ew]:"fire-auth",[nw]:"fire-auth-compat",[iw]:"fire-rtdb",[rw]:"fire-data-connect",[sw]:"fire-rtdb-compat",[aw]:"fire-fn",[ow]:"fire-fn-compat",[lw]:"fire-iid",[uw]:"fire-iid-compat",[cw]:"fire-fcm",[hw]:"fire-fcm-compat",[fw]:"fire-perf",[dw]:"fire-perf-compat",[mw]:"fire-rc",[gw]:"fire-rc-compat",[pw]:"fire-gcs",[yw]:"fire-gcs-compat",[_w]:"fire-fst",[Ew]:"fire-fst-compat",[vw]:"fire-vertex","fire-js":"fire-js",[Tw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,Aw=new Map,Jd=new Map;function sv(r,t){try{r.container.addComponent(t)}catch(n){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function zs(r){const t=r.name;if(Jd.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,r);for(const n of Qc.values())sv(n,r);for(const n of Aw.values())sv(n,r);return!0}function hh(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Tn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new ql("app","Firebase",ww);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=bw;function F0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Wd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Gr.create("bad-app-name",{appName:String(l)});if(n||(n=j0()),!n)throw Gr.create("no-options");const c=Qc.get(l);if(c){if(Ps(n,c.options)&&Ps(s,c.config))return c;throw Gr.create("duplicate-app",{appName:l})}const d=new OA(l);for(const y of Jd.values())d.addComponent(y);const g=new Rw(n,s,d);return Qc.set(l,g),g}function Im(r=Wd){const t=Qc.get(r);if(!t&&r===Wd&&j0())return F0();if(!t)throw Gr.create("no-app",{appName:r});return t}function bi(r,t,n){let s=Sw[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(d.join(" "));return}zs(new Yr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="firebase-heartbeat-database",Cw=1,Ol="firebase-heartbeat-store";let jd=null;function G0(){return jd||(jd=GA(Iw,Cw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(r=>{throw Gr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function Nw(r){try{const n=(await G0()).transaction(Ol),s=await n.objectStore(Ol).get(Q0(r));return await n.done,s}catch(t){if(t instanceof rr)tr.warn(t.message);else{const n=Gr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});tr.warn(n.message)}}}async function av(r,t){try{const s=(await G0()).transaction(Ol,"readwrite");await s.objectStore(Ol).put(t,Q0(r)),await s.done}catch(n){if(n instanceof rr)tr.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(s.message)}}}function Q0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=1024,Dw=30;class Ow{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=ov();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Dw){const d=kw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){tr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ov(),{heartbeatsToSend:s,unsentEntries:l}=Mw(this._heartbeatsCache.heartbeats),c=Gc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return tr.warn(n),""}}}function ov(){return new Date().toISOString().substring(0,10)}function Mw(r,t=xw){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),lv(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),lv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Vw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EA()?TA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function lv(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function kw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r){zs(new Yr("platform-logger",t=>new YA(t),"PRIVATE")),zs(new Yr("heartbeat",t=>new Ow(t),"PRIVATE")),bi(Xd,rv,r),bi(Xd,rv,"esm2020"),bi("fire-js","")}Uw("");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,K0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function R(){}R.prototype=w.prototype,N.F=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,O,k){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return w.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],O=N.g[2];let k=N.g[3],I;I=w+(k^R&(O^k))+V[0]+3614090360&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(O^w&(R^O))+V[1]+3905402710&4294967295,k=w+(I<<12&4294967295|I>>>20),I=O+(R^k&(w^R))+V[2]+606105819&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(w^O&(k^w))+V[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(k^R&(O^k))+V[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(O^w&(R^O))+V[5]+1200080426&4294967295,k=w+(I<<12&4294967295|I>>>20),I=O+(R^k&(w^R))+V[6]+2821735955&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(w^O&(k^w))+V[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(k^R&(O^k))+V[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(O^w&(R^O))+V[9]+2336552879&4294967295,k=w+(I<<12&4294967295|I>>>20),I=O+(R^k&(w^R))+V[10]+4294925233&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(w^O&(k^w))+V[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(k^R&(O^k))+V[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=k+(O^w&(R^O))+V[13]+4254626195&4294967295,k=w+(I<<12&4294967295|I>>>20),I=O+(R^k&(w^R))+V[14]+2792965006&4294967295,O=k+(I<<17&4294967295|I>>>15),I=R+(w^O&(k^w))+V[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=w+(O^k&(R^O))+V[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(w^R))+V[6]+3225465664&4294967295,k=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(k^w))+V[11]+643717713&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(O^k))+V[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^k&(R^O))+V[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(w^R))+V[10]+38016083&4294967295,k=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(k^w))+V[15]+3634488961&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(O^k))+V[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^k&(R^O))+V[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(w^R))+V[14]+3275163606&4294967295,k=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(k^w))+V[3]+4107603335&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(O^k))+V[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(O^k&(R^O))+V[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=k+(R^O&(w^R))+V[2]+4243563512&4294967295,k=w+(I<<9&4294967295|I>>>23),I=O+(w^R&(k^w))+V[7]+1735328473&4294967295,O=k+(I<<14&4294967295|I>>>18),I=R+(k^w&(O^k))+V[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=w+(R^O^k)+V[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^O)+V[8]+2272392833&4294967295,k=w+(I<<11&4294967295|I>>>21),I=O+(k^w^R)+V[11]+1839030562&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^w)+V[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^k)+V[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^O)+V[4]+1272893353&4294967295,k=w+(I<<11&4294967295|I>>>21),I=O+(k^w^R)+V[7]+4139469664&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^w)+V[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^k)+V[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^O)+V[0]+3936430074&4294967295,k=w+(I<<11&4294967295|I>>>21),I=O+(k^w^R)+V[3]+3572445317&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^w)+V[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(R^O^k)+V[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=k+(w^R^O)+V[12]+3873151461&4294967295,k=w+(I<<11&4294967295|I>>>21),I=O+(k^w^R)+V[15]+530742520&4294967295,O=k+(I<<16&4294967295|I>>>16),I=R+(O^k^w)+V[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=w+(O^(R|~k))+V[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~O))+V[7]+1126891415&4294967295,k=w+(I<<10&4294967295|I>>>22),I=O+(w^(k|~R))+V[14]+2878612391&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~w))+V[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~k))+V[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~O))+V[3]+2399980690&4294967295,k=w+(I<<10&4294967295|I>>>22),I=O+(w^(k|~R))+V[10]+4293915773&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~w))+V[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~k))+V[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~O))+V[15]+4264355552&4294967295,k=w+(I<<10&4294967295|I>>>22),I=O+(w^(k|~R))+V[6]+2734768916&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~w))+V[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=w+(O^(R|~k))+V[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=k+(R^(w|~O))+V[11]+3174756917&4294967295,k=w+(I<<10&4294967295|I>>>22),I=O+(w^(k|~R))+V[2]+718787259&4294967295,O=k+(I<<15&4294967295|I>>>17),I=R+(k^(O|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+k&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const R=w-this.blockSize,V=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=R;)l(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(V[O++]=N.charCodeAt(k++),O==this.blockSize){l(this,V),O=0;break}}else for(;k<w;)if(V[O++]=N[k++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[w++]=this.g[R]>>>V&255;return N};function c(N,w){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function d(N,w){this.h=w;const R=[];let V=!0;for(let O=N.length-1;O>=0;O--){const k=N[O]|0;V&&k==w||(R[O]=k,V=!1)}this.g=R}var g={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return tt(_(-N));const w=[];let R=1;for(let V=0;N>=R;V++)w[V]=N/R|0,R*=4294967296;return new d(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return tt(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let V=A;for(let k=0;k<N.length;k+=8){var O=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+O),w);O<8?(O=_(Math.pow(w,O)),V=V.j(O).add(_(I))):(V=V.j(R),V=V.add(_(I)))}return V}var A=y(0),D=y(1),B=y(16777216);r=d.prototype,r.m=function(){if(J(this))return-tt(this).m();let N=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(X(this))return"0";if(J(this))return"-"+tt(this).toString(N);const w=_(Math.pow(N,6));var R=this;let V="";for(;;){const O=Ct(R,w).g;R=nt(R,O.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,X(R))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function X(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function J(N){return N.h==-1}r.l=function(N){return N=nt(this,N),J(N)?-1:X(N)?0:1};function tt(N){const w=N.g.length,R=[];for(let V=0;V<w;V++)R[V]=~N.g[V];return new d(R,~N.h).add(D)}r.abs=function(){return J(this)?tt(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let O=0;O<=w;O++){let k=V+(this.i(O)&65535)+(N.i(O)&65535),I=(k>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=I>>>16,k&=65535,I&=65535,R[O]=I<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function nt(N,w){return N.add(tt(w))}r.j=function(N){if(X(this)||X(N))return A;if(J(this))return J(N)?tt(this).j(tt(N)):tt(tt(this).j(N));if(J(N))return tt(this.j(tt(N)));if(this.l(B)<0&&N.l(B)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const k=this.i(V)>>>16,I=this.i(V)&65535,ee=N.i(O)>>>16,he=N.i(O)&65535;R[2*V+2*O]+=I*he,ct(R,2*V+2*O),R[2*V+2*O+1]+=k*he,ct(R,2*V+2*O+1),R[2*V+2*O+1]+=I*ee,ct(R,2*V+2*O+1),R[2*V+2*O+2]+=k*ee,ct(R,2*V+2*O+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new d(R,0)};function ct(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function st(N,w){this.g=N,this.h=w}function Ct(N,w){if(X(w))throw Error("division by zero");if(X(N))return new st(A,A);if(J(N))return w=Ct(tt(N),w),new st(tt(w.g),tt(w.h));if(J(w))return w=Ct(N,tt(w)),new st(tt(w.g),w.h);if(N.g.length>30){if(J(N)||J(w))throw Error("slowDivide_ only works with positive integers.");for(var R=D,V=w;V.l(N)<=0;)R=At(R),V=At(V);var O=_t(R,1),k=_t(V,1);for(V=_t(V,2),R=_t(R,2);!X(V);){var I=k.add(V);I.l(N)<=0&&(O=O.add(R),k=I),V=_t(V,1),R=_t(R,1)}return w=nt(N,O.j(w)),new st(O,w)}for(O=A;N.l(w)>=0;){for(R=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(R),I=k.j(w);J(I)||I.l(N)>0;)R-=V,k=_(R),I=k.j(w);X(k)&&(k=D),O=O.add(k),N=nt(N,I)}return new st(O,N)}r.B=function(N){return Ct(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&N.i(V);return new d(R,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|N.i(V);return new d(R,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^N.i(V);return new d(R,this.h^N.h)};function At(N){const w=N.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(R,N.h)}function _t(N,w){const R=w>>5;w%=32;const V=N.g.length-R,O=[];for(let k=0;k<V;k++)O[k]=w>0?N.i(k+R)>>>w|N.i(k+R+1)<<32-w:N.i(k+R);return new d(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,K0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Qr=d}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y0,El,$0,kc,Zd,X0,W0,J0;(function(){var r,t=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in v))break t;v=v[P]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,P,H){for(var it=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)it[wt-2]=arguments[wt];return m.prototype[P].apply(b,it)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function X(u,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const H=P.length||0;u.length=v+H;for(let it=0;it<H;it++)u[v+it]=P[it]}else u.push(P)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function nt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ct{constructor(){this.h=this.g=null}add(m,v){const b=st.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var st=new J(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let At,_t=!1,N=new ct,w=()=>{const u=Promise.resolve(void 0);At=()=>{u.then(R)}};function R(){for(var u;u=nt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=st;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_t=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ee,O),ee.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,v,b,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)u[v]=b[v];for(let H=0;H<L.length;H++)v=L[H],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function et(u){this.src=u,this.g={},this.h=0}et.prototype.add=function(u,m,v,b,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const it=Tt(u,m,b,P);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new rt(m,this.src,H,!!b,P),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],P=Array.prototype.indexOf.call(b,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(b,P,1),H&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Tt(u,m,v,b){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return P}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),ae={};function oe(u,m,v,b,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)oe(u,m[H],v,b,P);return null}return v=mo(v),u&&u[he]?u.J(m,v,g(b)?!!b.capture:!1,P):rs(u,m,v,!1,b,P)}function rs(u,m,v,b,P,H){if(!m)throw Error("Invalid event type");const it=g(P)?!!P.capture:!!P;let wt=ss(u);if(wt||(u[Lt]=wt=new et(u)),v=wt.add(m,v,b,it,H),v.proxy)return v;if(b=Ws(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),b,P);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ws(){function u(v){return m.call(u.src,u.listener,v)}const m=ho;return u}function Js(u,m,v,b,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Js(u,m[H],v,b,P);else b=g(b)?!!b.capture:!!b,v=mo(v),u&&u[he]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Tt(m,v,b,P),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,v,b,P)),(v=u>-1?m[u]:null)&&Zs(v))}function Zs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])vt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Zn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ss(m))?(vt(v,u),v.h==0&&(v.src=null,m[Lt]=null)):ht(u)}}}function Zn(u){return u in ae?ae[u]:ae[u]="on"+u}function ho(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Zs(u),u=v.call(b,m)}return u}function ss(u){return u=u[Lt],u instanceof et?u:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(u){return typeof u=="function"?u:(u[fo]||(u[fo]=function(m){return u.handleEvent(m)}),u[fo])}function ve(){V.call(this),this.i=new et(this),this.M=this,this.G=null}A(ve,V),ve.prototype[he]=!0,ve.prototype.removeEventListener=function(u,m,v,b){Js(this,u,m,v,b)};function Oe(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var P=m;m=new O(b,u),W(m,P)}P=!0;let H,it;if(v)for(it=v.length-1;it>=0;it--)H=m.g=v[it],P=sr(H,b,!0,m)&&P;if(H=m.g=u,P=sr(H,b,!0,m)&&P,P=sr(H,b,!1,m)&&P,v)for(it=0;it<v.length;it++)H=m.g=v[it],P=sr(H,b,!1,m)&&P}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ht(v[b]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ve.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function sr(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const it=m[H];if(it&&!it.da&&it.capture==v){const wt=it.listener,ge=it.ha||it.src;it.fa&&vt(u.i,it),P=wt.call(ge,b)!==!1&&P}}return P&&!b.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function tu(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(u){V.call(this),this.h=u,this.g={}}A(as,V);var go=[];function po(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zs(m)},u),u.g={}}as.prototype.N=function(){as.Z.N.call(this),po(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=d.JSON.stringify,Oh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}A(ze,O);function bn(){O.call(this,"c")}A(bn,O);var me={},ru=null;function ta(){return ru=ru||new ve}me.Ia="serverreachability";function su(u){O.call(this,me.Ia,u)}A(su,O);function ti(u){const m=ta();Oe(m,new su(m))}me.STAT_EVENT="statevent";function os(u,m){O.call(this,me.STAT_EVENT,u),this.stat=m}A(os,O);function Ee(u){const m=ta();Oe(m,new os(m,u))}me.Ja="timingevent";function ei(u,m){O.call(this,me.Ja,u),this.size=m}A(ei,O);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,b,P,H){u.info(function(){if(u.g)if(H){var it="",wt=H.split("&");for(let Ht=0;Ht<wt.length;Ht++){var ge=wt[Ht].split("=");if(ge.length>1){const le=ge[0];ge=ge[1];const Rn=le.split("_");it=Rn.length>=2&&Rn[1]=="type"?it+(le+"="+ge+"&"):it+(le+"=redacted&")}}}else it=null;else it=H;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+it})}function au(u,m,v,b,P,H,it){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+H+" "+it})}function ii(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(b?" "+b:"")})}function ls(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<b.length;it++)b[it]=""}}}}return ar(H)}catch{return m}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function cs(){}A(cs,nu),cs.prototype.g=function(){return new XMLHttpRequest},_o=new cs;function Di(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var Te={},ke={};function ri(u,m,v){u.M=1,u.A=hs(Se(m)),u.u=v,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),si(u),u.B=Se(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),sa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new jn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(go[0]=P.toString()),P=go);for(let H=0;H<P.length;H++){const it=oe(v,P[H],b||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?S(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Hn(this.g),ge=this.g.ya(),Ht=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||wt!=4||ge==7||(ge==8||Ht<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var H=b;break e}}H=null}if(u=H)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,Ee(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=uu(this,v),le==ke){wt==4&&(this.m=4,Ee(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Te){this.m=4,Ee(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,le,null),oi(this,le);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(it),it.P=!0,Ee(11))}}else ii(this.i,this.l,v,null),oi(this,v);wt==4&&fn(this),this.o&&!this.K&&(wt==4?_u(this.j,this):(this.o=!1,si(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),fn(this),Sn(this)}}}catch{}finally{}};function kh(u){if(!lu(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const b=m.length,P=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(P&&H==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?ke:(v=Number(m.substring(v,b)),isNaN(v)?Te:(b+=1,b+v>m.length?ke:(m=m.slice(b,b+v),u.C=b+v,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ls(this.i,this.B),this.M!=2&&(ti(),Ee(17)),fn(this),this.m=2,Sn(this)):na(this,this.T-u)};function Sn(u){u.j.I==0||u.K||_u(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),mr(v);else break t;_s(v),Ee(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(_(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&ca(v),!I(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Ht=P[m];const le=Ht[0];if(!(le<=v.K))if(v.K=le,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Rn=Ht[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const pi=Ht[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Fn=Ht[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(b=1.5*Fn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Gn=u.g;if(Gn){const vs=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var H=b.h;H.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(To(H,H.h),H.h=null))}if(b.G){const ha=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(b.wa=ha,Qt(b.J,b.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var it=u;if(b.na=Tu(b,b.L?b.ba:null,b.W),it.L){bo(b.h,it);var wt=it,ge=b.O;ge&&(wt.H=ge),wt.D&&(ai(wt),si(wt)),b.g=it}else pu(b);v.i.length>0&&mi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||gi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?gi(v,7):Do(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ti(4)}catch{}}var be=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let P,H=null;b>=0?(P=u[v].substring(0,b),H=u[v].substring(b+1)):P=u[v],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,or(this,u.u),this.h=u.h,Ao(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),or(this,m[4]),this.h=ci(m[5]||"",!0),Ao(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fs(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fs(m,ra,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fs(v,v.charAt(0)=="/"?wo:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fs(v,fu)),u.join("")},dn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)or(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let it=0;it<P.length;){const wt=P[it++];wt=="."?b&&it==P.length&&H.push(""):wt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&it==P.length&&H.push("")):(H.push(wt),b=!0)}b=H.join("/")}else b=P}return v?m.h=b:v=u.i.toString()!=="",v?Ao(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new dn(u)}function Ue(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function or(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ao(u,m,v){m instanceof ur?(u.i=m,aa(u.i,u.l)):(v||(m=fs(m,lr)),u.i=new ur(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function hs(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,hu=/[#\?:]/g,wo=/[#\?]/g,lr=/[#\?@]/g,fu=/#/g;function ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ur.prototype,r.add=function(u,m){sn(this),this.i=null,u=cr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){sn(u),m=cr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return sn(u),m=cr(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,b){v.forEach(function(P){u.call(m,P,b,this)},this)},this)};function Io(u,m){sn(u);let v=[];if(typeof m=="string")Ro(u,m)&&(v=v.concat(u.g.get(cr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=cr(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(cr(u,m),B(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=Di(v);v=Io(this,v);for(let H=0;H<v.length;H++){let it=P;v[H]!==""&&(it+="="+Di(v[H])),u.push(it)}}return this.i=u.join("&")};function mu(u){const m=new ur;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(du(this,b),sa(this,P,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const b=new Image;b.onload=T(An,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(An,v,"TestLoadImage: error",!1,m,b),b.onabort=T(An,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(An,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Co(u,m){const v=new Pn,b=new AbortController,P=setTimeout(()=>{b.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(P),H.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),An(v,"TestPingServer: error",!1,m)})}function An(u,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function hr(){this.g=new eu}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(hi,nu),hi.prototype.g=function(){return new ds(this.i,this.h)};function ds(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ds,ve),r=ds.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fr(this):qn(this),this.readyState==3&&oa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fr(this))},r.Na=function(u){this.g&&(this.response=u,fr(this))},r.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Ut(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function ms(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=wn(v),typeof u=="string"?v!=null&&Di(v):Qt(u,m,v))}function $t(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($t,ve);var fi=/^https?$/i,No=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){gs(this,H);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(No,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of v)this.g.setRequestHeader(H,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){gs(this,H)}};function gs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,xo(u),Oi(u)}function xo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ps(this):this.Xa())},r.Xa=function(){ps(this)};function ps(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let it=String(u.D).match(cu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),b=!fi.test(it?it.toLowerCase():"")}v=b}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var P=Hn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",xo(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(I(u[b]))continue;var v=ou(u[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[P]||[];m[P]=H,H.push(v)}jt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function dr(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new hr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=dr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ee(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Tu(this,null,this.W),mi(this)};function Do(u){if(la(u),u.I==3){var m=u.V++,v=Se(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),ys(u,v),m=new zn(u,u.j,m),m.M=2,m.A=hs(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}Eu(u)}function mr(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function la(u){mr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;At||w(),_t||(At(),_t=!0),N.add(m,u),u.D=0}}function ua(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(_(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new zn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=S(H),W(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,P,m),v=Se(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),ys(this,v),H&&(this.R?m="headers="+Di(wn(H))+"&"+m:this.u&&ms(v,this.u,H)),To(this.h,P),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),P.U=!0,ri(P,v,null)):ri(P,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||Eo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const b=Se(u.J);Qt(b,"SID",u.M),Qt(b,"RID",v),Qt(b,"AID",u.K),ys(u,b),u.u&&u.o&&ms(b,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,v),ri(v,b,m)}function ys(u,m){u.H&&Ut(u.H,function(v,b){Qt(m,b,v)}),u.l&&Ut({},function(v,b){Qt(m,b,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let wt=-1;for(;;){const ge=["count="+v];wt==-1?v>0?(wt=P[0].g,ge.push("ofs="+wt)):wt=0:ge.push("ofs="+wt);let Ht=!0;for(let le=0;le<v;le++){var H=P[le].g;const Rn=P[le].map;if(H-=wt,H<0)wt=Math.max(0,P[le].g-100),Ht=!1;else try{H="req"+H+"_"||"";try{var it=Rn instanceof Map?Rn:Object.entries(Rn);for(const[pi,Fn]of it){let Gn=Fn;g(Fn)&&(Gn=ar(Fn)),ge.push(H+pi+"="+encodeURIComponent(Gn))}}catch(pi){throw ge.push(H+"type="+encodeURIComponent("_badmap")),pi}}catch{b&&b(Rn)}}if(Ht){it=ge.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;At||w(),_t||(At(),_t=!0),N.add(m,u),u.A=0}}function _s(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(_(u.Da,u),vu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),mr(this),yu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),ys(u,m),u.u&&u.o&&ms(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hs(Se(m)),v.u=null,v.R=!0,ea(v,u)}r.Va=function(){this.C!=null&&(this.C=null,mr(this),_s(this),Ee(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){ca(u),Mo(u),u.g=null;var b=2}else if(ui(u.h,m))v=m.G,bo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;b=ta(),Oe(b,new ei(b,v)),mi(u)}else pu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&ua(u,m)||b==2&&_s(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const P=!b;b=new dn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(b,"https"),hs(b),P?Bn(b.toString(),v):Co(b.toString(),v)}else Ee(2);u.I=0,u.l&&u.l.pa(m),Eu(u),la(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var b=v instanceof dn?Se(v):new dn(v);if(b.g!="")m&&(b.g=m+"."+b.g),or(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new dn(null);b&&Ue(H,b),m&&(H.g=m),P&&or(H,P),v&&(H.h=v),b=H}return v=u.G,m=u.wa,v&&m&&Qt(b,v,m),Qt(b,"VER",u.ka),ys(u,b),b}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new hi({ab:v})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gr(){}gr.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ve.call(this),this.g=new dr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}A(en,ve),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Do(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ar(u),u=v);m.i.push(new be(m.Ya++,u)),m.I==3&&mi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,en.Z.N.call(this)};function Au(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Au,ze);function wu(){bn.call(this),this.status=1}A(wu,bn);function Vi(u){this.g=u}A(Vi,Su),Vi.prototype.ra=function(){Oe(this.g,"a")},Vi.prototype.qa=function(u){Oe(this.g,new Au(u))},Vi.prototype.pa=function(u){Oe(this.g,new wu)},Vi.prototype.oa=function(){Oe(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,J0=function(){return new gr},W0=function(){return ta()},X0=me,Zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,kc=us,yo.COMPLETE="complete",$0=yo,iu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ve.prototype.listen=ve.prototype.J,El=iu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,Y0=$t}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const cv="@firebase/firestore",hv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new wm("@firebase/firestore");function Ba(){return js.logLevel}function ot(r,...t){if(js.logLevel<=Mt.DEBUG){const n=t.map(Cm);js.debug(`Firestore (${ro}): ${r}`,...n)}}function er(r,...t){if(js.logLevel<=Mt.ERROR){const n=t.map(Cm);js.error(`Firestore (${ro}): ${r}`,...n)}}function Wa(r,...t){if(js.logLevel<=Mt.WARN){const n=t.map(Cm);js.warn(`Firestore (${ro}): ${r}`,...n)}}function Cm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Z0(r,s,n)}function Z0(r,t,n){let s=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function Gt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||Z0(t,l,s)}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Lw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class Pw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zw{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ji,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ji)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new tE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class jw{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Bw{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new jw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Hw(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function tm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Bd(l)===Bd(c)?Vt(l,c):Bd(l)?1:-1}return Vt(r.length,t.length)}const Fw=55296,Gw=57343;function Bd(r){const t=r.charCodeAt(0);return t>=Fw&&t<=Gw}function Ja(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="__name__";class Ti{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=Ti.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Vt(t.length,n.length)}static compareSegments(t,n){const s=Ti.isNumericId(t),l=Ti.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(n)):tm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qr.fromString(t.substring(4,t.length-2))}}class ne extends Ti{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const Qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return Qw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dv}static keyField(){return new Qe([dv])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r,t,n){if(!n)throw new at(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Kw(r,t,n,s){if(t===!0&&s===!0)throw new at(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function mv(r){if(!dt.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gv(r){if(dt.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function $r(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fh(r);throw new at(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,t){const n={typeString:r};return t&&(n.value=t),n}function Fl(r,t){if(!nE(r))throw new at(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new at(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=-62135596800,yv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*yv);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<pv)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:xe("string",se._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new se(0,0))}static max(){return new Et(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function Yw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new Xr(l,dt.empty(),t)}function $w(r){return new Xr(r.readTime,r.key,Ml)}class Xr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(Et.min(),dt.empty(),Ml)}static max(){return new Xr(Et.max(),dt.empty(),Ml)}}function Xw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==Ww)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,s)=>{n(t)}))}static reject(t){return new Z(((n,s)=>{s(t)}))}static waitFor(t){return new Z(((n,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&n()}),(y=>s(y)))})),d=!0,c===l&&n()}))}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next((l=>l?Z.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,c)=>{s.push(n.call(this,l,c))})),this.waitFor(s)}static mapArray(t,n){return new Z(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;n(t[_]).next((T=>{d[_]=T,++g,g===c&&s(d)}),(T=>l(T)))}}))}static doWhile(t,n){return new Z(((s,l)=>{const c=()=>{t()===!0?n().next((()=>{c()}),l):s()};c()}))}}function Zw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=-1;function mh(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function t2(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="";function e2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=_v(t)),t=n2(r.get(n),t);return _v(t)}function n2(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case iE:n+="";break;default:n+=c}}return n}function _v(r){return r+iE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Gs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function rE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Ge(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ev(this.data.getIterator())}getIteratorFrom(t){return new Ev(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class Ev{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new $n([])}unionWith(t){let n=new Ve(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new $n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sE("Invalid base64 string: "+c):c}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const i2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const n=i2.exec(r);if(Gt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Jr(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="server_timestamp",oE="__type__",lE="__previous_value__",uE="__local_write_time__";function Dm(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[oE])==null?void 0:s.stringValue)===aE}function gh(r){const t=r.mapValue.fields[lE];return Dm(t)?gh(t):t}function Vl(r){const t=Wr(r.mapValue.fields[uE].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n,s,l,c,d,g,y,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const Yc="(default)";class kl{constructor(t,n){this.projectId=t,this.database=n||Yc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__type__",s2="__max__",Dc={mapValue:{}},hE="__vector__",$c="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dm(r)?4:o2(r)?9007199254740991:a2(r)?10:11:yt(28295,{value:r})}function xi(r,t){if(r===t)return!0;const n=Zr(r);if(n!==Zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Wr(l.timestampValue),g=Wr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Jr(l.bytesValue).isEqual(Jr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return _e(l.geoPointValue.latitude)===_e(c.geoPointValue.latitude)&&_e(l.geoPointValue.longitude)===_e(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return _e(l.integerValue)===_e(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=_e(l.doubleValue),g=_e(c.doubleValue);return d===g?Kc(d)===Kc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(vv(d)!==vv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!xi(d[y],g[y])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Ul(r,t){return(r.values||[]).find((n=>xi(n,t)))!==void 0}function Za(r,t){if(r===t)return 0;const n=Zr(r),s=Zr(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=_e(c.integerValue||c.doubleValue),y=_e(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return Tv(r.timestampValue,t.timestampValue);case 4:return Tv(Vl(r),Vl(t));case 5:return tm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Jr(c),y=Jr(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const T=Vt(g[_],y[_]);if(T!==0)return T}return Vt(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Vt(_e(c.latitude),_e(d.latitude));return g!==0?g:Vt(_e(c.longitude),_e(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return bv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){var D,B,X,J;const g=c.fields||{},y=d.fields||{},_=(D=g[$c])==null?void 0:D.arrayValue,T=(B=y[$c])==null?void 0:B.arrayValue,A=Vt(((X=_==null?void 0:_.values)==null?void 0:X.length)||0,((J=T==null?void 0:T.values)==null?void 0:J.length)||0);return A!==0?A:bv(_,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let A=0;A<y.length&&A<T.length;++A){const D=tm(y[A],T[A]);if(D!==0)return D;const B=Za(g[y[A]],_[T[A]]);if(B!==0)return B}return Vt(y.length,T.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function Tv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=Wr(r),s=Wr(t),l=Vt(n.seconds,s.seconds);return l!==0?l:Vt(n.nanos,s.nanos)}function bv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Za(n[l],s[l]);if(c)return c}return Vt(n.length,s.length)}function to(r){return em(r)}function em(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Jr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return dt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=em(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${em(n.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Uc(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return Jr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Gs(s.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function Sv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function nm(r){return!!r&&"integerValue"in r}function Om(r){return!!r&&"arrayValue"in r}function Av(r){return!!r&&"nullValue"in r}function wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function a2(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[cE])==null?void 0:s.stringValue)===hE}function Rl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Gs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Rl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rl(r.arrayValue.values[n]);return t}return{...r}}function o2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===s2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Lc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(n)}setAll(t){let n=Qe.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=Rl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Gs(n,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new kn(Rl(this.value))}}function fE(r){const t=[];return Gs(r.fields,((n,s)=>{const l=new Qe([n]);if(Lc(s)){const c=fE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,Et.min(),Et.min(),Et.min(),kn.empty(),0)}static newFoundDocument(t,n,s,l){return new Je(t,1,n,Et.min(),s,l,0)}static newNoDocument(t,n){return new Je(t,2,n,Et.min(),Et.min(),kn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,Et.min(),Et.min(),kn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n){this.position=t,this.inclusive=n}}function Rv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),n.key):s=Za(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Iv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,n="asc"){this.field=t,this.dir=n}}function l2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class Ne extends dE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new c2(t,n,s):n==="array-contains"?new d2(t,s):n==="in"?new m2(t,s):n==="not-in"?new g2(t,s):n==="array-contains-any"?new p2(t,s):new Ne(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new h2(t,s):new f2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Za(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends dE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Wn(t,n)}matches(t){return mE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mE(r){return r.op==="and"}function gE(r){return u2(r)&&mE(r)}function u2(r){for(const t of r.filters)if(t instanceof Wn)return!1;return!0}function im(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+to(r.value);if(gE(r))return r.filters.map((t=>im(t))).join(",");{const t=r.filters.map((n=>im(n))).join(",");return`${r.op}(${t})`}}function pE(r,t){return r instanceof Ne?(function(s,l){return l instanceof Ne&&s.op===l.op&&s.field.isEqual(l.field)&&xi(s.value,l.value)})(r,t):r instanceof Wn?(function(s,l){return l instanceof Wn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&pE(d,l.filters[g])),!0):!1})(r,t):void yt(19439)}function yE(r){return r instanceof Ne?(function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`})(r):r instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(yE).join(" ,")+"}"})(r):"Filter"}class c2 extends Ne{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class h2 extends Ne{constructor(t,n){super(t,"in",n),this.keys=_E("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class f2 extends Ne{constructor(t,n){super(t,"not-in",n),this.keys=_E("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function _E(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((s=>dt.fromName(s.referenceValue)))}class d2 extends Ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Om(n)&&Ul(n.arrayValue,this.value)}}class m2 extends Ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ul(this.value.arrayValue,n)}}class g2 extends Ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ul(this.value.arrayValue,n)}}class p2 extends Ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ul(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Cv(r,t=null,n=[],s=[],l=null,c=null,d=null){return new y2(r,t,n,s,l,c,d)}function Mm(r){const t=St(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>im(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),mh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>to(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>to(s))).join(",")),t.Te=n}return t.Te}function Vm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!l2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!pE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Iv(r.startAt,t.startAt)&&Iv(r.endAt,t.endAt)}function rm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _2(r,t,n,s,l,c,d,g){return new oo(r,t,n,s,l,c,d,g)}function km(r){return new oo(r)}function Nv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vE(r){return r.collectionGroup!==null}function Il(r){const t=St(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ll(c,s))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new Ll(Qe.keyField(),s))}return t.Ie}function Si(r){const t=St(r);return t.Ee||(t.Ee=v2(t,Il(r))),t.Ee}function v2(r,t){if(r.limitType==="F")return Cv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ll(l.field,c)}));const n=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return Cv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function sm(r,t){const n=r.filters.concat([t]);return new oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function am(r,t,n){return new oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function ph(r,t){return Vm(Si(r),Si(t))&&r.limitType===t.limitType}function EE(r){return`${Mm(Si(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>yE(l))).join(", ")}]`),mh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>to(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>to(l))).join(",")),`Target(${s})`})(Si(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Il(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const _=Rv(d,g,y);return d.inclusive?_<=0:_<0})(s.startAt,Il(s),l)||s.endAt&&!(function(d,g,y){const _=Rv(d,g,y);return d.inclusive?_>=0:_>0})(s.endAt,Il(s),l))})(r,t)}function E2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function TE(r){return(t,n)=>{let s=!1;for(const l of Il(r)){const c=T2(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function T2(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Za(y,_):yt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Gs(this.inner,((n,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new ce(dt.comparator);function nr(){return b2}const bE=new ce(dt.comparator);function Tl(...r){let t=bE;for(const n of r)t=t.insert(n.key,n);return t}function SE(r){let t=bE;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Us(){return Cl()}function AE(){return Cl()}function Cl(){return new Qs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const S2=new ce(dt.comparator),A2=new Ve(dt.comparator);function kt(...r){let t=A2;for(const n of r)t=t.add(n);return t}const w2=new Ve(Vt);function R2(){return w2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function wE(r){return{integerValue:""+r}}function I2(r,t){return t2(t)?wE(t):Um(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function C2(r,t,n){return r instanceof Wc?(function(l,c){const d={fields:{[oE]:{stringValue:aE},[uE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dm(c)&&(c=gh(c)),c&&(d.fields[lE]=c),{mapValue:d}})(n,t):r instanceof Pl?IE(r,t):r instanceof zl?CE(r,t):(function(l,c){const d=RE(l,c),g=xv(d)+xv(l.Ae);return nm(d)&&nm(l.Ae)?wE(g):Um(l.serializer,g)})(r,t)}function N2(r,t,n){return r instanceof Pl?IE(r,t):r instanceof zl?CE(r,t):n}function RE(r,t){return r instanceof Jc?(function(s){return nm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Wc extends _h{}class Pl extends _h{constructor(t){super(),this.elements=t}}function IE(r,t){const n=NE(t);for(const s of r.elements)n.some((l=>xi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class zl extends _h{constructor(t){super(),this.elements=t}}function CE(r,t){let n=NE(t);for(const s of r.elements)n=n.filter((l=>!xi(l,s)));return{arrayValue:{values:n}}}class Jc extends _h{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function xv(r){return _e(r.integerValue||r.doubleValue)}function NE(r){return Om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function x2(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Pl&&l instanceof Pl||s instanceof zl&&l instanceof zl?Ja(s.elements,l.elements,xi):s instanceof Jc&&l instanceof Jc?xi(s.Ae,l.Ae):s instanceof Wc&&l instanceof Wc})(r.transform,t.transform)}class D2{constructor(t,n){this.version=t,this.transformResults=n}}class Ai{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function xE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Lm(r.key,Ai.none()):new Gl(r.key,r.data,Ai.none());{const n=r.data,s=kn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Ks(r.key,s,new $n(l.toArray()),Ai.none())}}function O2(r,t,n){r instanceof Gl?(function(l,c,d){const g=l.value.clone(),y=Ov(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,n):r instanceof Ks?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Ov(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(DE(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Nl(r,t,n,s){return r instanceof Gl?(function(c,d,g,y){if(!Pc(c.precondition,d))return g;const _=c.value.clone(),T=Mv(c.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,n,s):r instanceof Ks?(function(c,d,g,y){if(!Pc(c.precondition,d))return g;const _=Mv(c.fieldTransforms,y,d),T=d.data;return T.setAll(DE(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,n,s):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,n)}function M2(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=RE(s.transform,l||null);c!=null&&(n===null&&(n=kn.empty()),n.set(s.field,c))}return n||null}function Dv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ja(s,l,((c,d)=>x2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends vh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ks extends vh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DE(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function Ov(r,t,n){const s=new Map;Gt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,N2(d,g,n[l]))}return s}function Mv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,C2(c,d,t))}return s}class Lm extends vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V2 extends vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&O2(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Nl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Nl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=AE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const y=xE(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((n,s)=>Dv(n,s)))&&Ja(this.baseMutations,t.baseMutations,((n,s)=>Dv(n,s)))}}class Pm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Gt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return S2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Pm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,zt;function P2(r){switch(r){case Y.OK:return yt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function OE(r){if(r===void 0)return er("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Ce.OK:return Y.OK;case Ce.CANCELLED:return Y.CANCELLED;case Ce.UNKNOWN:return Y.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return Y.INTERNAL;case Ce.UNAVAILABLE:return Y.UNAVAILABLE;case Ce.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ce.NOT_FOUND:return Y.NOT_FOUND;case Ce.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ce.ABORTED:return Y.ABORTED;case Ce.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ce.DATA_LOSS:return Y.DATA_LOSS;default:return yt(39323,{code:r})}}(zt=Ce||(Ce={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Qr([4294967295,4294967295],0);function Vv(r){const t=z2().encode(r),n=new K0;return n.update(t),new Uint8Array(n.digest())}function kv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qr([n,s],0),new Qr([l,c],0)]}class zm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Qr.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Qr.fromNumber(s)));return l.compare(j2)===1&&(l=new Qr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Vv(t),[s,l]=kv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new zm(c,l,n);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const n=Vv(t),[s,l]=kv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Eh(Et.min(),l,new ce(Vt),nr(),kt())}}class Ql{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ql(s,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class ME{constructor(t,n){this.targetId=t,this.Ce=n}}class VE{constructor(t,n,s=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Uv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),s=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:yt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Lv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class B2{constructor(t){this.Ge=t,this.ze=new Map,this.je=nr(),this.Je=Oc(),this.He=Oc(),this.Ye=new ce(Vt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const c=l.target;if(rm(c))if(s===0){const d=new dt(c.path);this.et(n,d,Je.newNoDocument(d,Et.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Jr(s).toUint8Array()}catch(y){if(y instanceof sE)return Wa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new zm(d,l,c)}catch(y){return Wa(y instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&rm(g.target)){const y=new dt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let s=kt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,n,this.Ye,this.je,s);return this.je=nr(),this.Je=Oc(),this.He=Oc(),this.Ye=new ce(Vt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Uv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ve(Vt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ve(Vt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Uv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Oc(){return new ce(dt.comparator)}function Lv(){return new ce(dt.comparator)}const q2={asc:"ASCENDING",desc:"DESCENDING"},H2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F2={and:"AND",or:"OR"};class G2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function om(r,t){return r.useProto3Json||mh(t)?t:{value:t}}function Zc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Q2(r,t){return Zc(r,t.toTimestamp())}function wi(r){return Gt(!!r,49232),Et.fromTimestamp((function(n){const s=Wr(n);return new se(s.seconds,s.nanos)})(r))}function jm(r,t){return lm(r,t).canonicalString()}function lm(r,t){const n=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function UE(r){const t=ne.fromString(r);return Gt(BE(t),10190,{key:t.toString()}),t}function um(r,t){return jm(r.databaseId,t.path)}function qd(r,t){const n=UE(t);if(n.get(1)!==r.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(PE(n))}function LE(r,t){return jm(r.databaseId,t)}function K2(r){const t=UE(r);return t.length===4?ne.emptyPath():PE(t)}function cm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function PE(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Pv(r,t,n){return{name:um(r,t),fields:n.value.mapValue.fields}}function Y2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Gt(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?Y.UNKNOWN:OE(_.code);return new at(T,_.message||"")})(d);n=new VE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=qd(r,s.document.name),c=wi(s.document.updateTime),d=s.document.createTime?wi(s.document.createTime):Et.min(),g=new kn({mapValue:{fields:s.document.fields}}),y=Je.newFoundDocument(l,c,d,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new zc(_,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=qd(r,s.document),c=s.readTime?wi(s.readTime):Et.min(),d=Je.newNoDocument(l,c),g=s.removedTargetIds||[];n=new zc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=qd(r,s.document),c=s.removedTargetIds||[];n=new zc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new L2(l,c),g=s.targetId;n=new ME(g,d)}}return n}function $2(r,t){let n;if(t instanceof Gl)n={update:Pv(r,t.key,t.value)};else if(t instanceof Lm)n={delete:um(r,t.key)};else if(t instanceof Ks)n={update:Pv(r,t.key,t.data),updateMask:rR(t.fieldMask)};else{if(!(t instanceof V2))return yt(16599,{Vt:t.type});n={verify:um(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Q2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),n}function X2(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((n=>(function(l,c){let d=l.updateTime?wi(l.updateTime):wi(c);return d.isEqual(Et.min())&&(d=wi(c)),new D2(d,l.transformResults||[])})(n,t)))):[]}function W2(r,t){return{documents:[LE(r,t.path)]}}function J2(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=LE(r,l);const c=(function(_){if(_.length!==0)return jE(Wn.create(_,"and"))})(t.filters);c&&(n.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(D){return{field:Ha(D.field),direction:eR(D.dir)}})(T)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=om(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:l}}function Z2(r){let t=K2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Gt(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=(function(A){const D=zE(A);return D instanceof Wn&&gE(D)?D.getFilters():[D]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((D=>(function(X){return new Ll(Fa(X.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(D)))})(n.orderBy));let g=null;n.limit&&(g=(function(A){let D;return D=typeof A=="object"?A.value:A,mh(D)?null:D})(n.limit));let y=null;n.startAt&&(y=(function(A){const D=!!A.before,B=A.values||[];return new Xc(B,D)})(n.startAt));let _=null;return n.endAt&&(_=(function(A){const D=!A.before,B=A.values||[];return new Xc(B,D)})(n.endAt)),_2(t,l,d,c,g,"F",y,_)}function tR(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function zE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(n.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(n.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(n.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ne.create(Fa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((s=>zE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(r):yt(30097,{filter:r})}function eR(r){return q2[r]}function nR(r){return H2[r]}function iR(r){return F2[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Qe.fromServerFormat(r.fieldPath)}function jE(r){return r instanceof Ne?(function(n){if(n.op==="=="){if(wv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(Av(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(Av(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:nR(n.op),value:n.value}}})(r):r instanceof Wn?(function(n){const s=n.getFilters().map((l=>jE(l)));return s.length===1?s[0]:{compositeFilter:{op:iR(n.op),filters:s}}})(r):yt(54877,{filter:r})}function rR(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function BE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,n,s,l,c=Et.min(),d=Et.min(),g=Ye.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t){this.yt=t}}function aR(r){const t=Z2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.Cn=new lR}addToCollectionParentIndex(t,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(Xr.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class lR{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ve(ne.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(qE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LruGarbageCollector",uR=1048576;function Bv([r,t],[n,s]){const l=Vt(r,n);return l===0?Vt(t,s):l}class cR{constructor(t){this.Ir=t,this.buffer=new Ve(Bv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Bv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hR{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(jv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?ot(jv,"Ignoring IndexedDB error during garbage collection: ",n):await so(n)}await this.Vr(3e5)}))}}class fR{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(dh.ce);const s=new cR(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(zv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zv):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,c,d,g,y,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(s=A,g=Date.now(),this.removeTargets(t,s,n)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(_=Date.now(),Ba()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function dR(r,t){return new fR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.changes=new Qs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Nl(s.mutation,l,$n.empty(),se.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,kt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=kt()){const l=Us();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((c=>{let d=Tl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Us();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,kt())))}populateOverlays(t,n,s){const l=[];return s.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(t,n,s,l){let c=nr();const d=Cl(),g=(function(){return Cl()})();return n.forEach(((y,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Ks)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Nl(T.mutation,_,T.mutation.getFieldMask(),se.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,T)=>d.set(_,T))),n.forEach(((_,T)=>g.set(_,new gR(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,n){const s=Cl();let l=new ce(((d,g)=>d-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let T=s.get(y)||$n.empty();T=g.applyToLocalView(_,T),s.set(y,T);const A=(l.get(g.batchId)||kt()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,T=y.value,A=AE();T.forEach((D=>{if(!c.has(D)){const B=xE(n.get(D),s.get(D));B!==null&&A.set(D,B),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):vE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Z.resolve(Us());let g=Ml,y=c;return d.next((_=>Z.forEach(_,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{y=y.insert(T,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,kt()))).next((T=>({batchId:g,changes:SE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next((s=>{let l=Tl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(y=>{const _=(function(A,D){return new oo(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((T=>{T.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))}));let g=Tl();return d.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&Nl(T.mutation,_,$n.empty(),se.now()),yh(n,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:aR(l.bundledQuery),readTime:wi(l.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.overlays=new ce(dt.comparator),this.qr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Us();return Z.forEach(n,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,c)=>{this.St(t,n,c)})),Z.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const l=Us(),c=n.length+1,d=new dt(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ce(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Us(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Us(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return Z.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new U2(n,s));let c=this.qr.get(n);c===void 0&&(c=kt(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Pe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new dt(new ne([])),s=new Pe(n,t),l=new Pe(n,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new dt(new ne([])),s=new Pe(n,t),l=new Pe(n,t+1);let c=kt();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const n=new Pe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return dt.comparator(t.key,n.key)||Vt(t.Yr,n.Yr)}static Kr(t,n){return Vt(t.Yr,n.Yr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new k2(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?xm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),l=new Pe(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(Vt);return n.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new dt(c),0);let g=new Ve(Vt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Gt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(n.mutations,(l=>{const c=new Pe(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Pe(n,0),l=this.Zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.ri=t,this.docs=(function(){return new ce(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=nr();return n.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=nr();const d=n.path,g=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Xw($w(T),s)<=0||(l.has(T.key)||yh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,n,s,l){yt(9500)}ii(t,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new bR(this)}getSize(t){return Z.resolve(this.size)}}class bR extends mR{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Z.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.persistence=t,this.si=new Qs((n=>Mm(n)),Vm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Bm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Z.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new eo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Pr(n),Z.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new vR,this.referenceDelegate=t(this),this.Pi=new SR(this),this.indexManager=new oR,this.remoteDocumentCache=(function(l){return new TR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sR(n),this.Ii=new yR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _R,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new ER(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const l=new AR(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,n){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class AR extends Jw{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Bm,this.Vi=null}static mi(t){return new qm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const l=dt.fromPath(s);return this.gi(t,l).next((c=>{c||n.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class th{constructor(t,n){this.persistence=t,this.pi=new Qs((s=>e2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=dR(this,n)}static mi(t,n){return new th(t,n)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return Z.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?Z.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,n).next((g=>{g||(s++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Uc(t.data.value)),n}br(t,n,s){return Z.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=kt(),l=kt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vA()?8:Zw(Ze())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ys(t,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,n,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new wR;return this.Ss(t,n,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,n,d,g.size)}))})).next((()=>c.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Ba()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ba()<=Mt.DEBUG&&ot("QueryEngine","Query:",qa(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ba()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(n))):Z.resolve())}ys(t,n){if(Nv(n))return Z.resolve(null);let s=Si(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=am(n,null,"F"),s=Si(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=kt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(n,g);return this.Cs(n,_,d,y.readTime)?this.ys(t,am(n,null,"F")):this.vs(t,_,n,y)}))))})))))}ws(t,n,s,l){return Nv(n)||l.isEqual(Et.min())?Z.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,l)?Z.resolve(null):(Ba()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(n)),this.vs(t,d,n,Yw(l,Ml)).next((g=>g)))}))}Ds(t,n){let s=new Ve(TE(t));return n.forEach(((l,c)=>{yh(t,c)&&(s=s.add(c))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Ba()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ps.getDocumentsMatchingQuery(t,n,Xr.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",IR=3e8;class CR{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new ce(Vt),this.xs=new Qs((c=>Mm(c)),Vm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function NR(r,t,n,s){return new CR(r,t,n,s)}async function FE(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=kt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function xR(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,T){const A=_.batch,D=A.keys();let B=Z.resolve();return D.forEach((X=>{B=B.next((()=>T.getEntry(y,X))).next((J=>{const tt=_.docVersions.get(X);Gt(tt!==null,48541),J.version.compareTo(tt)<0&&(A.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),T.addEntry(J)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(n,s,t,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=kt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function GE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function DR(r,t){const n=St(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach(((T,A)=>{const D=l.get(A);if(!D)return;g.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,A))));let B=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?B=B.withResumeToken(Ye.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,s)),l=l.insert(A,B),(function(J,tt,nt){return J.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=IR?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(D,B,T)&&g.push(n.Pi.updateTargetData(c,B))}));let y=nr(),_=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(OR(c,d,t.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!s.isEqual(Et.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((A=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(n.Ms=l,c)))}function OR(r,t,n){let s=kt(),l=kt();return n.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=nr();return n.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ot(Fm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function MR(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=xm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function VR(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((c=>c?(l=c,Z.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new Hr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function hm(r,t,n){const s=St(r),l=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;ot(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function qv(r,t,n){const s=St(r);let l=Et.min(),c=kt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const A=St(y),D=A.xs.get(T);return D!==void 0?Z.resolve(A.Ms.get(D)):A.Pi.getTargetData(_,T)})(s,d,Si(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:Et.min(),n?c:kt()))).next((g=>(kR(s,E2(t),g),{documents:g,Qs:c})))))}function kR(r,t,n){let s=r.Os.get(t)||Et.min();n.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class Hv{constructor(){this.activeTargetIds=R2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class UR{constructor(){this.Mo=new Hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Hv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="ConnectivityMonitor";class Gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(Fv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(Fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function fm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="RestConnection",PR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,c){const d=fm(),g=this.zo(t,n.toUriEncodedString());ot(Hd,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),T=Fs(_);return this.Jo(t,g,y,s,T).then((A=>(ot(Hd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Wa(Hd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",s),A}))}Ho(t,n,s,l,c,d){return this.Go(t,n,s,l,c)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,n){const s=PR[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class BR extends zR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=fm();return new Promise(((g,y)=>{const _=new Y0;_.setWithCredentials(!0),_.listenOnce($0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case kc.NO_ERROR:const A=_.getResponseJson();ot(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case kc.TIMEOUT:ot(Xe,`RPC '${t}' ${d} timed out`),y(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const D=_.getStatus();if(ot(Xe,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const X=B==null?void 0:B.error;if(X&&X.status&&X.message){const J=(function(nt){const ct=nt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ct)>=0?ct:Y.UNKNOWN})(X.status);y(new at(J,X.message))}else y(new at(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new at(Y.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(Xe,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);ot(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",T,s,15)}))}T_(t,n,s){const l=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=J0(),g=W0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const T=c.join("");ot(Xe,`Creating RPC '${t}' stream ${l}: ${T}`,y);const A=d.createWebChannel(T,y);this.I_(A);let D=!1,B=!1;const X=new jR({Yo:tt=>{B?ot(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(D||(ot(Xe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),D=!0),ot(Xe,`RPC '${t}' stream ${l} sending:`,tt),A.send(tt))},Zo:()=>A.close()}),J=(tt,nt,ct)=>{tt.listen(nt,(st=>{try{ct(st)}catch(Ct){setTimeout((()=>{throw Ct}),0)}}))};return J(A,El.EventType.OPEN,(()=>{B||(ot(Xe,`RPC '${t}' stream ${l} transport opened.`),X.o_())})),J(A,El.EventType.CLOSE,(()=>{B||(B=!0,ot(Xe,`RPC '${t}' stream ${l} transport closed`),X.a_(),this.E_(A))})),J(A,El.EventType.ERROR,(tt=>{B||(B=!0,Wa(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),X.a_(new at(Y.UNAVAILABLE,"The operation could not be completed")))})),J(A,El.EventType.MESSAGE,(tt=>{var nt;if(!B){const ct=tt.data[0];Gt(!!ct,16349);const st=ct,Ct=(st==null?void 0:st.error)||((nt=st[0])==null?void 0:nt.error);if(Ct){ot(Xe,`RPC '${t}' stream ${l} received error:`,Ct);const At=Ct.status;let _t=(function(R){const V=Ce[R];if(V!==void 0)return OE(V)})(At),N=Ct.message;_t===void 0&&(_t=Y.INTERNAL,N="Unknown error status: "+At+" with message "+Ct.message),B=!0,X.a_(new at(_t,N)),A.close()}else ot(Xe,`RPC '${t}' stream ${l} received:`,ct),X.u_(ct)}})),J(g,X0.STAT_EVENT,(tt=>{tt.stat===Zd.PROXY?ot(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===Zd.NOPROXY&&ot(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r){return new G2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="PersistentStream";class KE{constructor(t,n,s,l,c,d,g,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new at(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qR extends KE{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Y2(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?wi(d.readTime):Et.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=cm(this.serializer),n.addTarget=(function(c,d){let g;const y=d.target;if(g=rm(y)?{documents:W2(c,y)}:{query:J2(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=kE(c,d.resumeToken);const _=om(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Zc(c,d.snapshotVersion.toTimestamp());const _=om(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const s=tR(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=cm(this.serializer),n.removeTarget=t,this.q_(n)}}class HR extends KE{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=X2(t.writeResults,t.commitTime),s=wi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>$2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{}class GR extends FR{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,lm(n,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Y.UNKNOWN,c.toString())}))}Ho(t,n,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,lm(n,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class KR{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ys(this)&&(ot(Bs,"Restarting streams for network reachability change."),await(async function(y){const _=St(y);_.Ea.add(4),await Kl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await bh(_)})(this))}))})),this.Ra=new QR(s,l)}}async function bh(r){if(Ys(r))for(const t of r.da)await t(!0)}async function Kl(r){for(const t of r.da)await t(!1)}function YE(r,t){const n=St(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ym(n)?Km(n):lo(n).O_()&&Qm(n,t))}function Gm(r,t){const n=St(r),s=lo(n);n.Ia.delete(t),s.O_()&&$E(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ys(n)&&n.Ra.set("Unknown"))}function Qm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lo(r).Y_(t)}function $E(r,t){r.Va.Ue(t),lo(r).Z_(t)}function Km(r){r.Va=new B2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Ra.ua()}function Ym(r){return Ys(r)&&!lo(r).x_()&&r.Ia.size>0}function Ys(r){return St(r).Ea.size===0}function XE(r){r.Va=void 0}async function YR(r){r.Ra.set("Online")}async function $R(r){r.Ia.forEach(((t,n)=>{Qm(r,t)}))}async function XR(r,t){XE(r),Ym(r)?(r.Ra.ha(t),Km(r)):r.Ra.set("Unknown")}async function WR(r,t,n){if(r.Ra.set("Online"),t instanceof VE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){ot(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await eh(r,s)}else if(t instanceof zc?r.Va.Ze(t):t instanceof ME?r.Va.st(t):r.Va.tt(t),!n.isEqual(Et.min()))try{const s=await GE(r.localStore);n.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),$E(c,y);const A=new Hr(T.target,y,_,T.sequenceNumber);Qm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){ot(Bs,"Failed to raise snapshot:",s),await eh(r,s)}}async function eh(r,t,n){if(!ao(t))throw t;r.Ea.add(1),await Kl(r),r.Ra.set("Offline"),n||(n=()=>GE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Bs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await bh(r)}))}function WE(r,t){return t().catch((n=>eh(r,n,t)))}async function Sh(r){const t=St(r),n=ts(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;JR(t);)try{const l=await MR(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,ZR(t,l)}catch(l){await eh(t,l)}JE(t)&&ZE(t)}function JR(r){return Ys(r)&&r.Ta.length<10}function ZR(r,t){r.Ta.push(t);const n=ts(r);n.O_()&&n.X_&&n.ea(t.mutations)}function JE(r){return Ys(r)&&!ts(r).x_()&&r.Ta.length>0}function ZE(r){ts(r).start()}async function tI(r){ts(r).ra()}async function eI(r){const t=ts(r);for(const n of r.Ta)t.ea(n.mutations)}async function nI(r,t,n){const s=r.Ta.shift(),l=Pm.from(s,t,n);await WE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Sh(r)}async function iI(r,t){t&&ts(r).X_&&await(async function(s,l){if((function(d){return P2(d)&&d!==Y.ABORTED})(l.code)){const c=s.Ta.shift();ts(s).B_(),await WE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(s)}})(r,t),JE(r)&&ZE(r)}async function Kv(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),ot(Bs,"RemoteStore received new credentials");const s=Ys(n);n.Ea.add(3),await Kl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await bh(n)}async function rI(r,t){const n=St(r);t?(n.Ea.delete(2),await bh(n)):t||(n.Ea.add(2),await Kl(n),n.Ra.set("Unknown"))}function lo(r){return r.ma||(r.ma=(function(n,s,l){const c=St(n);return c.sa(),new qR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:YR.bind(null,r),t_:$R.bind(null,r),r_:XR.bind(null,r),H_:WR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Ym(r)?Km(r):r.Ra.set("Unknown")):(await r.ma.stop(),XE(r))}))),r.ma}function ts(r){return r.fa||(r.fa=(function(n,s,l){const c=St(n);return c.sa(),new HR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:tI.bind(null,r),r_:iI.bind(null,r),ta:eI.bind(null,r),na:nI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Bs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new $m(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(r,t){if(er("AsyncQueue",`${t}: ${r}`),ao(r))return new at(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=Tl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.ga=new ce(dt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class no{constructor(t,n,s,l,c,d,g,y,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new no(t,n,Qa.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class aI{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=St(n),c=l.queries;l.queries=$v(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function $v(){return new Qs((r=>EE(r)),ph)}async function tT(r,t){const n=St(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new sI,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Xm(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&Wm(n)}async function eT(r,t){const n=St(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function oI(r,t){const n=St(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Wm(n)}function lI(r,t,n){const s=St(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function Wm(r){r.Ca.forEach((t=>{t.next()}))}var dm,Xv;(Xv=dm||(dm={})).Ma="default",Xv.Cache="cache";class nT{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new no(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t){this.key=t}}class rT{constructor(t){this.key=t}}class uI{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=TE(t),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new Yv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const D=l.get(T),B=yh(this.query,A)?A:null,X=!!D&&this.mutatedKeys.has(D.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let tt=!1;D&&B?D.data.isEqual(B.data)?X!==J&&(s.track({type:3,doc:B}),tt=!0):this.su(D,B)||(s.track({type:2,doc:B}),tt=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(g=!0)):!D&&B?(s.track({type:0,doc:B}),tt=!0):D&&!B&&(s.track({type:1,doc:D}),tt=!0,(y||_)&&(g=!0)),tt&&(B?(d=d.add(B),c=J?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(B,X){const J=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:tt})}};return J(B)-J(X)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new rT(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new iT(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jm="SyncEngine";class cI{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class hI{constructor(t){this.key=t,this.hu=!1}}class fI{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qs((g=>EE(g)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new ce(dt.comparator),this.Au=new Map,this.Ru=new Bm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dI(r,t,n=!0){const s=cT(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await sT(s,t,n,!0),l}async function mI(r,t){const n=cT(r);await sT(n,t,!0,!1)}async function sT(r,t,n,s){const l=await VR(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await gI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&YE(r.remoteStore,l),g}async function gI(r,t,n,s,l){r.pu=(A,D,B)=>(async function(J,tt,nt,ct){let st=tt.view.ru(nt);st.Cs&&(st=await qv(J.localStore,tt.query,!1).then((({documents:N})=>tt.view.ru(N,st))));const Ct=ct&&ct.targetChanges.get(tt.targetId),At=ct&&ct.targetMismatches.get(tt.targetId)!=null,_t=tt.view.applyChanges(st,J.isPrimaryClient,Ct,At);return Jv(J,tt.targetId,_t.au),_t.snapshot})(r,A,D,B);const c=await qv(r.localStore,t,!0),d=new uI(t,c.Qs),g=d.ru(c.documents),y=Ql.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);Jv(r,n,_.au);const T=new cI(t,n,d);return r.Tu.set(t,T),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),_.snapshot}async function pI(r,t,n){const s=St(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await hm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Gm(s.remoteStore,l.targetId),mm(s,l.targetId)})).catch(so)):(mm(s,l.targetId),await hm(s.localStore,l.targetId,!0))}async function yI(r,t){const n=St(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gm(n.remoteStore,s.targetId))}async function _I(r,t,n){const s=wI(r);try{const l=await(function(d,g){const y=St(d),_=se.now(),T=g.reduce(((B,X)=>B.add(X.key)),kt());let A,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let X=nr(),J=kt();return y.Ns.getEntries(B,T).next((tt=>{X=tt,X.forEach(((nt,ct)=>{ct.isValidDocument()||(J=J.add(nt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,X))).next((tt=>{A=tt;const nt=[];for(const ct of g){const st=M2(ct,A.get(ct.key).overlayedDocument);st!=null&&nt.push(new Ks(ct.key,st,fE(st.value.mapValue),Ai.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,nt,g)})).next((tt=>{D=tt;const nt=tt.applyToLocalDocumentSet(A,J);return y.documentOverlayCache.saveOverlays(B,tt.batchId,nt)}))})).then((()=>({batchId:D.batchId,changes:SE(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(Vt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,n),await Yl(s,l.changes),await Sh(s.remoteStore)}catch(l){const c=Xm(l,"Failed to persist write");n.reject(c)}}async function aT(r,t){const n=St(r);try{const s=await DR(n.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Yl(n,s,t)}catch(s){await so(s)}}function Wv(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=St(d);y.onlineState=g;let _=!1;y.queries.forEach(((T,A)=>{for(const D of A.Sa)D.va(g)&&(_=!0)})),_&&Wm(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function vI(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ce(dt.comparator);d=d.insert(c,Je.newNoDocument(c,Et.min()));const g=kt().add(c),y=new Eh(Et.min(),new Map,new ce(Vt),d,g);await aT(s,y),s.du=s.du.remove(c),s.Au.delete(t),Zm(s)}else await hm(s.localStore,t,!1).then((()=>mm(s,t,n))).catch(so)}async function EI(r,t){const n=St(r),s=t.batch.batchId;try{const l=await xR(n.localStore,t);lT(n,s,null),oT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yl(n,l)}catch(l){await so(l)}}async function TI(r,t,n){const s=St(r);try{const l=await(function(d,g){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,g).next((A=>(Gt(A!==null,37113),T=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(s.localStore,t);lT(s,t,n),oT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Yl(s,l)}catch(l){await so(l)}}function oT(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function lT(r,t,n){const s=St(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function mm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||uT(r,s)}))}function uT(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Gm(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Zm(r))}function Jv(r,t,n){for(const s of n)s instanceof iT?(r.Ru.addReference(s.key,t),bI(r,s)):s instanceof rT?(ot(Jm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||uT(r,s.key)):yt(19791,{wu:s})}function bI(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ot(Jm,"New document in limbo: "+n),r.Eu.add(s),Zm(r))}function Zm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new dt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new hI(n)),r.du=r.du.insert(n,s),YE(r.remoteStore,new Hr(Si(km(n.path)),s,"TargetPurposeLimboResolution",dh.ce))}}async function Yl(r,t,n){const s=St(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,t,n).then((_=>{var T;if((_||n)&&s.isPrimaryClient){const A=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Hm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const T=St(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(D=>Z.forEach(D.Es,(B=>T.persistence.referenceDelegate.addReference(A,D.targetId,B))).next((()=>Z.forEach(D.ds,(B=>T.persistence.referenceDelegate.removeReference(A,D.targetId,B)))))))))}catch(A){if(!ao(A))throw A;ot(Fm,"Failed to update sequence numbers: "+A)}for(const A of _){const D=A.targetId;if(!A.fromCache){const B=T.Ms.get(D),X=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(X);T.Ms=T.Ms.insert(D,J)}}})(s.localStore,c))}async function SI(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){ot(Jm,"User change. New user:",t.toKey());const s=await FE(n.localStore,t);n.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new at(Y.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Yl(n,s.Ls)}}function AI(r,t){const n=St(r),s=n.Au.get(t);if(s&&s.hu)return kt().add(s.key);{let l=kt();const c=n.Iu.get(t);if(!c)return l;for(const d of c){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function cT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vI.bind(null,t),t.Pu.H_=oI.bind(null,t.eventManager),t.Pu.yu=lI.bind(null,t.eventManager),t}function wI(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TI.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return NR(this.persistence,new RR,t.initialUser,this.serializer)}Cu(t){return new HE(qm.mi,this.serializer)}Du(t){return new UR}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class RI extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Gt(this.persistence.referenceDelegate instanceof th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new hR(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new HE((s=>th.mi(s,n)),this.serializer)}}class gm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SI.bind(null,this.syncEngine),await rI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new aI})()}createDatastore(t){const n=Th(t.databaseInfo.databaseId),s=(function(c){return new BR(c)})(t.databaseInfo);return(function(c,d,g,y){return new GR(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,c,d,g){return new KR(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>Wv(this.syncEngine,n,0)),(function(){return Gv.v()?new Gv:new LR})())}createSyncEngine(t,n){return(function(l,c,d,g,y,_,T){const A=new fI(l,c,d,g,y,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(l){const c=St(l);ot(Bs,"RemoteStore shutting down."),c.Ea.add(5),await Kl(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}gm.provider={build:()=>new gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class II{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ot(es,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ot(es,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Xm(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(es,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await FE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Zv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await CI(r);ot(es,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Kv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Kv(t.remoteStore,l))),r._onlineComponents=t}async function CI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(es,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await Gd(r,new nh)}}else ot(es,"Using default OfflineComponentProvider"),await Gd(r,new RI(void 0));return r._offlineComponents}async function fT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(es,"Using user provided OnlineComponentProvider"),await Zv(r,r._uninitializedComponentsProvider._online)):(ot(es,"Using default OnlineComponentProvider"),await Zv(r,new gm))),r._onlineComponents}function NI(r){return fT(r).then((t=>t.syncEngine))}async function dT(r){const t=await fT(r),n=t.eventManager;return n.onListen=dI.bind(null,t.syncEngine),n.onUnlisten=pI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yI.bind(null,t.syncEngine),n}function xI(r,t,n={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const T=new hT({next:D=>{T.Nu(),d.enqueueAndForget((()=>eT(c,A)));const B=D.docs.has(g);!B&&D.fromCache?_.reject(new at(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&D.fromCache&&y&&y.source==="server"?_.reject(new at(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new nT(km(g.path),T,{includeMetadataChanges:!0,qa:!0});return tT(c,A)})(await dT(r),r.asyncQueue,t,n,s))),s.promise}function DI(r,t,n={}){const s=new Ji;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const T=new hT({next:D=>{T.Nu(),d.enqueueAndForget((()=>eT(c,A))),D.fromCache&&y.source==="server"?_.reject(new at(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),A=new nT(g,T,{includeMetadataChanges:!0,qa:!0});return tT(c,A)})(await dT(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="firestore.googleapis.com",e0=!0;class n0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gT,this.ssl=e0}else this.host=t.host,this.ssl=t.ssl??e0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uR)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Kw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Lw;switch(s.type){case"firstParty":return new Bw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=t0.get(n);s&&(ot("ComponentProvider","Removing Datastore"),t0.delete(n),s.terminate())})(this),Promise.resolve()}}function OI(r,t,n,s={}){var _;r=$r(r,Ah);const l=Fs(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${n}`;l&&(Sm(`https://${g}`),Am("Firestore",!0)),c.host!==gT&&c.host!==g&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:s};if(!Ps(y,d)&&(r._setSettings(y),s.mockUserToken)){let T,A;if(typeof s.mockUserToken=="string")T=s.mockUserToken,A=We.MOCK_USER;else{T=cA(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new We(D)}r._authCredentials=new Pw(new tE(T,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new $s(this.firestore,t,this._query)}}class De{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Fl(n,De._jsonSchema))return new De(t,s||null,new dt(ne.fromString(n.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:xe("string",De._jsonSchemaVersion),referencePath:xe("string")};class Kr extends $s{constructor(t,n,s){super(t,n,km(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new dt(t))}withConverter(t){return new Kr(this.firestore,t,this._path)}}function MI(r,t,...n){if(r=Ke(r),eE("collection","path",t),r instanceof Ah){const s=ne.fromString(t,...n);return gv(s),new Kr(r,null,s)}{if(!(r instanceof De||r instanceof Kr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return gv(s),new Kr(r.firestore,null,s)}}function tg(r,t,...n){if(r=Ke(r),arguments.length===1&&(t=Nm.newId()),eE("doc","path",t),r instanceof Ah){const s=ne.fromString(t,...n);return mv(s),new De(r,null,new dt(s))}{if(!(r instanceof De||r instanceof Kr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return mv(s),new De(r.firestore,r instanceof Kr?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="AsyncQueue";class r0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QE(this,"async_queue_retry"),this._c=()=>{const s=Fd();s&&ot(i0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Fd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Fd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;ot(i0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",s0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=$m.createAndSchedule(this,t,n,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:s0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function s0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class $l extends Ah{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new r0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new r0(t),this._firestoreClient=void 0,await t}}}function VI(r,t){const n=typeof r=="object"?r:Im(),s=typeof r=="string"?r:Yc,l=hh(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=z0("firestore");c&&OI(l,...c)}return l}function eg(r){if(r._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kI(r),r._firestoreClient}function kI(r){var s,l,c;const t=r._freezeSettings(),n=(function(g,y,_,T){return new r2(g,y,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,mT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(l=t.localCache)!=null&&l._offlineComponentProvider&&((c=t.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new II(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ye.fromBase64String(t))}catch(n){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:xe("string",Un._jsonSchemaVersion),bytes:xe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:xe("string",Ri._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ii(t.vectorValues);throw new at(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:xe("string",Ii._jsonSchemaVersion),vectorValues:xe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=/^__.*__$/;class LI{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ks(t,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(t,this.data,n,this.fieldTransforms)}}function yT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class ig{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var l;const n=(l=this.path)==null?void 0:l.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var l;const n=(l=this.path)==null?void 0:l.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(yT(this.Ac)&&UI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class PI{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Th(t)}Cc(t,n,s,l=!1){return new ig({Ac:t,methodName:n,Dc:s,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _T(r){const t=r._freezeSettings(),n=Th(r._databaseId);return new PI(r._databaseId,!!t.ignoreUndefinedProperties,n)}function zI(r,t,n,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,n,l);TT("Data must be an object, but it was:",d,s);const g=vT(s,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const D=BI(t,A,n);if(!d.contains(D))throw new at(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);HI(T,D)||T.push(D)}y=new $n(T),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new LI(new kn(g),y,_)}function jI(r,t,n,s=!1){return rg(n,r.Cc(s?4:3,t))}function rg(r,t){if(ET(r=Ke(r)))return TT("Unsupported field value:",t,r),vT(r,t);if(r instanceof pT)return(function(s,l){if(!yT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let y=rg(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=Ke(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return I2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=se.fromDate(s);return{timestampValue:Zc(l.serializer,c)}}if(s instanceof se){const c=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(s instanceof Ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:kE(l.serializer,s._byteString)};if(s instanceof De){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ii)return(function(d,g){return{mapValue:{fields:{[cE]:{stringValue:hE},[$c]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Um(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${fh(s)}`)})(r,t)}function vT(r,t){const n={};return rE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gs(r,((s,l)=>{const c=rg(l,t.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function ET(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Ri||r instanceof Un||r instanceof De||r instanceof pT||r instanceof Ii)}function TT(r,t,n){if(!ET(n)||!nE(n)){const s=fh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function BI(r,t,n){if((t=Ke(t))instanceof ng)return t._internalPath;if(typeof t=="string")return bT(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const qI=new RegExp("[~\\*/\\[\\]]");function bT(r,t,n){if(t.search(qI)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ng(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ih(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new at(Y.INVALID_ARGUMENT,g+r+y)}function HI(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new FI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(wh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FI extends ST{data(){return super.data()}}function wh(r,t){return typeof t=="string"?bT(r,t):t instanceof ng?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class AT extends sg{}function wT(r,t,...n){let s=[];t instanceof sg&&s.push(t),s=s.concat(n),(function(c){const d=c.filter((y=>y instanceof ag)).length,g=c.filter((y=>y instanceof Rh)).length;if(d>1||d>0&&g>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Rh extends AT{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Rh(t,n,s)}_apply(t){const n=this._parse(t);return RT(t._query,n),new $s(t.firestore,t.converter,sm(t._query,n))}_parse(t){const n=_T(t.firestore);return(function(c,d,g,y,_,T,A){let D;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){o0(A,T);const X=[];for(const J of A)X.push(a0(y,c,J));D={arrayValue:{values:X}}}else D=a0(y,c,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||o0(A,T),D=jI(g,d,A,T==="in"||T==="not-in");return Ne.create(_,T,D)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function QI(r,t,n){const s=t,l=wh("where",r);return Rh._create(l,s,n)}class ag extends sg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ag(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)RT(d,y),d=sm(d,y)})(t._query,n),new $s(t.firestore,t.converter,sm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends AT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new og(t,n)}_apply(t){const n=(function(l,c,d){if(l.startAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ll(c,d)})(t._query,this._field,this._direction);return new $s(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new oo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function KI(r,t="asc"){const n=t,s=wh("orderBy",r);return og._create(s,n)}function a0(r,t,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(t)&&n.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!dt.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Sv(r,new dt(s))}if(n instanceof De)return Sv(r,n._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(n)}.`)}function o0(r,t){if(!Array.isArray(r)||r.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function RT(r,t){const n=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class YI{convertValue(t,n="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Gs(t,((l,c)=>{s[l]=this.convertValue(c,n)})),s}convertVectorValue(t){var s,l,c;const n=(c=(l=(s=t.fields)==null?void 0:s[$c].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>_e(d.doubleValue)));return new Ii(n)}convertGeoPoint(t){return new Ri(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=gh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const n=Wr(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Gt(BE(s),9688,{name:t});const l=new kl(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(n)||er(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Sl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ls extends ST{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(wh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ls._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ls._jsonSchema={type:xe("string",Ls._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class jc extends Ls{data(t={}){return super.data(t)}}class Ka{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new jc(this._firestore,this._userDataWriter,s.key,s,new Sl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:XI(g.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function XI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r){r=$r(r,De);const t=$r(r.firestore,$l);return xI(eg(t),r._key).then((n=>tC(t,r,n)))}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:xe("string",Ka._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class IT extends YI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,n)}}function CT(r){r=$r(r,$s);const t=$r(r.firestore,$l),n=eg(t),s=new IT(t);return GI(r._query),DI(n,r._query).then((l=>new Ka(t,s,r,l)))}function JI(r,t,n){r=$r(r,De);const s=$r(r.firestore,$l),l=$I(r.converter,t);return NT(s,[zI(_T(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Ai.none())])}function ZI(r){return NT($r(r.firestore,$l),[new Lm(r._key,Ai.none())])}function NT(r,t){return(function(s,l){const c=new Ji;return s.asyncQueue.enqueueAndForget((async()=>_I(await NI(s),l,c))),c.promise})(eg(r),t)}function tC(r,t,n){const s=n.docs.get(t._key),l=new IT(r);return new Ls(r,l,t._key,s,new Sl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){ro=l})(io),zs(new Yr("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new $l(new zw(s.getProvider("auth-internal")),new qw(d,s.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(_.options.projectId,T)})(d,l),d);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),bi(cv,hv,t),bi(cv,hv,"esm2020")})();var eC="firebase",nC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(eC,nC,"app");function xT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iC=xT,DT=new ql("auth","Firebase",xT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new wm("@firebase/auth");function rC(r,...t){rh.logLevel<=Mt.WARN&&rh.warn(`Auth (${io}): ${r}`,...t)}function Bc(r,...t){rh.logLevel<=Mt.ERROR&&rh.error(`Auth (${io}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r,...t){throw lg(r,...t)}function Ci(r,...t){return lg(r,...t)}function OT(r,t,n){const s={...iC(),[t]:n};return new ql("auth","Firebase",s).create(t,{appName:r.name})}function Zi(r){return OT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return DT.create(r,...t)}function pt(r,t,...n){if(!r)throw lg(t,...n)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bc(t),new Error(t)}function ir(r,t){r||Xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function sC(){return l0()==="http:"||l0()==="https:"}function l0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sC()||pA()||"connection"in navigator)?navigator.onLine:!0}function oC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ir(n>t,"Short delay should be less than long delay!"),this.isMobile=dA()||yA()}get(){return aC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r,t){ir(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cC=new Xl(3e4,6e4);function ns(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function is(r,t,n,s,l={}){return VT(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Hl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return gA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Fs(r.emulatorConfig.host)&&(_.credentials="include"),MT.fetch()(await kT(r,r.config.apiHost,n,g),_)})}async function VT(r,t,n){r._canInitEmulator=!1;const s={...lC,...t};try{const l=new fC(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Vc(r,"user-disabled",d);const T=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw OT(r,T,_);Jn(r,T)}}catch(l){if(l instanceof rr)throw l;Jn(r,"network-request-failed",{message:String(l)})}}async function Wl(r,t,n,s,l={}){const c=await is(r,t,n,s,l);return"mfaPendingCredential"in c&&Jn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function kT(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?ug(r.config,l):`${r.config.apiScheme}://${l}`;return uC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function hC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),cC.get())})}}function Vc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ci(r,t,s);return l.customData._tokenResponse=n,l}function u0(r){return r!==void 0&&r.enterprise!==void 0}class dC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return hC(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mC(r,t){return is(r,"GET","/v2/recaptchaConfig",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(r,t){return is(r,"POST","/v1/accounts:delete",t)}async function sh(r,t){return is(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pC(r,t=!1){const n=Ke(r),s=await n.getIdToken(t),l=cg(s);pt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:xl(Qd(l.auth_time)),issuedAtTime:xl(Qd(l.iat)),expirationTime:xl(Qd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Qd(r){return Number(r)*1e3}function cg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=L0(n);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function c0(r){const t=cg(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof rr&&yC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function yC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(r){var A;const t=r.auth,n=await r.getIdToken(),s=await jl(r,sh(t,{idToken:n}));pt(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=(A=l.providerUserInfo)!=null&&A.length?UT(l.providerUserInfo):[],d=EC(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),_=g?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function vC(r){const t=Ke(r);await ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function EC(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function UT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,t){const n=await VT(r,{},async()=>{const s=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await kT(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&Fs(r.emulatorConfig.host)&&(y.credentials="include"),MT.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bC(r,t){return is(r,"POST","/v2/accounts:revokeToken",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):c0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=c0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await TC(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new Ya;return s&&(pt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new _C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await jl(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return pC(this,t)}reload(){return vC(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await jl(this,gC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:B,providerData:X,stsTokenManager:J}=n;pt(A&&J,t,"internal-error");const tt=Ya.fromJSON(this.name,J);pt(typeof A=="string",t,"internal-error"),Pr(s,t.name),Pr(l,t.name),pt(typeof D=="boolean",t,"internal-error"),pt(typeof B=="boolean",t,"internal-error"),Pr(c,t.name),Pr(d,t.name),Pr(g,t.name),Pr(y,t.name),Pr(_,t.name),Pr(T,t.name);const nt=new Xn({uid:A,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:tt,createdAt:_,lastLoginAt:T});return X&&Array.isArray(X)&&(nt.providerData=X.map(ct=>({...ct}))),y&&(nt._redirectEventId=y),nt}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ya;l.updateFromServerResponse(n);const c=new Xn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await ah(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?UT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ya;g.updateFromIdToken(s);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;function Wi(r){ir(r instanceof Function,"Expected a class definition");let t=h0.get(r);return t?(ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,h0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}LT.type="NONE";const f0=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(r,t,n){return`firebase:${r}:${t}:${n}`}class $a{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sh(this.auth,{idToken:t}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new $a(Wi(f0),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Wi(f0);const d=qc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const D=await sh(t,{idToken:T}).catch(()=>{});if(!D)break;A=await Xn._fromGetAccountInfoResponse(t,D,T)}else A=Xn._fromJSON(t,T);_!==c&&(g=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new $a(c,t,s):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new $a(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(PT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HT(t))return"Blackberry";if(FT(t))return"Webos";if(zT(t))return"Safari";if((t.includes("chrome/")||jT(t))&&!t.includes("edge/"))return"Chrome";if(qT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PT(r=Ze()){return/firefox\//i.test(r)}function zT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jT(r=Ze()){return/crios\//i.test(r)}function BT(r=Ze()){return/iemobile/i.test(r)}function qT(r=Ze()){return/android/i.test(r)}function HT(r=Ze()){return/blackberry/i.test(r)}function FT(r=Ze()){return/webos/i.test(r)}function hg(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SC(r=Ze()){var t;return hg(r)&&!!((t=window.navigator)!=null&&t.standalone)}function AC(){return _A()&&document.documentMode===10}function GT(r=Ze()){return hg(r)||qT(r)||FT(r)||HT(r)||/windows phone/i.test(r)||BT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(r,t=[]){let n;switch(r){case"Browser":n=d0(Ze());break;case"Worker":n=`${d0(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(r,t={}){return is(r,"GET","/v2/passwordPolicy",ns(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=6;class CC{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new wC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sh(this,{idToken:t}),s=await Xn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var c;if(Tn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===g)&&(y!=null&&y.user)&&(s=y.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ah(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Tn(this.app))return Promise.reject(Zi(this));const n=t?Ke(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Tn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await RC(this),n=new CC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await bC(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wi(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&rC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xs(r){return Ke(r)}class m0{constructor(t){this.auth=t,this.observer=null,this.addObserver=RA(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xC(r){Ih=r}function KT(r){return Ih.loadJS(r)}function DC(){return Ih.recaptchaEnterpriseScript}function OC(){return Ih.gapiScript}function MC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class VC{constructor(){this.enterprise=new kC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class kC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const UC="recaptcha-enterprise",YT="NO_RECAPTCHA";class LC{constructor(t){this.type=UC,this.auth=Xs(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{mC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new dC(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{g(y)})})}function l(c,d,g){const y=window.grecaptcha;u0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(YT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(g=>{if(!n&&u0(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=DC();y.length!==0&&(y+=g),KT(y).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function g0(r,t,n,s=!1,l=!1){const c=new LC(r);let d;if(l)d=YT;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function _m(r,t,n,s,l){var c;if((c=r._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await g0(r,t,n,n==="getOobCode");return s(r,d)}else return s(r,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await g0(r,t,n,n==="getOobCode");return s(r,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r,t){const n=hh(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ps(c,t??{}))return l;Jn(l,"already-initialized")}return n.initialize({options:t})}function zC(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function jC(r,t,n){const s=Xs(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=$T(t),{host:d,port:g}=BC(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(Ps(_,s.config.emulator)&&Ps(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Fs(d)?(Sm(`${c}//${d}${y}`),Am("Auth",!0)):qC()}function $T(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function BC(r){const t=$T(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:p0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:p0(d)}}}function p0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function qC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,n){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function HC(r,t){return is(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(r,t){return Wl(r,"POST","/v1/accounts:signInWithPassword",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(r,t){return Wl(r,"POST","/v1/accounts:signInWithEmailLink",ns(r,t))}async function QC(r,t){return Wl(r,"POST","/v1/accounts:signInWithEmailLink",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends fg{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Bl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Bl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(t,n,"signInWithPassword",FC);case"emailLink":return GC(t,{email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(t,s,"signUpPassword",HC);case"emailLink":return QC(t,{idToken:n,email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r,t){return Wl(r,"POST","/v1/accounts:signInWithIdp",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="http://localhost";class qs extends fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=n;if(!s||!l)return null;const d=new qs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Xa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Xa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Xa(t,n)}buildRequest(){const t={requestUri:KC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Hl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $C(r){const t=_l(vl(r)).link,n=t?_l(vl(t)).deep_link_id:null,s=_l(vl(r)).deep_link_id;return(s?_l(vl(s)).link:null)||s||n||t||r}class dg{constructor(t){const n=_l(vl(t)),s=n.apiKey??null,l=n.oobCode??null,c=YC(n.mode??null);pt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=$C(t);try{return new dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(t,n){return Bl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=dg.parseLink(n);return pt(s,"argument-error"),Bl._fromEmailAndCode(t,s.code,s.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends XT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Jl{constructor(){super("facebook.com")}static credential(t){return qs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Jl{constructor(){super("github.com")}static credential(t){return qs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Jl{constructor(){super("twitter.com")}static credential(t,n){return qs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(r,t){return Wl(r,"POST","/v1/accounts:signUp",ns(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Xn._fromIdTokenResponse(t,s,l),d=y0(s);return new Hs({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=y0(s);return new Hs({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function y0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends rr{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new oh(t,n,s,l)}}function WT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(r,c,t,s):c})}async function WC(r,t,n=!1){const s=await jl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Hs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(r,t,n=!1){const{auth:s}=r;if(Tn(s.app))return Promise.reject(Zi(s));const l="reauthenticate";try{const c=await jl(r,WT(s,l,t,r),n);pt(c.idToken,s,"internal-error");const d=cg(c.idToken);pt(d,s,"internal-error");const{sub:g}=d;return pt(r.uid===g,s,"user-mismatch"),Hs._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Jn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(r,t,n=!1){if(Tn(r.app))return Promise.reject(Zi(r));const s="signIn",l=await WT(r,s,t),c=await Hs._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function ZC(r,t){return JT(Xs(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(r){const t=Xs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function tN(r,t,n){if(Tn(r.app))return Promise.reject(Zi(r));const s=Xs(r),d=await _m(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&ZT(r),y}),g=await Hs._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(g.user),g}function eN(r,t,n){return Tn(r.app)?Promise.reject(Zi(r)):ZC(Ke(r),uo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ZT(r),s})}function nN(r,t,n,s){return Ke(r).onIdTokenChanged(t,n,s)}function iN(r,t,n){return Ke(r).beforeAuthStateChanged(t,n)}function rN(r,t,n,s){return Ke(r).onAuthStateChanged(t,n,s)}function sN(r){return Ke(r).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1e3,oN=10;class e1 extends t1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);AC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,oN):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}e1.type="LOCAL";const lN=e1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends t1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}n1.type="SESSION";const i1=n1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Ch(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),y=await uN(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=mg("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function hN(r){Ni().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function fN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function mN(){return r1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebaseLocalStorageDb",gN=1,uh="firebaseLocalStorage",a1="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(r,t){return r.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function pN(){const r=indexedDB.deleteDatabase(s1);return new Zl(r).toPromise()}function vm(){const r=indexedDB.open(s1,gN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(uh,{keyPath:a1})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(uh)?t(s):(s.close(),await pN(),t(await vm()))})})}async function _0(r,t,n){const s=Nh(r,!0).put({[a1]:t,value:n});return new Zl(s).toPromise()}async function yN(r,t){const n=Nh(r,!1).get(t),s=await new Zl(n).toPromise();return s===void 0?null:s.value}function v0(r,t){const n=Nh(r,!0).delete(t);return new Zl(n).toPromise()}const _N=800,vN=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>vN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(mN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await fN(),!this.activeServiceWorker)return;this.sender=new cN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vm();return await _0(t,lh,"1"),await v0(t,lh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>yN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>v0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Nh(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const EN=o1;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(r,t){return t?Wi(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends fg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Xa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function bN(r){return JT(r.auth,new gg(r),r.bypassAuthState)}function SN(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),JC(n,new gg(r),r.bypassAuthState)}async function AN(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),WC(n,new gg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bN;case"linkViaPopup":case"linkViaRedirect":return AN;case"reauthViaPopup":case"reauthViaRedirect":return SN;default:Jn(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Xl(2e3,1e4);class Ga extends l1{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wN.get())};t()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="pendingRedirect",Hc=new Map;class IN extends l1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const s=await CN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CN(r,t){const n=DN(t),s=xN(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function NN(r,t){Hc.set(r._key(),t)}function xN(r){return Wi(r._redirectPersistence)}function DN(r){return qc(RN,r.config.apiKey,r.name)}async function ON(r,t,n=!1){if(Tn(r.app))return Promise.reject(Zi(r));const s=Xs(r),l=TN(s,t),d=await new IN(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=600*1e3;class VN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!u1(t)){const l=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=MN&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(t))}saveEventToCache(t){this.cachedEventUids.add(E0(t)),this.lastProcessedEventTime=Date.now()}}function E0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function u1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function kN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(r,t={}){return is(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PN=/^https?/;async function zN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await UN(r);for(const n of t)try{if(jN(n))return}catch{}Jn(r,"unauthorized-domain")}function jN(r){const t=pm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!PN.test(n))return!1;if(LN.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new Xl(3e4,6e4);function T0(){const r=Ni().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function qN(r){return new Promise((t,n)=>{var l,c,d;function s(){T0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{T0(),n(Ci(r,"network-request-failed"))},timeout:BN.get()})}if((c=(l=Ni().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)t(gapi.iframes.getContext());else if((d=Ni().gapi)!=null&&d.load)s();else{const g=MC("iframefcb");return Ni()[g]=()=>{gapi.load?s():n(Ci(r,"network-request-failed"))},KT(`${OC()}?onload=${g}`).catch(y=>n(y))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function HN(r){return Fc=Fc||qN(r),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new Xl(5e3,15e3),GN="__/auth/iframe",QN="emulator/auth/iframe",KN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $N(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?ug(t,QN):`https://${r.config.authDomain}/${GN}`,s={apiKey:t.apiKey,appName:r.name,v:io},l=YN.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Hl(s).slice(1)}`}async function XN(r){const t=await HN(r),n=Ni().gapi;return pt(n,r,"internal-error"),t.open({where:document.body,url:$N(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KN,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ci(r,"network-request-failed"),g=Ni().setTimeout(()=>{c(d)},FN.get());function y(){Ni().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JN=500,ZN=600,tx="_blank",ex="http://localhost";class b0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nx(r,t,n,s=JN,l=ZN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...WN,width:s.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();n&&(g=jT(_)?tx:n),PT(_)&&(t=t||ex,y.scrollbars="yes");const T=Object.entries(y).reduce((D,[B,X])=>`${D}${B}=${X},`,"");if(SC(_)&&g!=="_self")return ix(t||"",g),new b0(null);const A=window.open(t||"",g,T);pt(A,r,"popup-blocked");try{A.focus()}catch{}return new b0(A)}function ix(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="__/auth/handler",sx="emulator/auth/handler",ax=encodeURIComponent("fac");async function S0(r,t,n,s,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:io,eventId:l};if(t instanceof XT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",wA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof Jl){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await r._getAppCheckToken(),_=y?`#${ax}=${encodeURIComponent(y)}`:"";return`${ox(r)}?${Hl(g).slice(1)}${_}`}function ox({config:r}){return r.emulator?ug(r,sx):`https://${r.authDomain}/${rx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class lx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=ON,this._overrideRedirectResult=NN}async _openPopup(t,n,s,l){var d;ir((d=this.eventManagers[t._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await S0(t,n,s,pm(),l);return nx(t,c,mg())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await S0(t,n,s,pm(),l);return hN(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(ir(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await XN(t),s=new VN(t);return n.register("authEvent",l=>(pt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Kd,{type:Kd},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[Kd];c!==void 0&&n(!!c),Jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return GT()||zT()||hg()}}const ux=lx;var A0="@firebase/auth",w0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fx(r){zs(new Yr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(r)},_=new NC(s,l,c,y);return zC(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),zs(new Yr("auth-internal",t=>{const n=Xs(t.getProvider("auth").getImmediate());return(s=>new cx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(A0,w0,hx(r)),bi(A0,w0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=300,mx=B0("authIdTokenMaxAge")||dx;let R0=null;const gx=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>mx)return;const l=n==null?void 0:n.token;R0!==l&&(R0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function px(r=Im()){const t=hh(r,"auth");if(t.isInitialized())return t.getImmediate();const n=PC(r,{popupRedirectResolver:ux,persistence:[EN,lN,i1]}),s=B0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=gx(c.toString());iN(n,d,()=>d(n.currentUser)),nN(n,g=>d(g))}}const l=P0("auth");return l&&jC(n,`http://${l}`),n}function yx(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}xC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Ci("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",yx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fx("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,n,s,l){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Tn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||s.get().then(c=>this.messaging=c,()=>{}),this.appCheck||l==null||l.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),s=await this.getMessagingToken(),l=await this.getAppCheckToken(t);return{authToken:n,messagingToken:s,appCheckToken:l}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="us-central1";class vx{constructor(t,n,s,l,c=Em,d=(...g)=>fetch(...g)){this.app=t,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new _x(t,n,s,l),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(c);this.customDomain=g.origin+(g.pathname==="/"?"":g.pathname),this.region=Em}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function Ex(r,t,n){const s=Fs(t);r.emulatorOrigin=`http${s?"s":""}://${t}:${n}`,s&&(Sm(r.emulatorOrigin+"/backends"),Am("Functions",!0))}const I0="@firebase/functions",C0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="auth-internal",bx="app-check-internal",Sx="messaging-internal";function Ax(r){const t=(n,{instanceIdentifier:s})=>{const l=n.getProvider("app").getImmediate(),c=n.getProvider(Tx),d=n.getProvider(Sx),g=n.getProvider(bx);return new vx(l,c,d,g,s)};zs(new Yr(c1,t,"PUBLIC").setMultipleInstances(!0)),bi(I0,C0,r),bi(I0,C0,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(r=Im(),t=Em){const s=hh(Ke(r),c1).getImmediate({identifier:t}),l=z0("functions");return l&&Rx(s,...l),s}function Rx(r,t,n){Ex(Ke(r),t,n)}Ax();const Ix={apiKey:"AIzaSyAcURfintKpwtmcLDTVWKbP2VU_LLnDeFk",authDomain:"enuar-app.firebaseapp.com",projectId:"enuar-app",storageBucket:"enuar-app.firebasestorage.app",messagingSenderId:"490292444780",appId:"1:490292444780:web:88b3858cc39687c002a249",measurementId:"G-1F8G3TC3JM"},pg=F0(Ix),Al=px(pg),xh=VI(pg);wx(pg,"us-central1");const co=()=>{var r;return((r=Al.currentUser)==null?void 0:r.uid)||null},h1=()=>{const r=co();if(!r)throw new Error("User not authenticated");return MI(xh,"users",r,"wods")},Cx=async()=>{try{if(!co())return[];const t=h1(),n=wT(t,KI("date","desc"));return(await CT(n)).docs.map(l=>({id:l.id,...l.data()}))}catch(r){return console.error("Error loading WODs from Firestore:",r),[]}},Nx=async r=>{try{if(!co())return[];const n=h1(),s=wT(n,QI("date","==",r));return(await CT(s)).docs.map(c=>({id:c.id,...c.data()}))}catch(t){return console.error("Error loading WODs by date:",t),[]}},xx=async r=>{try{const t=co();if(!t)return;const n=tg(xh,"users",t,"wods",r),s=await WI(n);return s.exists()?{id:s.id,...s.data()}:void 0}catch(t){console.error("Error loading WOD by ID:",t);return}},f1=async r=>{try{const t=co();if(!t)throw new Error("User not authenticated");const n=r.id||crypto.randomUUID(),s=tg(xh,"users",t,"wods",n);await JI(s,{...r,id:n,updatedAt:new Date().toISOString()})}catch(t){throw console.error("Error saving WOD:",t),t}},Dx=async r=>{try{const t=co();if(!t)throw new Error("User not authenticated");const n=tg(xh,"users",t,"wods",r);await ZI(n)}catch(t){throw console.error("Error deleting WOD:",t),t}},Ox=async()=>{const r="ENUAR_WODS_DATA",t="ENUAR_MIGRATION_COMPLETE";if(localStorage.getItem(t))return 0;try{const n=localStorage.getItem(r);if(!n)return localStorage.setItem(t,"true"),0;const s=JSON.parse(n);if(s.length===0)return localStorage.setItem(t,"true"),0;for(const l of s)await f1(l);return localStorage.setItem(t,"true"),console.log(`Migrated ${s.length} WODs to Firestore`),s.length}catch(n){return console.error("Error migrating WODs:",n),0}},Mx=({onDateSelect:r,isDarkMode:t=!0,isVertical:n=!1})=>{const s=new Date,[l,c]=mt.useState(s.getMonth()),[d,g]=mt.useState(s.getFullYear()),[y,_]=mt.useState([]),[T,A]=mt.useState(!0),D=new Date(d,l).toLocaleString("es-ES",{month:"long"}).toUpperCase();mt.useEffect(()=>{(async()=>{A(!0);try{const nt=await Cx();_(nt)}catch(nt){console.error("Error loading WODs:",nt)}finally{A(!1)}})()},[l,d]);const B=()=>{l===0?(c(11),g(d-1)):c(l-1)},X=()=>{l===11?(c(0),g(d+1)):c(l+1)},J=x0.useMemo(()=>{const tt=[],nt=new Date(d,l,1),ct=new Date(d,l+1,0).getDate(),st=nt.getDay();for(let At=0;At<st;At++){const _t=new Date(d,l,0-(st-1-At));tt.push({date:_t,isCurrentMonth:!1,isToday:!1,wodCount:0})}for(let At=1;At<=ct;At++){const _t=new Date(d,l,At),N=_t.toDateString()===new Date().toDateString(),w=_t.toISOString().split("T")[0],R=y.filter(V=>V.date===w).length;tt.push({date:_t,isCurrentMonth:!0,isToday:N,wodCount:R})}const Ct=35-tt.length;if(Ct>0)for(let At=1;At<=Ct;At++){const _t=new Date(d,l+1,At);tt.push({date:_t,isCurrentMonth:!1,isToday:!1,wodCount:0})}return tt},[l,d,y]);return x.jsxs("div",{className:`w-full mx-auto transition-all duration-300 ${n?"max-w-md":"max-w-lg"}`,children:[x.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[x.jsx("button",{onClick:B,className:`hover:text-neon-orange hover:scale-125 transition-all p-1 ${t?"text-white/50":"text-gray-400"}`,title:"Mes anterior",children:x.jsx(fS,{size:n?28:32})}),x.jsxs("h2",{className:`${n?"text-3xl":"text-3xl md:text-4xl"} font-display text-center tracking-widest drop-shadow-[0_0_25px_rgba(255,95,31,0.8)] relative ${t?"text-white":"text-gray-800"}`,children:[x.jsx("span",{className:"absolute inset-0 blur-xl bg-neon-orange/20 rounded-full"}),x.jsx("span",{className:"relative",children:D}),x.jsx("span",{className:"block text-sm text-neon-orange/60 mt-0.5",children:d})]}),x.jsx("button",{onClick:X,className:`hover:text-neon-orange hover:scale-125 transition-all p-1 ${t?"text-white/50":"text-gray-400"}`,title:"Mes siguiente",children:x.jsx(mS,{size:n?28:32})})]}),T&&x.jsx("div",{className:"flex justify-center py-2",children:x.jsx(Dl,{className:"animate-spin text-neon-orange",size:20})}),x.jsx("div",{className:"grid grid-cols-7 gap-1 mb-1",children:["D","L","M","M","J","V","S"].map((tt,nt)=>x.jsx("div",{className:"text-center text-gray-500 font-bold text-xs",children:tt},nt))}),x.jsx("div",{className:`grid grid-cols-7 gap-1 border-t border-l ${t?"border-white/20":"border-gray-200"}`,children:J.map((tt,nt)=>x.jsxs("button",{type:"button",onClick:()=>r(tt.date),className:`
              relative aspect-square flex items-center justify-center font-sans border-b border-r transition-all duration-300
              ${t?"border-white/20":"border-gray-200"}
              ${tt.isCurrentMonth?t?"text-white hover:text-neon-orange hover:bg-white/5 cursor-pointer":"text-gray-800 hover:text-neon-orange hover:bg-orange-50 cursor-pointer":"text-gray-400 pointer-events-none"}
              ${tt.isToday?"border-2 border-neon-orange neon-box bg-neon-orange/10 z-10":""}
              ${n?"text-base":"text-base md:text-lg"}
            `,children:[tt.date.getDate(),tt.wodCount>0&&x.jsx("div",{className:"absolute bottom-1 flex gap-0.5",children:Array.from({length:Math.min(tt.wodCount,3)}).map((ct,st)=>x.jsx("div",{className:"w-1 h-1 bg-neon-orange rounded-full shadow-[0_0_5px_rgba(255,95,31,1)]"},st))})]},nt))})]})};var Vx=D0();const kx=({date:r,wodId:t,onClose:n,onSave:s,isDarkMode:l,isVertical:c})=>{const d=r.toISOString().split("T")[0],[g,y]=mt.useState(""),[_,T]=mt.useState([]),[A,D]=mt.useState(""),[B,X]=mt.useState(!1),[J,tt]=mt.useState(0),[nt,ct]=mt.useState(c),[st,Ct]=mt.useState(!1),[At,_t]=mt.useState(!0),N=mt.useRef(null),w=mt.useRef(null),R=mt.useRef(null);mt.useEffect(()=>{const S=document.createElement("div");return S.id="wod-fullscreen-container",S.style.cssText=`position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; display: none; background: ${l?"black":"white"};`,document.body.appendChild(S),R.current=S,()=>{S.remove()}},[l]);const V=async()=>{const S=R.current;if(S)if(B){try{document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.msExitFullscreen&&await document.msExitFullscreen()}catch(L){console.error("Error exiting fullscreen:",L)}S.style.display="none",X(!1)}else try{S.style.display="flex",S.style.alignItems="center",S.style.justifyContent="center",S.requestFullscreen?await S.requestFullscreen():S.webkitRequestFullscreen?await S.webkitRequestFullscreen():S.msRequestFullscreen&&await S.msRequestFullscreen(),X(!0)}catch(L){console.error("Error entering fullscreen:",L),X(!0)}};mt.useEffect(()=>{const S=()=>{const L=!!(document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement);!L&&R.current&&(R.current.style.display="none"),X(L)};return document.addEventListener("fullscreenchange",S),document.addEventListener("webkitfullscreenchange",S),document.addEventListener("msfullscreenchange",S),()=>{document.removeEventListener("fullscreenchange",S),document.removeEventListener("webkitfullscreenchange",S),document.removeEventListener("msfullscreenchange",S)}},[]),mt.useEffect(()=>{(async()=>{if(t){const L=await xx(t);if(L)if(y(L.title),L.sections&&L.sections.length>0)T(L.sections),D(L.sections[0].id);else if(L.content){const W=crypto.randomUUID();T([{id:W,title:"WOD",content:L.content}]),D(W)}else T([]),D("")}else y(`WOD ${r.toLocaleDateString()}`),T([]),D("")})()},[t,r]),mt.useEffect(()=>{_.length>0&&!_.find(S=>S.id===A)&&D(_[0].id),_.length>0&&!_.find(S=>S.id===A)&&D(_[0].id)},[_,A]),mt.useEffect(()=>{if(!B)return;const S=L=>{L.key==="ArrowDown"||L.key==="ArrowRight"?tt(W=>Math.min(W+1,_.length-1)):(L.key==="ArrowUp"||L.key==="ArrowLeft")&&tt(W=>Math.max(W-1,0))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[B,_.length]),mt.useEffect(()=>{if(B&&N.current){const S=setTimeout(()=>{var W;const L=(W=N.current)==null?void 0:W.children[J];L&&L.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},50);return()=>clearTimeout(S)}},[J,B]);const O=async()=>{const S=_.map(W=>`### ${W.title}
${W.content}`).join(`

`),L={id:t||crypto.randomUUID(),date:d,title:g.trim()||`WOD ${r.toLocaleDateString()}`,content:S,sections:_};await f1(L),s(),n()},k=async()=>{t&&(await Dx(t),s(),n())},I=()=>{const S={id:crypto.randomUUID(),title:"",content:""};T([..._,S]),D(S.id)},ee=S=>{T(_.filter(L=>L.id!==S))},he=(S,L,W)=>{T(_.map(et=>et.id===S?{...et,[L]:W}:et))},G=()=>{const S={title:g,sections:_};localStorage.setItem("copiedWodData",JSON.stringify(S)),alert(" WOD copiado al portapapeles")},rt=()=>{const S=localStorage.getItem("copiedWodData");if(!S){alert(" No hay WOD copiado para pegar.");return}try{const L=JSON.parse(S);if(L.title&&y(L.title),L.sections&&Array.isArray(L.sections)){const W=L.sections.map(et=>({...et,id:crypto.randomUUID()}));T(et=>et.length===0||et.length===1&&!et[0].title&&!et[0].content?W:[...et,...W]),W.length>0&&D(W[0].id)}alert(" WOD pegado correctamente")}catch(L){console.error("Error pasting WOD:",L),alert(" Error al pegar el WOD.")}},ht=S=>{localStorage.setItem("copiedSectionData",JSON.stringify(S)),alert(" Seccin copiada al portapapeles")},Ut=()=>{const S=localStorage.getItem("copiedSectionData");if(!S){alert(" No hay seccin copiada para pegar.");return}try{const L=JSON.parse(S),W={...L,id:crypto.randomUUID(),title:L.title||"Seccin Pegada"};T(et=>[...et,W]),D(W.id),alert(" Seccin pegada correctamente")}catch(L){console.error("Error pasting section:",L),alert(" Error al pegar la seccin.")}},jt=x.jsxs("div",{ref:w,className:`border rounded-xl shadow-[0_0_40px_rgba(255,95,31,0.25)] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200 transition-all
            ${B?"fixed inset-0 z-[9999] w-screen h-screen rounded-none":c?"w-[90vh] max-w-[90vh] h-[90vw]":"w-[90vw] max-w-3xl h-[85vh]"}
            ${l?"bg-neutral-900 border-neon-orange":"bg-white border-orange-300"}
        `,children:[x.jsxs("div",{onMouseLeave:()=>{B&&_t(!1)},className:`px-5 py-3 border-b flex justify-between items-center shrink-0 transition-all duration-300 ease-in-out
        ${B?`border-none z-50 fixed top-0 left-0 w-full ${l?"bg-black":"bg-white"}`:`relative ${l?"bg-wood-800 border-neutral-800":"bg-orange-50 border-orange-100"}`}
        ${B&&!At?"-translate-y-full opacity-0 pointer-events-none":"translate-y-0 opacity-100"}
      `,children:[x.jsxs("div",{className:"flex items-center gap-2",children:[!B&&x.jsxs(x.Fragment,{children:[x.jsx("h2",{className:`text-xl font-display uppercase tracking-wider flex items-center gap-2 ${l?"text-white":"text-gray-800"}`,children:t?"EDITAR WOD":"NUEVO WOD"}),x.jsx("span",{className:"text-xs bg-neutral-800 px-2 py-0.5 rounded text-gray-400 font-mono",children:r.toLocaleDateString()})]}),B&&x.jsx("div",{className:"font-display text-neon-orange text-xl tracking-widest",children:r.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"}).toUpperCase()})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[B&&x.jsxs("button",{onClick:S=>{S.stopPropagation(),S.preventDefault(),Ct(L=>!L)},className:`group flex flex-col items-center justify-center transition-colors ${st?"text-neon-orange":l?"text-white/50 hover:text-neon-orange":"text-gray-400 hover:text-neon-orange"}`,title:st?"Ver por Secciones":"Ver Todo",children:[x.jsx("div",{className:`border-2 border-dashed border-current rounded-full p-2 transition-all ${st?"shadow-[0_0_15px_rgba(255,95,31,0.5)]":"group-hover:shadow-[0_0_10px_rgba(255,95,31,0.5)]"}`,children:st?x.jsx(AS,{size:24}):x.jsx(bS,{size:24})}),x.jsx("span",{className:"text-xs font-bold mt-1",children:st?"TODO":"FOCO"})]}),B&&x.jsxs("button",{onClick:S=>{S.stopPropagation(),S.preventDefault(),ct(L=>{const W=!L;return localStorage.setItem("wodIsVerticalMode",JSON.stringify(W)),W})},className:`group flex flex-col items-center justify-center transition-colors ${nt?"text-neon-orange":l?"text-white/50 hover:text-neon-orange":"text-gray-400 hover:text-neon-orange"}`,title:nt?"Cambiar a 16:9 (Horizontal)":"Cambiar a 9:16 (Vertical)",children:[x.jsx("div",{className:`border-2 border-dashed border-current rounded-full p-2 transition-all ${nt?"shadow-[0_0_15px_rgba(255,95,31,0.5)]":"group-hover:shadow-[0_0_10px_rgba(255,95,31,0.5)]"}`,children:x.jsx(V0,{size:24})}),x.jsx("span",{className:"text-xs font-bold mt-1",children:nt?"9:16":"16:9"})]}),x.jsx("button",{onClick:V,className:`text-gray-500 hover:text-neon-orange transition-colors p-1 ${B?l?"text-white/50 hover:text-white hover:scale-110":"text-gray-400 hover:text-gray-800 hover:scale-110":""}`,title:B?"Salir de Modo Presentacin":"Modo Presentacin",children:B?x.jsx(PS,{size:32}):x.jsx(VS,{size:20})}),!B&&x.jsx("button",{onClick:n,className:"text-gray-500 hover:text-white transition-colors p-1",children:x.jsx(bm,{size:20})})]})]}),B&&!At&&x.jsx("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 z-[10000] bg-black/50 hover:bg-neon-orange text-neon-orange hover:text-black px-8 py-1 rounded-b-xl cursor-pointer transition-all backdrop-blur-sm border-b border-x border-neon-orange/30 shadow-[0_4px_20px_rgba(0,0,0,0.5)] animate-in fade-in slide-in-from-top-2",onMouseEnter:()=>_t(!0),onClick:()=>_t(!0),title:"Mostrar controles",children:x.jsx(cS,{size:28})}),x.jsx("div",{className:`flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-neon-orange/20 relative ${B?"p-10 flex flex-col items-center":"p-4"} ${l?"bg-neutral-900/95":"bg-white"}`,children:B?x.jsxs("div",{className:`mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500 transition-all 
              ${nt?`fixed z-40 overflow-y-auto p-6 ${l?"bg-black":"bg-white"}`:"w-full max-w-6xl"}
              ${!nt&&st?"h-full flex flex-col justify-center":"space-y-8"}
            `,style:nt&&!st?{transform:"rotate(90deg)",width:"100vh",height:"100vw",top:"50%",left:"50%",marginTop:"-50vw",marginLeft:"-50vh",transformOrigin:"center center"}:nt?{transform:"rotate(90deg)",width:"100vh",height:"100vw",top:"50%",left:"50%",marginTop:"-50vw",marginLeft:"-50vh",transformOrigin:"center center"}:void 0,children:[x.jsx("div",{className:`text-center border-b-2 border-neon-orange/30 ${nt?"pb-4":!nt&&st?"mb-4 pb-2":"pb-8"}`,children:x.jsx("h1",{className:`font-display tracking-tight uppercase drop-shadow-[0_0_15px_rgba(255,255,255,0.1)] 
                ${nt?"text-7xl":!nt&&st?"text-5xl md:text-6xl":"text-5xl md:text-7xl"}
                ${l?"text-white":"text-black"}
              `,children:g||"SIN TTULO"})}),x.jsx("div",{ref:N,className:`grid 
              ${nt?"grid-cols-1 gap-6 pb-20":!nt&&st?"grid-cols-2 gap-6 pb-0 overflow-y-auto pr-2":"grid-cols-1 gap-12 pb-40"}
            `,children:_.map((S,L)=>{const W=L===J,et=st||W;return x.jsxs("div",{onClick:()=>tt(L),className:`space-y-2 rounded-3xl transition-all duration-500 transform-gpu cursor-pointer border 
                      ${nt?"p-4":!nt&&st?"p-5":"p-8"}
                      ${et?"bg-neon-orange shadow-[0_0_60px_rgba(255,95,31,0.4)] scale-105 z-10 border-neon-orange":`opacity-30 scale-95 hover:opacity-50 hover:scale-100 ${l?"border-white/5":"border-black/5"}`}
                    `,children:[x.jsx("h3",{className:`font-display tracking-widest uppercase border-l-8 
                      ${nt?"text-4xl pl-6 border-l-8":!nt&&st?"text-2xl md:text-3xl pl-4 border-l-4":"text-2xl md:text-4xl pl-6"} 
                      transition-colors duration-500 
                      ${et?"text-white border-white/80":l?"text-neon-orange border-neon-orange":"text-orange-600 border-orange-400"}
                    `,children:S.title}),x.jsx("div",{className:`font-mono leading-relaxed 
                      ${nt?"text-2xl pl-6":!nt&&st?"text-lg md:text-xl pl-4":"text-xl md:text-2xl pl-8"} 
                      transition-colors duration-500 
                      ${et?"text-white font-semibold":l?"text-gray-400":"text-gray-600"}
                    `,children:S.content.split(`
`).map((vt,Tt)=>{const ae=vt.trim().replace(/\s*\([^)]*\)/g,"").trim();return ae?ae.startsWith("-")?x.jsxs("div",{className:`flex items-start ${nt?"gap-3":"gap-4"} mb-1`,children:[x.jsx("span",{className:`font-bold shrink-0 ${nt?"text-2xl min-w-[20px]":"text-2xl min-w-[20px] mt-1"} ${W?"text-white":"text-neon-orange"}`,children:"-"}),x.jsx("span",{children:ae.substring(1).trim()})]},Tt):x.jsx("div",{className:"mb-1 min-h-[1rem] whitespace-pre-wrap",children:ae},Tt):null})})]},S.id)})})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"text-xs text-neon-orange font-bold uppercase tracking-wider mb-2 block",children:"Nombre del Entrenamiento"}),x.jsxs("div",{className:`flex items-center gap-2 border rounded-lg px-3 py-2 focus-within:border-neon-orange focus-within:ring-1 focus-within:ring-neon-orange/50 transition-colors
                ${l?"bg-black/40 border-neutral-700":"bg-gray-50 border-gray-200"}
              `,children:[x.jsx($S,{size:18,className:"text-gray-500"}),x.jsx("input",{type:"text",value:g,onChange:S=>y(S.target.value),className:`bg-transparent border-none w-full focus:outline-none font-display tracking-wide text-lg
                    ${l?"text-white placeholder-gray-600":"text-gray-900 placeholder-gray-400"}
                  `,placeholder:"Ttulo general del WOD..."})]})]}),x.jsxs("div",{className:"flex flex-col gap-4",children:[_.map((S,L)=>x.jsxs("div",{className:`border rounded-lg p-3 transition-all duration-300 
                    ${A===S.id?`border-neon-orange/50 ${l?"bg-white/10":"bg-orange-50"}`:`${l?"bg-white/5 border-white/10":"bg-white border-gray-200"}`}
                  `,onClick:()=>D(S.id),children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsxs("div",{className:"flex items-center gap-2 w-full",children:[x.jsxs("span",{className:"text-gray-500 font-mono text-xs",children:[L+1,"."]}),x.jsx("input",{type:"text",value:S.title,onChange:W=>he(S.id,"title",W.target.value),className:"bg-transparent border-none text-neon-orange font-bold w-full focus:outline-none placeholder-neon-orange/30 text-sm uppercase tracking-wide",placeholder:"Nombre de Seccin (ej: ENTRADA EN CALOR)"})]}),x.jsxs("div",{className:"flex gap-1",children:[x.jsx("button",{onClick:W=>{W.stopPropagation(),ht(S)},className:"text-gray-600 hover:text-neon-orange transition-colors p-1",title:"Copiar Seccin",children:x.jsx($_,{size:14})}),x.jsx("button",{onClick:W=>{W.stopPropagation(),ee(S.id)},className:"text-gray-600 hover:text-red-500 transition-colors p-1",children:x.jsx(W_,{size:14})})]})]}),x.jsx("textarea",{value:S.content,onChange:W=>he(S.id,"content",W.target.value),className:`w-full h-24 border rounded p-2 focus:border-neon-orange/30 focus:ring-0 outline-none resize-none font-mono text-sm leading-relaxed scrollbar-thin scrollbar-thumb-neon-orange/10
                      ${l?"bg-black/40 border-neutral-800 text-white placeholder-gray-600":"bg-white border-gray-200 text-gray-900 placeholder-gray-400"}
                    `,placeholder:"Describe los ejercicios de esta seccin..."})]},S.id)),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:I,className:"flex items-center justify-center gap-2 py-3 border-2 border-dashed border-white/10 rounded-lg text-gray-400 hover:text-white hover:border-white/30 hover:bg-white/5 transition-all group flex-1",children:[x.jsx(M0,{size:20,className:"group-hover:scale-110 transition-transform"}),x.jsx("span",{className:"font-bold text-sm uppercase tracking-wider",children:"Agregar Seccin"})]}),x.jsxs("button",{onClick:Ut,className:"flex items-center justify-center gap-2 py-3 border-2 border-dashed border-neon-orange/20 rounded-lg text-neon-orange/70 hover:text-neon-orange hover:border-neon-orange/50 hover:bg-neon-orange/5 transition-all group flex-1",title:"Pegar Seccin Copiada",children:[x.jsx(Y_,{size:20,className:"group-hover:scale-110 transition-transform"}),x.jsx("span",{className:"font-bold text-sm uppercase tracking-wider",children:"Pegar Seccin"})]})]})]})]})}),!B&&x.jsxs("div",{className:`px-4 py-3 border-t flex justify-between items-center gap-2 shrink-0 flex-wrap transition-colors
          ${l?"bg-wood-900/50 border-neutral-800":"bg-orange-50 border-orange-100"}
        `,children:[t?x.jsx("button",{onClick:k,className:"p-2 text-red-900/50 hover:text-red-500 hover:bg-red-900/10 rounded transition-colors",title:"Borrar WOD Completo",children:x.jsx(W_,{size:18})}):x.jsx("div",{}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:G,className:"p-2 text-neon-orange hover:bg-neon-orange/10 rounded transition-colors",title:"Copiar WOD",children:x.jsx($_,{size:18})}),x.jsx("button",{onClick:rt,className:"p-2 text-neon-orange hover:bg-neon-orange/10 rounded transition-colors",title:"Pegar WOD",children:x.jsx(Y_,{size:18})}),x.jsx("div",{className:"w-px bg-neutral-800 mx-1"}),x.jsxs("button",{onClick:O,className:"flex items-center gap-1.5 px-4 py-1.5 bg-neon-orange text-black font-bold rounded hover:bg-white hover:scale-105 transition-all shadow-[0_0_10px_rgba(255,95,31,0.3)] text-xs uppercase tracking-wide",children:[x.jsx(FS,{size:14}),x.jsx("span",{children:"Guardar"})]})]})]})]});return B&&R.current?Vx.createPortal(jt,R.current):jt},Ux=({date:r,onClose:t,onNewWod:n,onEditWod:s,isDarkMode:l,isVertical:c})=>{const[d,g]=mt.useState(r),[y,_]=mt.useState([]),[T,A]=mt.useState(!0),D=d.toISOString().split("T")[0];mt.useEffect(()=>{(async()=>{A(!0);try{const J=await Nx(D);_(J)}catch(J){console.error("Error loading WODs:",J)}finally{A(!1)}})()},[D]);const B=X=>{const J=new Date(X.target.value+"T12:00:00");g(J)};return x.jsxs("div",{className:`border rounded-xl shadow-[0_0_40px_rgba(255,95,31,0.25)] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200 transition-colors
      ${c?"w-[60vh] h-auto":"w-[90vw] max-w-sm"}
      ${l?"bg-neutral-900 border-neon-orange":"bg-white border-orange-300"}
    `,children:[x.jsxs("div",{className:`px-5 py-3 border-b flex justify-between items-center transition-colors
        ${l?"bg-wood-800 border-neutral-800":"bg-orange-50 border-orange-100"}
      `,children:[x.jsx("h2",{className:`text-lg font-display uppercase tracking-wider ${l?"text-white":"text-gray-800"}`,children:"Cargar WOD"}),x.jsx("button",{onClick:t,className:`transition-colors ${l?"text-gray-500 hover:text-white":"text-gray-400 hover:text-gray-800"}`,children:x.jsx(bm,{size:20})})]}),x.jsxs("div",{className:`p-6 flex flex-col gap-4 max-h-[60vh] overflow-y-auto transition-colors ${l?"bg-neutral-900/95":"bg-white"}`,children:[x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("label",{className:"text-xs text-neon-orange font-bold uppercase tracking-wider flex items-center gap-2",children:[x.jsx(lS,{size:14}),"Seleccionar Fecha"]}),x.jsx("input",{type:"date",value:D,onChange:B,className:`w-full border rounded-lg px-4 py-3 font-mono text-lg focus:border-neon-orange focus:ring-1 focus:ring-neon-orange/50 outline-none transition-all
              ${l?"bg-black/40 border-neutral-700 text-white [color-scheme:dark]":"bg-gray-50 border-gray-200 text-gray-800 [color-scheme:light]"}
            `})]}),x.jsx("div",{className:`text-center py-2 border-y ${l?"border-white/10":"border-gray-100"}`,children:x.jsx("span",{className:`font-display text-xl tracking-wider ${l?"text-white":"text-orange-900"}`,children:d.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})}),T&&x.jsx("div",{className:"flex justify-center py-2",children:x.jsx(Dl,{className:"animate-spin text-neon-orange",size:24})}),!T&&y.length>0&&x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider mb-1",children:"Entrenamientos en esta fecha:"}),y.map(X=>x.jsxs("button",{onClick:()=>s(X.id),className:`flex items-center gap-3 p-3 border rounded-lg transition-all text-left group
                  ${l?"bg-white/5 border-white/10 hover:bg-white/10 hover:border-neon-orange/50":"bg-gray-50 border-gray-200 hover:bg-orange-50 hover:border-orange-300"}
                `,children:[x.jsx(ES,{size:18,className:"text-neon-orange group-hover:scale-110 transition-transform"}),x.jsx("span",{className:`font-mono text-sm truncate w-full ${l?"text-white":"text-gray-800"}`,children:X.title})]},X.id))]}),x.jsxs("button",{onClick:()=>n(d),className:"group flex items-center justify-center gap-3 w-full p-4 bg-neon-orange/10 border border-neon-orange/50 rounded-lg hover:bg-neon-orange hover:text-black hover:border-neon-orange hover:shadow-[0_0_15px_rgba(255,95,31,0.5)] transition-all duration-300 mt-2",children:[x.jsx("div",{className:"p-2 bg-neon-orange/20 rounded-full group-hover:bg-black/20 transition-colors",children:x.jsx(M0,{size:24,className:"group-hover:scale-110 transition-transform"})}),x.jsx("span",{className:"font-display text-xl tracking-wider uppercase",children:"Cargar Nuevo WOD"})]})]})]})},d1=mt.createContext(void 0),m1=()=>{const r=mt.useContext(d1);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},Lx=({children:r})=>{const[t,n]=mt.useState(null),[s,l]=mt.useState(!0),[c,d]=mt.useState(null);mt.useEffect(()=>{const D=rN(Al,B=>{n(B),l(!1)});return()=>D()},[]);const A={user:t,loading:s,error:c,signIn:async(D,B)=>{try{d(null),l(!0),await eN(Al,D,B)}catch(X){throw console.error("Sign in error:",X),X.code==="auth/user-not-found"||X.code==="auth/wrong-password"?d("Email o contrasea incorrectos"):X.code==="auth/invalid-email"?d("Email invlido"):X.code==="auth/too-many-requests"?d("Demasiados intentos. Intenta ms tarde."):d("Error al iniciar sesin"),X}finally{l(!1)}},signUp:async(D,B)=>{try{d(null),l(!0),await tN(Al,D,B)}catch(X){throw console.error("Sign up error:",X),X.code==="auth/email-already-in-use"?d("Este email ya est registrado"):X.code==="auth/weak-password"?d("La contrasea debe tener al menos 6 caracteres"):X.code==="auth/invalid-email"?d("Email invlido"):d("Error al registrarse"),X}finally{l(!1)}},signOut:async()=>{try{l(!0),await sN(Al)}catch(D){console.error("Sign out error:",D),d("Error al cerrar sesin")}finally{l(!1)}},clearError:()=>d(null)};return x.jsx(d1.Provider,{value:A,children:r})},Px=()=>{const[r,t]=mt.useState(!0),[n,s]=mt.useState(""),[l,c]=mt.useState(""),[d,g]=mt.useState(""),[y,_]=mt.useState(null),[T,A]=mt.useState(!1),{signIn:D,signUp:B,error:X,clearError:J}=m1(),tt=async st=>{if(st.preventDefault(),_(null),J(),!n.trim()||!l.trim()){_("Por favor completa todos los campos");return}if(!r&&l!==d){_("Las contraseas no coinciden");return}if(!r&&l.length<6){_("La contrasea debe tener al menos 6 caracteres");return}A(!0);try{r?await D(n,l):await B(n,l)}catch{}finally{A(!1)}},nt=()=>{t(!r),_(null),J(),g("")},ct=y||X;return x.jsxs("div",{className:"min-h-screen w-full bg-wood-900 flex items-center justify-center p-4",children:[x.jsx("div",{className:"absolute inset-0 bg-wood-pattern bg-cover opacity-20 pointer-events-none mix-blend-overlay"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-black/60 pointer-events-none"}),x.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[x.jsx("div",{className:"text-center mb-8 flex justify-center",children:x.jsx("img",{src:"logo.png",alt:"ENUAR W.O.D",className:"w-48 drop-shadow-2xl shadow-black"})}),x.jsx("div",{className:"font-bold tracking-[0.5em] text-sm md:text-lg text-white opacity-80 text-center -mt-6 mb-8",children:"W.O.D"}),x.jsxs("div",{className:"bg-neutral-900/95 border border-neon-orange/30 rounded-2xl shadow-[0_0_40px_rgba(255,95,31,0.2)] p-8 backdrop-blur-md",children:[x.jsx("h2",{className:"text-2xl font-display text-white text-center mb-6 tracking-wider uppercase",children:r?"Iniciar Sesin":"Registrarse"}),x.jsxs("form",{onSubmit:tt,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-xs text-neon-orange font-bold uppercase tracking-wider block",children:"Email"}),x.jsxs("div",{className:"flex items-center gap-3 bg-black/40 border border-neutral-700 rounded-lg px-4 py-3 focus-within:border-neon-orange focus-within:ring-1 focus-within:ring-neon-orange/50 transition-all",children:[x.jsx(OS,{size:20,className:"text-gray-500"}),x.jsx("input",{type:"email",value:n,onChange:st=>s(st.target.value),placeholder:"tu@email.com",className:"bg-transparent border-none text-white w-full focus:outline-none placeholder-gray-600",disabled:T})]})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-xs text-neon-orange font-bold uppercase tracking-wider block",children:"Contrasea"}),x.jsxs("div",{className:"flex items-center gap-3 bg-black/40 border border-neutral-700 rounded-lg px-4 py-3 focus-within:border-neon-orange focus-within:ring-1 focus-within:ring-neon-orange/50 transition-all",children:[x.jsx(X_,{size:20,className:"text-gray-500"}),x.jsx("input",{type:"password",value:l,onChange:st=>c(st.target.value),placeholder:"",className:"bg-transparent border-none text-white w-full focus:outline-none placeholder-gray-600",disabled:T})]})]}),!r&&x.jsxs("div",{className:"space-y-1 animate-in fade-in slide-in-from-top-2 duration-200",children:[x.jsx("label",{className:"text-xs text-neon-orange font-bold uppercase tracking-wider block",children:"Confirmar Contrasea"}),x.jsxs("div",{className:"flex items-center gap-3 bg-black/40 border border-neutral-700 rounded-lg px-4 py-3 focus-within:border-neon-orange focus-within:ring-1 focus-within:ring-neon-orange/50 transition-all",children:[x.jsx(X_,{size:20,className:"text-gray-500"}),x.jsx("input",{type:"password",value:d,onChange:st=>g(st.target.value),placeholder:"",className:"bg-transparent border-none text-white w-full focus:outline-none placeholder-gray-600",disabled:T})]})]}),ct&&x.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-900/30 border border-red-500/30 rounded-lg text-red-400 text-sm animate-in fade-in slide-in-from-top-2 duration-200",children:[x.jsx(pS,{size:18,className:"shrink-0"}),x.jsx("span",{children:ct})]}),x.jsxs("button",{type:"submit",disabled:T,className:"w-full flex items-center justify-center gap-2 py-3 bg-neon-orange text-black font-bold rounded-lg hover:bg-white hover:scale-105 transition-all shadow-[0_0_20px_rgba(255,95,31,0.4)] text-sm uppercase tracking-wider disabled:opacity-50 disabled:hover:scale-100 disabled:hover:bg-neon-orange",children:[T?x.jsx(Dl,{size:20,className:"animate-spin"}):r?x.jsx(CS,{size:20}):x.jsx(ZS,{size:20}),x.jsx("span",{children:T?"Cargando...":r?"Entrar":"Crear Cuenta"})]})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsx("button",{onClick:nt,disabled:T,className:"text-gray-400 hover:text-neon-orange transition-colors text-sm disabled:opacity-50",children:r?x.jsxs(x.Fragment,{children:["No tienes cuenta? ",x.jsx("span",{className:"font-bold text-neon-orange",children:"Regstrate"})]}):x.jsxs(x.Fragment,{children:["Ya tienes cuenta? ",x.jsx("span",{className:"font-bold text-neon-orange",children:"Inicia Sesin"})]})})})]}),x.jsx("div",{className:"text-center mt-6 text-gray-500 text-xs",children:"CrossFit W.O.D Manager"})]})]})};function zx(){const{user:r,loading:t,signOut:n}=m1(),[s,l]=mt.useState(()=>{const O=localStorage.getItem("appRotation");return O?parseInt(O,10):0}),[c,d]=mt.useState(null),[g,y]=mt.useState("none"),[_,T]=mt.useState(void 0),[A,D]=mt.useState(0),[B,X]=mt.useState(!1),[J,tt]=mt.useState(!0),[nt,ct]=mt.useState(!1);mt.useEffect(()=>{r&&!t&&(async()=>{ct(!0);try{const k=await Ox();k>0&&(console.log(`Migrated ${k} WODs from localStorage to Firestore`),D(I=>I+1))}catch(k){console.error("Migration error:",k)}finally{ct(!1)}})()},[r,t]);const st=()=>{l(O=>{const k=(O+90)%360;return localStorage.setItem("appRotation",k.toString()),k})},Ct=O=>{d(O),y("options")},At=()=>{d(null),y("none"),T(void 0)},_t=O=>{O&&d(O),T(void 0),y("editor")},N=O=>{T(O),y("editor")},w=()=>{D(O=>O+1)},R=async()=>{X(!1),await n()};if(t)return x.jsxs("div",{className:"min-h-screen w-full bg-wood-900 flex items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 bg-wood-pattern bg-cover opacity-20 pointer-events-none mix-blend-overlay"}),x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx(Dl,{size:48,className:"animate-spin text-neon-orange"}),x.jsx("span",{className:"text-white font-bold",children:"Cargando..."})]})]});if(!r)return x.jsx(Px,{});if(nt)return x.jsxs("div",{className:"min-h-screen w-full bg-wood-900 flex items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 bg-wood-pattern bg-cover opacity-20 pointer-events-none mix-blend-overlay"}),x.jsxs("div",{className:"flex flex-col items-center gap-4",children:[x.jsx(Dl,{size:48,className:"animate-spin text-neon-orange"}),x.jsx("span",{className:"text-white font-bold",children:"Migrando datos..."}),x.jsx("span",{className:"text-gray-400 text-sm",children:"Esto solo sucede una vez"})]})]});const V=s===90||s===270;return x.jsxs("div",{className:`relative h-screen w-full flex items-center justify-center overflow-hidden transition-colors duration-500 ${J?"bg-wood-900":"bg-gradient-to-br from-orange-50 via-white to-amber-50"}`,children:[J?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute inset-0 bg-wood-pattern bg-cover opacity-20 pointer-events-none mix-blend-overlay"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-black/60 pointer-events-none"})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-100/50 via-transparent to-amber-100/50 pointer-events-none"}),x.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-neon-orange/10 rounded-full blur-3xl pointer-events-none"}),x.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-amber-300/20 rounded-full blur-3xl pointer-events-none"})]}),x.jsxs("div",{className:"fixed top-6 right-6 z-50 flex gap-4 items-start",children:[x.jsxs("button",{onClick:st,className:`group flex flex-col items-center justify-center bg-transparent transition-colors ${J?"text-white hover:text-neon-orange":"text-gray-700 hover:text-neon-orange"}`,children:[x.jsx("div",{className:"border-2 border-dashed border-current rounded-full p-2 group-hover:neon-box transition-all",children:x.jsx(V0,{size:16})}),x.jsx("span",{className:"text-[9px] font-bold mt-1",children:"360"})]}),x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:()=>X(!B),className:`transition-colors ${J?"text-white hover:text-neon-orange":"text-gray-700 hover:text-neon-orange"}`,children:B?x.jsx(bm,{size:24}):x.jsx(US,{size:24})}),B&&x.jsx("div",{className:`absolute top-14 right-0 border rounded-xl shadow-[0_0_30px_rgba(255,95,31,0.2)] backdrop-blur-md min-w-[220px] overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 ${J?"bg-neutral-900/95 border-neon-orange/30":"bg-white/95 border-orange-200"}`,children:x.jsxs("div",{className:"py-2",children:[x.jsx("div",{className:`px-5 py-2 text-xs truncate ${J?"text-gray-400":"text-gray-500"}`,children:r.email}),x.jsx("div",{className:`border-t my-1 ${J?"border-white/10":"border-gray-200"}`}),x.jsxs("button",{onClick:()=>tt(!J),className:`w-full flex items-center gap-3 px-5 py-3 text-left hover:bg-neon-orange/10 hover:text-neon-orange transition-colors ${J?"text-white":"text-gray-700"}`,children:[J?x.jsx(QS,{size:20}):x.jsx(jS,{size:20}),x.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:J?"Modo Claro":"Modo Oscuro"})]}),x.jsx("div",{className:`border-t my-1 ${J?"border-white/10":"border-gray-200"}`}),x.jsxs("button",{onClick:()=>{X(!1),d(new Date),y("options")},className:`w-full flex items-center gap-3 px-5 py-3 text-left hover:bg-neon-orange/10 hover:text-neon-orange transition-colors ${J?"text-white":"text-gray-700"}`,children:[x.jsx(WS,{size:20}),x.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Cargar WOD"})]}),x.jsx("div",{className:`border-t my-1 ${J?"border-white/10":"border-gray-200"}`}),x.jsxs("button",{onClick:R,className:"w-full flex items-center gap-3 px-5 py-3 text-left text-gray-400 hover:bg-red-900/10 hover:text-red-400 transition-colors",children:[x.jsx(xS,{size:20}),x.jsx("span",{className:"font-bold text-sm uppercase tracking-wide",children:"Cerrar Sesin"})]})]})})]})]}),x.jsxs("div",{className:`transition-all duration-500 ease-in-out shadow-2xl border ${J?"bg-black/20 backdrop-blur-sm border-white/5":"bg-white/40 backdrop-blur-md border-orange-200/50"}`,style:{transform:`rotate(${s}deg)`,width:V?"100vh":"100vw",height:V?"100vw":"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2rem"},children:[x.jsxs("div",{className:`text-left z-20 transition-all duration-500
          ${V?"absolute top-[12%] left-0 w-full flex flex-col items-center":"absolute top-10 left-10 md:left-20"}
        `,children:[x.jsx("img",{src:"logo.png",alt:"ENUAR W.O.D",className:`drop-shadow-2xl ${V?"w-32 md:w-36":"w-28 md:w-40"} ${J?"shadow-black":""}`}),x.jsx("div",{className:`font-bold tracking-[0.5em] ml-1 text-center opacity-80 mt-2 
            ${V?"text-sm md:text-base":"text-sm md:text-lg block"} 
            ${J?"text-white":"text-gray-600"}
          `,children:"W.O.D"})]}),x.jsx("div",{className:"w-full max-w-4xl z-10 mt-20 md:mt-0",children:x.jsx(Mx,{onDateSelect:Ct,isDarkMode:J,isVertical:V},A)})]}),c&&g!=="none"&&x.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[x.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:At}),x.jsxs("div",{style:{transform:`rotate(${s}deg)`},className:"relative z-10 transition-transform duration-500",children:[g==="options"&&x.jsx(Ux,{date:c,onClose:At,onNewWod:_t,onEditWod:N,isDarkMode:J,isVertical:V}),g==="editor"&&x.jsx(kx,{date:c,wodId:_,onClose:At,onSave:w,isDarkMode:J,isVertical:V})]})]})]})}function jx(){return x.jsx(Lx,{children:x.jsx(zx,{})})}const g1=document.getElementById("root");if(!g1)throw new Error("Could not find root element to mount to");const Bx=eS.createRoot(g1);Bx.render(x.jsx(x0.StrictMode,{children:x.jsx(jx,{})}));
